{
  "$id": "bytebase.store.WorkspaceProfileSetting.schema.strict.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "properties": {
    "announcement": {
      "$ref": "bytebase.store.WorkspaceProfileSetting.Announcement.schema.strict.json",
      "description": "The setting of custom announcement"
    },
    "branding_logo": {
      "description": "The branding logo as a data URI (e.g. data:image/png;base64,...).",
      "type": "string"
    },
    "database_change_mode": {
      "description": "The workspace database change mode.",
      "enum": [
        "DATABASE_CHANGE_MODE_UNSPECIFIED",
        "PIPELINE",
        "EDITOR"
      ],
      "title": "Database Change Mode",
      "type": "string"
    },
    "directory_sync_token": {
      "description": "The token for directory sync authentication.",
      "type": "string"
    },
    "disallow_password_signin": {
      "description": "Whether to disallow password signin. (Except workspace admins)",
      "type": "boolean"
    },
    "disallow_signup": {
      "description": "Disallow self-service signup, users can only be invited by the owner.",
      "type": "boolean"
    },
    "domains": {
      "description": "The workspace domain, e.g., bytebase.com.",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "enable_audit_log_stdout": {
      "description": "Whether to enable audit logging to stdout in structured JSON format.\n Requires TEAM or ENTERPRISE license.",
      "type": "boolean"
    },
    "enable_metric_collection": {
      "description": "Whether to enable metric collection for the workspace.",
      "type": "boolean"
    },
    "enforce_identity_domain": {
      "description": "Only user and group from the domains can be created and login.",
      "type": "boolean"
    },
    "external_url": {
      "description": "The external URL is used for sso authentication callback.",
      "type": "string"
    },
    "inactive_session_timeout": {
      "$ref": "google.protobuf.Duration.schema.strict.json",
      "description": "The session expiration time if not activity detected for the user. Value \u003c= 0 means no limit."
    },
    "maximum_role_expiration": {
      "$ref": "google.protobuf.Duration.schema.strict.json",
      "description": "The max duration for role expired."
    },
    "password_restriction": {
      "$ref": "bytebase.store.WorkspaceProfileSetting.PasswordRestriction.schema.strict.json",
      "description": "Password restriction settings."
    },
    "require_2fa": {
      "description": "Require 2FA for all users.",
      "type": "boolean"
    },
    "token_duration": {
      "$ref": "google.protobuf.Duration.schema.strict.json",
      "description": "The duration for token."
    },
    "watermark": {
      "description": "Whether to display watermark on pages.\n Requires ENTERPRISE license.",
      "type": "boolean"
    }
  },
  "required": [
    "external_url",
    "disallow_signup",
    "require_2fa",
    "enforce_identity_domain",
    "database_change_mode",
    "disallow_password_signin",
    "enable_metric_collection",
    "enable_audit_log_stdout",
    "watermark",
    "directory_sync_token",
    "branding_logo"
  ],
  "title": "Workspace Profile Setting",
  "type": "object"
}
