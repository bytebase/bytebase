{
  "$id": "bytebase.store.TableMetadata.jsonschema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "TableMetadata is the metadata for tables.",
  "patternProperties": {
    "^(check_constraints)$": {
      "description": "The check_constraints is the list of check constraints in a table.",
      "items": {
        "$ref": "bytebase.store.CheckConstraintMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "^(create_options)$": {
      "default": "",
      "description": "The create_options is the create option of a table.",
      "type": "string"
    },
    "^(data_free)$": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The data_free is the estimated free data size of a table."
    },
    "^(data_size)$": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The data_size is the estimated data size of a table."
    },
    "^(exclude_constraints)$": {
      "description": "The exclude_constraints is the list of EXCLUDE constraints in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.ExcludeConstraintMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "^(foreign_keys)$": {
      "description": "The foreign_keys is the list of foreign keys in a table.",
      "items": {
        "$ref": "bytebase.store.ForeignKeyMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "^(index_size)$": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The index_size is the estimated index size of a table."
    },
    "^(primary_key_type)$": {
      "default": "",
      "description": "https://docs.pingcap.com/tidb/stable/clustered-indexes/#clustered-indexes\n CLUSTERED or NONCLUSTERED.",
      "type": "string"
    },
    "^(row_count)$": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The row_count is the estimated number of rows of a table."
    },
    "^(sharding_info)$": {
      "default": "",
      "description": "https://docs.pingcap.com/tidb/stable/information-schema-tables/",
      "type": "string"
    },
    "^(skip_dump)$": {
      "default": false,
      "type": "boolean"
    },
    "^(sorting_keys)$": {
      "description": "The sorting_keys is a tuple of column names or arbitrary expressions. ClickHouse specific field.\n Reference: https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree#order_by",
      "items": {
        "type": "string"
      },
      "type": "array"
    }
  },
  "properties": {
    "charset": {
      "default": "",
      "description": "The character set of the table.",
      "type": "string"
    },
    "checkConstraints": {
      "description": "The check_constraints is the list of check constraints in a table.",
      "items": {
        "$ref": "bytebase.store.CheckConstraintMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "collation": {
      "default": "",
      "description": "The collation is the collation of a table.",
      "type": "string"
    },
    "columns": {
      "description": "The columns is the ordered list of columns in a table.",
      "items": {
        "$ref": "bytebase.store.ColumnMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "comment": {
      "default": "",
      "description": "The comment is the comment of a table.",
      "type": "string"
    },
    "createOptions": {
      "default": "",
      "description": "The create_options is the create option of a table.",
      "type": "string"
    },
    "dataFree": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The data_free is the estimated free data size of a table."
    },
    "dataSize": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The data_size is the estimated data size of a table."
    },
    "engine": {
      "default": "",
      "description": "The engine is the engine of a table.",
      "type": "string"
    },
    "excludeConstraints": {
      "description": "The exclude_constraints is the list of EXCLUDE constraints in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.ExcludeConstraintMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "foreignKeys": {
      "description": "The foreign_keys is the list of foreign keys in a table.",
      "items": {
        "$ref": "bytebase.store.ForeignKeyMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "indexSize": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The index_size is the estimated index size of a table."
    },
    "indexes": {
      "description": "The indexes is the list of indexes in a table.",
      "items": {
        "$ref": "bytebase.store.IndexMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "name": {
      "default": "",
      "description": "The name of the table.",
      "type": "string"
    },
    "owner": {
      "default": "",
      "type": "string"
    },
    "partitions": {
      "description": "The partitions is the list of partitions in a table.",
      "items": {
        "$ref": "bytebase.store.TablePartitionMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "primaryKeyType": {
      "default": "",
      "description": "https://docs.pingcap.com/tidb/stable/clustered-indexes/#clustered-indexes\n CLUSTERED or NONCLUSTERED.",
      "type": "string"
    },
    "rowCount": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The row_count is the estimated number of rows of a table."
    },
    "rules": {
      "description": "The rules is the list of rules in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.RuleMetadata.jsonschema.json"
      },
      "type": "array"
    },
    "shardingInfo": {
      "default": "",
      "description": "https://docs.pingcap.com/tidb/stable/information-schema-tables/",
      "type": "string"
    },
    "skipDump": {
      "default": false,
      "type": "boolean"
    },
    "sortingKeys": {
      "description": "The sorting_keys is a tuple of column names or arbitrary expressions. ClickHouse specific field.\n Reference: https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree#order_by",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "triggers": {
      "items": {
        "$ref": "bytebase.store.TriggerMetadata.jsonschema.json"
      },
      "type": "array"
    }
  },
  "title": "Table Metadata",
  "type": "object"
}
