{
  "$id": "bytebase.store.Task.jsonschema.strict.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Task is the metadata for database operation tasks.",
  "properties": {
    "characterSet": {
      "description": "Character set for the new database.",
      "type": "string"
    },
    "collation": {
      "description": "Collation for the new database.",
      "type": "string"
    },
    "databaseName": {
      "description": "Name of the database to create.",
      "type": "string"
    },
    "enableGhost": {
      "description": "Whether to use gh-ost for online schema migration.",
      "type": "boolean"
    },
    "enablePriorBackup": {
      "description": "Whether to create an automatic backup before applying changes.",
      "type": "boolean"
    },
    "environmentId": {
      "description": "The environment where the database will be created.",
      "type": "string"
    },
    "flags": {
      "additionalProperties": {
        "type": "string"
      },
      "description": "Configuration flags for gh-ost migration tool.",
      "propertyNames": {
        "type": "string"
      },
      "type": "object"
    },
    "format": {
      "description": "Format of the exported data (SQL, CSV, JSON, etc).",
      "enum": [
        "FORMAT_UNSPECIFIED",
        "CSV",
        "JSON",
        "SQL",
        "XLSX"
      ],
      "title": "Export Format",
      "type": "string"
    },
    "password": {
      "description": "Password to encrypt the exported data archive.",
      "type": "string"
    },
    "schemaVersion": {
      "description": "Schema version after migration is applied.",
      "type": "string"
    },
    "sheetId": {
      "description": "The sheet ID containing SQL statements for this task.",
      "maximum": 2147483647,
      "minimum": -2147483648,
      "type": "integer"
    },
    "skipped": {
      "description": "Whether the task was skipped during execution.",
      "type": "boolean"
    },
    "skippedReason": {
      "description": "Reason why the task was skipped.",
      "type": "string"
    },
    "specId": {
      "description": "UUID that identifies the spec this task implements.",
      "type": "string"
    },
    "tableName": {
      "description": "Optional table name to create (required for some databases like MongoDB).",
      "type": "string"
    },
    "taskReleaseSource": {
      "$ref": "bytebase.store.TaskReleaseSource.jsonschema.strict.json",
      "description": "Source information if task is created from a release."
    }
  },
  "required": [
    "skipped",
    "skippedReason",
    "specId",
    "sheetId",
    "environmentId",
    "databaseName",
    "tableName",
    "characterSet",
    "collation",
    "schemaVersion",
    "enablePriorBackup",
    "enableGhost",
    "password",
    "format"
  ],
  "title": "Task",
  "type": "object"
}
