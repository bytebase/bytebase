{
  "$id": "bytebase.store.TableMetadata.schema.strict.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "TableMetadata is the metadata for tables.",
  "properties": {
    "charset": {
      "description": "The character set of the table.",
      "type": "string"
    },
    "check_constraints": {
      "description": "The check_constraints is the list of check constraints in a table.",
      "items": {
        "$ref": "bytebase.store.CheckConstraintMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "collation": {
      "description": "The collation is the collation of a table.",
      "type": "string"
    },
    "columns": {
      "description": "The columns is the ordered list of columns in a table.",
      "items": {
        "$ref": "bytebase.store.ColumnMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "comment": {
      "description": "The comment is the comment of a table.",
      "type": "string"
    },
    "create_options": {
      "description": "The create_options is the create option of a table.",
      "type": "string"
    },
    "data_free": {
      "description": "The data_free is the estimated free data size of a table.",
      "type": "integer"
    },
    "data_size": {
      "description": "The data_size is the estimated data size of a table.",
      "type": "integer"
    },
    "engine": {
      "description": "The engine is the engine of a table.",
      "type": "string"
    },
    "exclude_constraints": {
      "description": "The exclude_constraints is the list of EXCLUDE constraints in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.ExcludeConstraintMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "foreign_keys": {
      "description": "The foreign_keys is the list of foreign keys in a table.",
      "items": {
        "$ref": "bytebase.store.ForeignKeyMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "index_size": {
      "description": "The index_size is the estimated index size of a table.",
      "type": "integer"
    },
    "indexes": {
      "description": "The indexes is the list of indexes in a table.",
      "items": {
        "$ref": "bytebase.store.IndexMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "name": {
      "description": "The name of the table.",
      "type": "string"
    },
    "owner": {
      "type": "string"
    },
    "partitions": {
      "description": "The partitions is the list of partitions in a table.",
      "items": {
        "$ref": "bytebase.store.TablePartitionMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "primary_key_type": {
      "description": "https://docs.pingcap.com/tidb/stable/clustered-indexes/#clustered-indexes\n CLUSTERED or NONCLUSTERED.",
      "type": "string"
    },
    "row_count": {
      "description": "The row_count is the estimated number of rows of a table.",
      "type": "integer"
    },
    "rules": {
      "description": "The rules is the list of rules in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.RuleMetadata.schema.strict.json"
      },
      "type": "array"
    },
    "sharding_info": {
      "description": "https://docs.pingcap.com/tidb/stable/information-schema-tables/",
      "type": "string"
    },
    "skip_dump": {
      "type": "boolean"
    },
    "sorting_keys": {
      "description": "The sorting_keys is a tuple of column names or arbitrary expressions. ClickHouse specific field.\n Reference: https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree#order_by",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "triggers": {
      "items": {
        "$ref": "bytebase.store.TriggerMetadata.schema.strict.json"
      },
      "type": "array"
    }
  },
  "required": [
    "name",
    "engine",
    "collation",
    "charset",
    "row_count",
    "data_size",
    "index_size",
    "data_free",
    "create_options",
    "comment",
    "owner",
    "skip_dump",
    "sharding_info",
    "primary_key_type"
  ],
  "title": "Table Metadata",
  "type": "object"
}
