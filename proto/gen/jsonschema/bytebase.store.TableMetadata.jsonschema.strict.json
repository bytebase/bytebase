{
  "$id": "bytebase.store.TableMetadata.jsonschema.strict.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "TableMetadata is the metadata for tables.",
  "properties": {
    "charset": {
      "description": "The character set of the table.",
      "type": "string"
    },
    "checkConstraints": {
      "description": "The check_constraints is the list of check constraints in a table.",
      "items": {
        "$ref": "bytebase.store.CheckConstraintMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "collation": {
      "description": "The collation is the collation of a table.",
      "type": "string"
    },
    "columns": {
      "description": "The columns is the ordered list of columns in a table.",
      "items": {
        "$ref": "bytebase.store.ColumnMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "comment": {
      "description": "The comment is the comment of a table.",
      "type": "string"
    },
    "createOptions": {
      "description": "The create_options is the create option of a table.",
      "type": "string"
    },
    "dataFree": {
      "description": "The data_free is the estimated free data size of a table.",
      "type": "integer"
    },
    "dataSize": {
      "description": "The data_size is the estimated data size of a table.",
      "type": "integer"
    },
    "engine": {
      "description": "The engine is the engine of a table.",
      "type": "string"
    },
    "excludeConstraints": {
      "description": "The exclude_constraints is the list of EXCLUDE constraints in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.ExcludeConstraintMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "foreignKeys": {
      "description": "The foreign_keys is the list of foreign keys in a table.",
      "items": {
        "$ref": "bytebase.store.ForeignKeyMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "indexSize": {
      "description": "The index_size is the estimated index size of a table.",
      "type": "integer"
    },
    "indexes": {
      "description": "The indexes is the list of indexes in a table.",
      "items": {
        "$ref": "bytebase.store.IndexMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "name": {
      "description": "The name of the table.",
      "type": "string"
    },
    "owner": {
      "type": "string"
    },
    "partitions": {
      "description": "The partitions is the list of partitions in a table.",
      "items": {
        "$ref": "bytebase.store.TablePartitionMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "primaryKeyType": {
      "description": "https://docs.pingcap.com/tidb/stable/clustered-indexes/#clustered-indexes\n CLUSTERED or NONCLUSTERED.",
      "type": "string"
    },
    "rowCount": {
      "description": "The row_count is the estimated number of rows of a table.",
      "type": "integer"
    },
    "rules": {
      "description": "The rules is the list of rules in a table (PostgreSQL specific).",
      "items": {
        "$ref": "bytebase.store.RuleMetadata.jsonschema.strict.json"
      },
      "type": "array"
    },
    "shardingInfo": {
      "description": "https://docs.pingcap.com/tidb/stable/information-schema-tables/",
      "type": "string"
    },
    "skipDump": {
      "type": "boolean"
    },
    "sortingKeys": {
      "description": "The sorting_keys is a tuple of column names or arbitrary expressions. ClickHouse specific field.\n Reference: https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree#order_by",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "triggers": {
      "items": {
        "$ref": "bytebase.store.TriggerMetadata.jsonschema.strict.json"
      },
      "type": "array"
    }
  },
  "required": [
    "name",
    "engine",
    "collation",
    "charset",
    "rowCount",
    "dataSize",
    "indexSize",
    "dataFree",
    "createOptions",
    "comment",
    "owner",
    "skipDump",
    "shardingInfo",
    "primaryKeyType"
  ],
  "title": "Table Metadata",
  "type": "object"
}
