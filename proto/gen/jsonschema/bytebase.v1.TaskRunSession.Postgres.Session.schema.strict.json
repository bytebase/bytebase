{
  "$id": "bytebase.v1.TaskRunSession.Postgres.Session.schema.strict.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "PostgreSQL session information read from `pg_stat_activity`.",
  "properties": {
    "application_name": {
      "description": "Application name.",
      "type": "string"
    },
    "backend_start": {
      "$ref": "google.protobuf.Timestamp.schema.strict.json",
      "description": "When the backend process started."
    },
    "blocked_by_pids": {
      "description": "PIDs of sessions blocking this session.",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "client_addr": {
      "description": "Client IP address.",
      "type": "string"
    },
    "client_port": {
      "description": "Client port number.",
      "type": "string"
    },
    "datname": {
      "description": "Database name.",
      "type": "string"
    },
    "pid": {
      "description": "Process ID of the session.",
      "type": "string"
    },
    "query": {
      "description": "Current query being executed.",
      "type": "string"
    },
    "query_start": {
      "$ref": "google.protobuf.Timestamp.schema.strict.json",
      "description": "When the current query started."
    },
    "state": {
      "description": "Session state (active, idle, etc.).",
      "type": "string"
    },
    "usename": {
      "description": "User name.",
      "type": "string"
    },
    "wait_event": {
      "description": "Specific wait event if session is waiting.",
      "type": "string"
    },
    "wait_event_type": {
      "description": "Wait event type if session is waiting.",
      "type": "string"
    },
    "xact_start": {
      "$ref": "google.protobuf.Timestamp.schema.strict.json",
      "description": "When the current transaction started."
    }
  },
  "required": [
    "pid",
    "query",
    "application_name"
  ],
  "title": "Session",
  "type": "object"
}
