{
  "$id": "bytebase.v1.Project.jsonschema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "patternProperties": {
    "^(allow_modify_statement)$": {
      "default": false,
      "description": "Allow modifying SQL statements after issue is created.",
      "type": "boolean"
    },
    "^(allow_self_approval)$": {
      "default": false,
      "description": "Whether to allow issue creators to self-approve their own issues.",
      "type": "boolean"
    },
    "^(auto_enable_backup)$": {
      "default": false,
      "description": "Whether to automatically enable backup for database changes.",
      "type": "boolean"
    },
    "^(auto_resolve_issue)$": {
      "default": false,
      "description": "Enable automatic issue resolution when tasks complete.",
      "type": "boolean"
    },
    "^(ci_sampling_size)$": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of database rows to sample during CI data validation.\n Without specification, sampling is disabled, resulting in full validation."
    },
    "^(data_classification_config_id)$": {
      "default": "",
      "description": "The data classification configuration ID for the project.",
      "type": "string"
    },
    "^(enforce_issue_title)$": {
      "default": false,
      "description": "Enforce issue title to be created by user instead of generated by Bytebase.",
      "type": "boolean"
    },
    "^(enforce_sql_review)$": {
      "default": false,
      "description": "Whether to enforce SQL review checks to pass before issue creation.\n If enabled, issues cannot be created when SQL review finds errors.",
      "type": "boolean"
    },
    "^(execution_retry_policy)$": {
      "$ref": "bytebase.v1.Project.ExecutionRetryPolicy.jsonschema.json",
      "description": "Execution retry policy for task runs."
    },
    "^(force_issue_labels)$": {
      "default": false,
      "description": "Force issue labels to be used when creating an issue.",
      "type": "boolean"
    },
    "^(issue_labels)$": {
      "description": "Labels available for tagging issues in this project.",
      "items": {
        "$ref": "bytebase.v1.Label.jsonschema.json"
      },
      "type": "array"
    },
    "^(parallel_tasks_per_rollout)$": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of parallel tasks allowed during rollout execution."
    },
    "^(postgres_database_tenant_mode)$": {
      "default": false,
      "description": "Whether to enable database tenant mode for PostgreSQL.\n If enabled, issues will include \"set role \u003cdb_owner\u003e\" statement.",
      "type": "boolean"
    },
    "^(skip_backup_errors)$": {
      "default": false,
      "description": "Whether to skip backup errors and continue with data migration.",
      "type": "boolean"
    }
  },
  "properties": {
    "allowModifyStatement": {
      "default": false,
      "description": "Allow modifying SQL statements after issue is created.",
      "type": "boolean"
    },
    "allowSelfApproval": {
      "default": false,
      "description": "Whether to allow issue creators to self-approve their own issues.",
      "type": "boolean"
    },
    "autoEnableBackup": {
      "default": false,
      "description": "Whether to automatically enable backup for database changes.",
      "type": "boolean"
    },
    "autoResolveIssue": {
      "default": false,
      "description": "Enable automatic issue resolution when tasks complete.",
      "type": "boolean"
    },
    "ciSamplingSize": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of database rows to sample during CI data validation.\n Without specification, sampling is disabled, resulting in full validation."
    },
    "dataClassificationConfigId": {
      "default": "",
      "description": "The data classification configuration ID for the project.",
      "type": "string"
    },
    "enforceIssueTitle": {
      "default": false,
      "description": "Enforce issue title to be created by user instead of generated by Bytebase.",
      "type": "boolean"
    },
    "enforceSqlReview": {
      "default": false,
      "description": "Whether to enforce SQL review checks to pass before issue creation.\n If enabled, issues cannot be created when SQL review finds errors.",
      "type": "boolean"
    },
    "executionRetryPolicy": {
      "$ref": "bytebase.v1.Project.ExecutionRetryPolicy.jsonschema.json",
      "description": "Execution retry policy for task runs."
    },
    "forceIssueLabels": {
      "default": false,
      "description": "Force issue labels to be used when creating an issue.",
      "type": "boolean"
    },
    "issueLabels": {
      "description": "Labels available for tagging issues in this project.",
      "items": {
        "$ref": "bytebase.v1.Label.jsonschema.json"
      },
      "type": "array"
    },
    "labels": {
      "additionalProperties": {
        "type": "string"
      },
      "description": "Labels are key-value pairs that can be attached to the project.\n For example, { \"environment\": \"production\", \"team\": \"backend\" }",
      "propertyNames": {
        "type": "string"
      },
      "type": "object"
    },
    "name": {
      "default": "",
      "description": "The name of the project.\n Format: projects/{project}",
      "type": "string"
    },
    "parallelTasksPerRollout": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of parallel tasks allowed during rollout execution."
    },
    "postgresDatabaseTenantMode": {
      "default": false,
      "description": "Whether to enable database tenant mode for PostgreSQL.\n If enabled, issues will include \"set role \u003cdb_owner\u003e\" statement.",
      "type": "boolean"
    },
    "skipBackupErrors": {
      "default": false,
      "description": "Whether to skip backup errors and continue with data migration.",
      "type": "boolean"
    },
    "state": {
      "anyOf": [
        {
          "pattern": "^STATE_UNSPECIFIED$",
          "type": "string"
        },
        {
          "enum": [
            "ACTIVE",
            "DELETED"
          ],
          "type": "string"
        },
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        }
      ],
      "default": 0,
      "description": "The lifecycle state of the project.",
      "title": "State"
    },
    "title": {
      "default": "",
      "description": "The title or name of a project. It's not unique within the workspace.",
      "maxLength": 200,
      "type": "string"
    },
    "webhooks": {
      "description": "The list of webhooks configured for the project.",
      "items": {
        "$ref": "bytebase.v1.Webhook.jsonschema.json"
      },
      "type": "array"
    }
  },
  "title": "Project",
  "type": "object"
}
