{
  "$id": "google.api.expr.v1alpha1.Expr.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Expressions are abstractly represented as a collection of identifiers,\n select statements, function calls, literals, and comprehensions. All\n operators with the exception of the '.' operator are modelled as function\n calls. This makes it easy to represent new operators into the existing AST.\n\n All references within expressions must resolve to a\n [Decl][google.api.expr.v1alpha1.Decl] provided at type-check for an\n expression to be valid. A reference may either be a bare identifier `name` or\n a qualified identifier `google.api.name`. References may either refer to a\n value or a function declaration.\n\n For example, the expression `google.api.name.startsWith('expr')` references\n the declaration `google.api.name` within a\n [Expr.Select][google.api.expr.v1alpha1.Expr.Select] expression, and the\n function declaration `startsWith`.",
  "patternProperties": {
    "^(callExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Expr.Call.schema.json",
      "description": "A call expression, including calls to predefined functions and operators."
    },
    "^(comprehensionExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Expr.Comprehension.schema.json",
      "description": "A comprehension expression."
    },
    "^(constExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Constant.schema.json",
      "description": "A literal expression."
    },
    "^(identExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Expr.Ident.schema.json",
      "description": "An identifier expression."
    },
    "^(listExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Expr.CreateList.schema.json",
      "description": "A list creation expression."
    },
    "^(selectExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Expr.Select.schema.json",
      "description": "A field selection expression, e.g. `request.auth`."
    },
    "^(structExpr)$": {
      "$ref": "google.api.expr.v1alpha1.Expr.CreateStruct.schema.json",
      "description": "A map or message creation expression."
    }
  },
  "properties": {
    "call_expr": {
      "$ref": "google.api.expr.v1alpha1.Expr.Call.schema.json",
      "description": "A call expression, including calls to predefined functions and operators."
    },
    "comprehension_expr": {
      "$ref": "google.api.expr.v1alpha1.Expr.Comprehension.schema.json",
      "description": "A comprehension expression."
    },
    "const_expr": {
      "$ref": "google.api.expr.v1alpha1.Constant.schema.json",
      "description": "A literal expression."
    },
    "id": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "Required. An id assigned to this node by the parser which is unique in a\n given expression tree. This is used to associate type information and other\n attributes to a node in the parse tree."
    },
    "ident_expr": {
      "$ref": "google.api.expr.v1alpha1.Expr.Ident.schema.json",
      "description": "An identifier expression."
    },
    "list_expr": {
      "$ref": "google.api.expr.v1alpha1.Expr.CreateList.schema.json",
      "description": "A list creation expression."
    },
    "select_expr": {
      "$ref": "google.api.expr.v1alpha1.Expr.Select.schema.json",
      "description": "A field selection expression, e.g. `request.auth`."
    },
    "struct_expr": {
      "$ref": "google.api.expr.v1alpha1.Expr.CreateStruct.schema.json",
      "description": "A map or message creation expression."
    }
  },
  "title": "An abstract representation of a common expression.",
  "type": "object"
}
