{
  "$defs": {
    "bytebase.v1.DataSource.AWSCredential.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "accessKeyId": {
          "type": "string"
        },
        "externalId": {
          "description": "Optional external ID for additional security when assuming role.\n See: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user_externalid.html",
          "type": "string"
        },
        "roleArn": {
          "description": "ARN of IAM role to assume for cross-account access.\n See: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html",
          "type": "string"
        },
        "secretAccessKey": {
          "type": "string"
        },
        "sessionToken": {
          "type": "string"
        }
      },
      "required": [
        "accessKeyId",
        "secretAccessKey",
        "sessionToken",
        "roleArn",
        "externalId"
      ],
      "title": "AWS Credential",
      "type": "object"
    },
    "bytebase.v1.DataSource.Address.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "host": {
          "type": "string"
        },
        "port": {
          "type": "string"
        }
      },
      "required": [
        "host",
        "port"
      ],
      "title": "Address",
      "type": "object"
    },
    "bytebase.v1.DataSource.AzureCredential.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "clientId": {
          "type": "string"
        },
        "clientSecret": {
          "type": "string"
        },
        "tenantId": {
          "type": "string"
        }
      },
      "required": [
        "tenantId",
        "clientId",
        "clientSecret"
      ],
      "title": "Azure Credential",
      "type": "object"
    },
    "bytebase.v1.DataSource.GCPCredential.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "content": {
          "type": "string"
        }
      },
      "required": [
        "content"
      ],
      "title": "GCP Credential",
      "type": "object"
    },
    "bytebase.v1.DataSource.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "additionalAddresses": {
          "description": "additional_addresses is used for MongoDB replica set.",
          "items": {
            "$ref": "#/$defs/bytebase.v1.DataSource.Address.jsonschema.strict.json"
          },
          "type": "array"
        },
        "authenticationDatabase": {
          "description": "authentication_database is the database name to authenticate against, which stores the user credentials.",
          "type": "string"
        },
        "authenticationPrivateKey": {
          "description": "PKCS#8 private key in PEM format. If it's empty string, no private key is required.\n Used for authentication when connecting to the data source.",
          "type": "string"
        },
        "authenticationPrivateKeyPassphrase": {
          "description": "Passphrase for the encrypted PKCS#8 private key. Only used when the private key is encrypted.",
          "type": "string"
        },
        "authenticationType": {
          "enum": [
            "AUTHENTICATION_UNSPECIFIED",
            "PASSWORD",
            "GOOGLE_CLOUD_SQL_IAM",
            "AWS_RDS_IAM",
            "AZURE_IAM"
          ],
          "title": "Authentication Type",
          "type": "string"
        },
        "awsCredential": {
          "$ref": "#/$defs/bytebase.v1.DataSource.AWSCredential.jsonschema.strict.json"
        },
        "azureCredential": {
          "$ref": "#/$defs/bytebase.v1.DataSource.AzureCredential.jsonschema.strict.json"
        },
        "cluster": {
          "description": "Cluster is the cluster name for the data source. Used by CockroachDB.",
          "type": "string"
        },
        "database": {
          "description": "The name of the database to connect to.",
          "type": "string"
        },
        "directConnection": {
          "description": "direct_connection is used for MongoDB to dispatch all the operations to the node specified in the connection string.",
          "type": "boolean"
        },
        "externalSecret": {
          "$ref": "#/$defs/bytebase.v1.DataSourceExternalSecret.jsonschema.strict.json"
        },
        "extraConnectionParameters": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Extra connection parameters for the database connection.\n For PostgreSQL HA, this can be used to set target_session_attrs=read-write",
          "propertyNames": {
            "type": "string"
          },
          "type": "object"
        },
        "gcpCredential": {
          "$ref": "#/$defs/bytebase.v1.DataSource.GCPCredential.jsonschema.strict.json"
        },
        "host": {
          "description": "The hostname or IP address of the database server.",
          "type": "string"
        },
        "id": {
          "description": "The unique identifier for this data source.",
          "type": "string"
        },
        "masterName": {
          "description": "master_name is the master name used by connecting redis-master via redis sentinel.",
          "type": "string"
        },
        "masterPassword": {
          "type": "string"
        },
        "masterUsername": {
          "description": "master_username and master_password are master credentials used by redis sentinel mode.",
          "type": "string"
        },
        "password": {
          "description": "The password for database authentication.",
          "type": "string"
        },
        "port": {
          "description": "The port number of the database server.",
          "type": "string"
        },
        "redisType": {
          "enum": [
            "REDIS_TYPE_UNSPECIFIED",
            "STANDALONE",
            "SENTINEL",
            "CLUSTER"
          ],
          "title": "Redis Type",
          "type": "string"
        },
        "region": {
          "description": "region is the location of where the DB is, works for AWS RDS. For example, us-east-1.",
          "type": "string"
        },
        "replicaSet": {
          "description": "replica_set is used for MongoDB replica set.",
          "type": "string"
        },
        "saslConfig": {
          "$ref": "#/$defs/bytebase.v1.SASLConfig.jsonschema.strict.json"
        },
        "serviceName": {
          "type": "string"
        },
        "sid": {
          "description": "sid and service_name are used for Oracle.",
          "type": "string"
        },
        "srv": {
          "description": "srv, authentication_database and replica_set are used for MongoDB.\n srv is a boolean flag that indicates whether the host is a DNS SRV record.",
          "type": "boolean"
        },
        "sshHost": {
          "description": "Connection over SSH.\n The hostname of the SSH server agent.\n Required.",
          "type": "string"
        },
        "sshPassword": {
          "description": "The password to login the server. If it's empty string, no password is required.",
          "type": "string"
        },
        "sshPort": {
          "description": "The port of the SSH server agent. It's 22 typically.\n Required.",
          "type": "string"
        },
        "sshPrivateKey": {
          "description": "The private key to login the server. If it's empty string, we will use the system default private key from os.Getenv(\"SSH_AUTH_SOCK\").",
          "type": "string"
        },
        "sshUser": {
          "description": "The user to login the server.\n Required.",
          "type": "string"
        },
        "sslCa": {
          "description": "The SSL certificate authority certificate.",
          "type": "string"
        },
        "sslCert": {
          "description": "The SSL client certificate.",
          "type": "string"
        },
        "sslKey": {
          "description": "The SSL client private key.",
          "type": "string"
        },
        "type": {
          "description": "The type of data source (ADMIN or READ_ONLY).",
          "enum": [
            "DATA_SOURCE_UNSPECIFIED",
            "ADMIN",
            "READ_ONLY"
          ],
          "title": "Data Source Type",
          "type": "string"
        },
        "useSsl": {
          "description": "Use SSL to connect to the data source. By default, we use system default SSL configuration.",
          "type": "boolean"
        },
        "username": {
          "description": "The username for database authentication.",
          "type": "string"
        },
        "verifyTlsCertificate": {
          "description": "verify_tls_certificate enables TLS certificate verification for SSL connections.\n Default is false (no verification) for backward compatibility.\n Set to true for secure connections (recommended for production).\n Only set to false for development or when certificates cannot be properly\n validated (e.g., self-signed certs, VPN environments).",
          "type": "boolean"
        },
        "warehouseId": {
          "description": "warehouse_id is used by Databricks.",
          "type": "string"
        }
      },
      "required": [
        "id",
        "type",
        "username",
        "password",
        "useSsl",
        "sslCa",
        "sslCert",
        "sslKey",
        "verifyTlsCertificate",
        "host",
        "port",
        "database",
        "srv",
        "authenticationDatabase",
        "replicaSet",
        "sid",
        "serviceName",
        "sshHost",
        "sshPort",
        "sshUser",
        "sshPassword",
        "sshPrivateKey",
        "authenticationPrivateKey",
        "authenticationPrivateKeyPassphrase",
        "authenticationType",
        "directConnection",
        "region",
        "warehouseId",
        "masterName",
        "masterUsername",
        "masterPassword",
        "redisType",
        "cluster"
      ],
      "title": "Data Source",
      "type": "object"
    },
    "bytebase.v1.DataSourceExternalSecret.AppRoleAuthOption.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "mountPath": {
          "description": "The path where the approle auth method is mounted.",
          "type": "string"
        },
        "roleId": {
          "description": "The role ID for Vault AppRole authentication.",
          "type": "string"
        },
        "secretId": {
          "description": "the secret id for the role without ttl.",
          "type": "string"
        },
        "type": {
          "description": "The type of secret for AppRole authentication.",
          "enum": [
            "SECRET_TYPE_UNSPECIFIED",
            "PLAIN",
            "ENVIRONMENT"
          ],
          "title": "Secret Type",
          "type": "string"
        }
      },
      "required": [
        "roleId",
        "secretId",
        "type",
        "mountPath"
      ],
      "title": "App Role Auth Option",
      "type": "object"
    },
    "bytebase.v1.DataSourceExternalSecret.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "appRole": {
          "$ref": "#/$defs/bytebase.v1.DataSourceExternalSecret.AppRoleAuthOption.jsonschema.strict.json",
          "description": "AppRole authentication configuration."
        },
        "authType": {
          "description": "The authentication method for accessing the secret store.",
          "enum": [
            "AUTH_TYPE_UNSPECIFIED",
            "TOKEN",
            "VAULT_APP_ROLE"
          ],
          "title": "Auth Type",
          "type": "string"
        },
        "engineName": {
          "description": "engine name is the name for secret engine.",
          "type": "string"
        },
        "passwordKeyName": {
          "description": "the key name for the password.",
          "type": "string"
        },
        "secretName": {
          "description": "the secret name in the engine to store the password.",
          "type": "string"
        },
        "secretType": {
          "description": "The type of external secret store.",
          "enum": [
            "SECRET_TYPE_UNSPECIFIED",
            "VAULT_KV_V2",
            "AWS_SECRETS_MANAGER",
            "GCP_SECRET_MANAGER"
          ],
          "title": "Secret Type",
          "type": "string"
        },
        "skipVaultTlsVerification": {
          "description": "TLS configuration for connecting to Vault server.\n These fields are separate from the database TLS configuration in DataSource.\n skip_vault_tls_verification disables TLS certificate verification for Vault connections.\n Default is false (verification enabled) for security.\n Only set to true for development or when certificates cannot be properly validated.",
          "type": "boolean"
        },
        "token": {
          "description": "Token for direct authentication.",
          "type": "string"
        },
        "url": {
          "description": "The URL of the external secret store.",
          "type": "string"
        },
        "vaultSslCa": {
          "description": "CA certificate for Vault server verification.",
          "type": "string"
        },
        "vaultSslCert": {
          "description": "Client certificate for mutual TLS authentication with Vault.",
          "type": "string"
        },
        "vaultSslKey": {
          "description": "Client private key for mutual TLS authentication with Vault.",
          "type": "string"
        }
      },
      "required": [
        "secretType",
        "url",
        "authType",
        "engineName",
        "secretName",
        "passwordKeyName",
        "skipVaultTlsVerification",
        "vaultSslCa",
        "vaultSslCert",
        "vaultSslKey"
      ],
      "title": "Data Source External Secret",
      "type": "object"
    },
    "bytebase.v1.Instance.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "activation": {
          "description": "Whether the instance is activated for use.",
          "type": "boolean"
        },
        "dataSources": {
          "description": "Data source configurations for connecting to the instance.",
          "items": {
            "$ref": "#/$defs/bytebase.v1.DataSource.jsonschema.strict.json"
          },
          "type": "array"
        },
        "engine": {
          "description": "The database engine type.",
          "enum": [
            "ENGINE_UNSPECIFIED",
            "CLICKHOUSE",
            "MYSQL",
            "POSTGRES",
            "SNOWFLAKE",
            "SQLITE",
            "TIDB",
            "MONGODB",
            "REDIS",
            "ORACLE",
            "SPANNER",
            "MSSQL",
            "REDSHIFT",
            "MARIADB",
            "OCEANBASE",
            "STARROCKS",
            "DORIS",
            "HIVE",
            "ELASTICSEARCH",
            "BIGQUERY",
            "DYNAMODB",
            "DATABRICKS",
            "COCKROACHDB",
            "COSMOSDB",
            "TRINO",
            "CASSANDRA"
          ],
          "title": "Engine",
          "type": "string"
        },
        "engineVersion": {
          "description": "The version of the database engine.",
          "type": "string"
        },
        "environment": {
          "description": "The environment resource.\n Format: environments/prod where prod is the environment resource ID.",
          "type": "string"
        },
        "externalLink": {
          "description": "External URL to the database instance console.",
          "type": "string"
        },
        "labels": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "Labels are key-value pairs that can be attached to the instance.\n For example, { \"org_group\": \"infrastructure\", \"environment\": \"production\" }",
          "propertyNames": {
            "type": "string"
          },
          "type": "object"
        },
        "lastSyncTime": {
          "$ref": "#/$defs/google.protobuf.Timestamp.jsonschema.strict.json",
          "description": "The last time the instance was synced."
        },
        "maximumConnections": {
          "description": "The maximum number of connections.\n The default is 10 if the value is unset or zero.",
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        "name": {
          "description": "The name of the instance.\n Format: instances/{instance}",
          "type": "string"
        },
        "roles": {
          "description": "Database roles available in this instance.",
          "items": {
            "$ref": "#/$defs/bytebase.v1.InstanceRole.jsonschema.strict.json"
          },
          "type": "array"
        },
        "state": {
          "description": "The lifecycle state of the instance.",
          "enum": [
            "STATE_UNSPECIFIED",
            "ACTIVE",
            "DELETED"
          ],
          "title": "State",
          "type": "string"
        },
        "syncDatabases": {
          "description": "Enable sync for following databases.\n Default empty, means sync all schemas \u0026 databases.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "syncInterval": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.strict.json",
          "description": "How often the instance is synced."
        },
        "title": {
          "description": "The display title of the instance.",
          "maxLength": 200,
          "type": "string"
        }
      },
      "required": [
        "name",
        "state",
        "title",
        "engine",
        "engineVersion",
        "externalLink",
        "activation",
        "maximumConnections"
      ],
      "title": "Instance",
      "type": "object"
    },
    "bytebase.v1.InstanceRole.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "description": "InstanceRole is the API message for instance role.",
      "properties": {
        "attribute": {
          "description": "The role attribute.\n For PostgreSQL, it contains super_user, no_inherit, create_role, create_db, can_login, replication, and bypass_rls. Docs: https://www.postgresql.org/docs/current/role-attributes.html\n For MySQL, it's the global privileges as GRANT statements, which means it only contains \"GRANT ... ON *.* TO ...\". Docs: https://dev.mysql.com/doc/refman/8.0/en/grant.html",
          "type": "string"
        },
        "connectionLimit": {
          "description": "The connection count limit for this role.",
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        "name": {
          "description": "The name of the role.\n Format: instances/{instance}/roles/{role}\n The role name is the unique name for the role.",
          "type": "string"
        },
        "password": {
          "description": "The role password.",
          "type": "string"
        },
        "roleName": {
          "description": "The role name. It's unique within the instance.",
          "type": "string"
        },
        "validUntil": {
          "description": "The expiration for the role's password.",
          "type": "string"
        }
      },
      "required": [
        "name",
        "roleName"
      ],
      "title": "Instance Role",
      "type": "object"
    },
    "bytebase.v1.KerberosConfig.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "instance": {
          "description": "The instance component of the Kerberos principal.",
          "type": "string"
        },
        "kdcHost": {
          "description": "The hostname of the Key Distribution Center (KDC).",
          "type": "string"
        },
        "kdcPort": {
          "description": "The port of the Key Distribution Center (KDC).",
          "type": "string"
        },
        "kdcTransportProtocol": {
          "description": "The transport protocol for KDC communication (tcp or udp).",
          "type": "string"
        },
        "keytab": {
          "description": "The keytab file contents for authentication.",
          "pattern": "^[A-Za-z0-9+/]*={0,2}$",
          "type": "string"
        },
        "primary": {
          "description": "The primary component of the Kerberos principal.",
          "type": "string"
        },
        "realm": {
          "description": "The Kerberos realm.",
          "type": "string"
        }
      },
      "required": [
        "primary",
        "instance",
        "realm",
        "keytab",
        "kdcHost",
        "kdcPort",
        "kdcTransportProtocol"
      ],
      "title": "Kerberos Config",
      "type": "object"
    },
    "bytebase.v1.ListInstanceDatabaseRequest.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "instance": {
          "$ref": "#/$defs/bytebase.v1.Instance.jsonschema.strict.json",
          "description": "The target instance. We need to set this field if the target instance is not created yet."
        },
        "name": {
          "description": "The name of the instance.\n Format: instances/{instance}",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "List Instance Database Request",
      "type": "object"
    },
    "bytebase.v1.SASLConfig.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "krbConfig": {
          "$ref": "#/$defs/bytebase.v1.KerberosConfig.jsonschema.strict.json",
          "description": "Kerberos authentication configuration."
        }
      },
      "title": "SASL Config",
      "type": "object"
    },
    "google.protobuf.Duration.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "format": "duration",
      "title": "Duration",
      "type": "string"
    },
    "google.protobuf.Timestamp.jsonschema.strict.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "format": "date-time",
      "title": "Timestamp",
      "type": "string"
    }
  },
  "$id": "bytebase.v1.ListInstanceDatabaseRequest.jsonschema.strict.bundle.json",
  "$ref": "#/$defs/bytebase.v1.ListInstanceDatabaseRequest.jsonschema.strict.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema"
}
