{
  "$id": "bytebase.store.Project.jsonschema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Project contains settings and configuration for a Bytebase project.",
  "patternProperties": {
    "^(allow_modify_statement)$": {
      "default": false,
      "description": "Allow modifying statement after issue is created.",
      "type": "boolean"
    },
    "^(allow_self_approval)$": {
      "default": false,
      "description": "Whether to allow the issue creator to self-approve the issue.",
      "type": "boolean"
    },
    "^(auto_enable_backup)$": {
      "default": false,
      "description": "Whether to automatically enable backup.",
      "type": "boolean"
    },
    "^(auto_resolve_issue)$": {
      "default": false,
      "description": "Enable auto resolve issue.",
      "type": "boolean"
    },
    "^(ci_sampling_size)$": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of databases to sample during CI data validation.\n If not specified, sampling is disabled, resulting in a full validation."
    },
    "^(enforce_issue_title)$": {
      "default": false,
      "description": "Enforce issue title created by user instead of generated by Bytebase.",
      "type": "boolean"
    },
    "^(enforce_sql_review)$": {
      "default": false,
      "description": "Whether to enforce SQL review checks to pass before issue creation.\n If enabled, issues cannot be created when SQL review finds errors.",
      "type": "boolean"
    },
    "^(execution_retry_policy)$": {
      "$ref": "bytebase.store.Project.ExecutionRetryPolicy.jsonschema.json",
      "description": "Configuration for automatic retry on task execution failures."
    },
    "^(force_issue_labels)$": {
      "default": false,
      "description": "Force issue labels to be used when creating an issue.",
      "type": "boolean"
    },
    "^(issue_labels)$": {
      "description": "Available labels that can be applied to issues in this project.",
      "items": {
        "$ref": "bytebase.store.Label.jsonschema.json"
      },
      "type": "array"
    },
    "^(parallel_tasks_per_rollout)$": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of parallel tasks to run during the rollout."
    },
    "^(postgres_database_tenant_mode)$": {
      "default": false,
      "description": "Whether to enable the database tenant mode for PostgreSQL.\n If enabled, the issue will be created with the prepend \"set role \u003cdb_owner\u003e\" statement.",
      "type": "boolean"
    },
    "^(skip_backup_errors)$": {
      "default": false,
      "description": "Whether to skip backup errors and continue the data migration.",
      "type": "boolean"
    }
  },
  "properties": {
    "allowModifyStatement": {
      "default": false,
      "description": "Allow modifying statement after issue is created.",
      "type": "boolean"
    },
    "allowSelfApproval": {
      "default": false,
      "description": "Whether to allow the issue creator to self-approve the issue.",
      "type": "boolean"
    },
    "autoEnableBackup": {
      "default": false,
      "description": "Whether to automatically enable backup.",
      "type": "boolean"
    },
    "autoResolveIssue": {
      "default": false,
      "description": "Enable auto resolve issue.",
      "type": "boolean"
    },
    "ciSamplingSize": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of databases to sample during CI data validation.\n If not specified, sampling is disabled, resulting in a full validation."
    },
    "enforceIssueTitle": {
      "default": false,
      "description": "Enforce issue title created by user instead of generated by Bytebase.",
      "type": "boolean"
    },
    "enforceSqlReview": {
      "default": false,
      "description": "Whether to enforce SQL review checks to pass before issue creation.\n If enabled, issues cannot be created when SQL review finds errors.",
      "type": "boolean"
    },
    "executionRetryPolicy": {
      "$ref": "bytebase.store.Project.ExecutionRetryPolicy.jsonschema.json",
      "description": "Configuration for automatic retry on task execution failures."
    },
    "forceIssueLabels": {
      "default": false,
      "description": "Force issue labels to be used when creating an issue.",
      "type": "boolean"
    },
    "issueLabels": {
      "description": "Available labels that can be applied to issues in this project.",
      "items": {
        "$ref": "bytebase.store.Label.jsonschema.json"
      },
      "type": "array"
    },
    "labels": {
      "additionalProperties": {
        "type": "string"
      },
      "description": "Labels are key-value pairs that can be attached to the project.\n For example, { \"environment\": \"production\", \"team\": \"backend\" }",
      "propertyNames": {
        "type": "string"
      },
      "type": "object"
    },
    "parallelTasksPerRollout": {
      "anyOf": [
        {
          "maximum": 2147483647,
          "minimum": -2147483648,
          "type": "integer"
        },
        {
          "pattern": "^-?[0-9]+$",
          "type": "string"
        }
      ],
      "default": 0,
      "description": "The maximum number of parallel tasks to run during the rollout."
    },
    "postgresDatabaseTenantMode": {
      "default": false,
      "description": "Whether to enable the database tenant mode for PostgreSQL.\n If enabled, the issue will be created with the prepend \"set role \u003cdb_owner\u003e\" statement.",
      "type": "boolean"
    },
    "skipBackupErrors": {
      "default": false,
      "description": "Whether to skip backup errors and continue the data migration.",
      "type": "boolean"
    }
  },
  "title": "Project",
  "type": "object"
}
