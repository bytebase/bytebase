# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: ""
    version: 0.0.1
paths:
    /v1/*/{*}/iamPolicies:batchGet:
        get:
            tags:
                - ProjectService
            description: |-
                Deprecated. No permission check implemented.
                 Permissions required: None
            operationId: ProjectService_BatchGetIamPolicy
            parameters:
                - name: '*'
                  in: path
                  description: The * id.
                  required: true
                  schema:
                    type: string
                - name: names
                  in: query
                  schema:
                    type: array
                    items:
                        type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchGetIamPolicyResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/actuator/cache:
        delete:
            tags:
                - ActuatorService
            description: |-
                Clears the system cache to force data refresh.
                 Permissions required: None
            operationId: ActuatorService_DeleteCache
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/actuator/info:
        get:
            tags:
                - ActuatorService
            description: |-
                Gets system information and health status of the Bytebase instance.
                 Permissions required: None
            operationId: ActuatorService_GetActuatorInfo
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ActuatorInfo'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - ActuatorService
            description: |-
                Updates system configuration settings for the Bytebase instance.
                 Permissions required: bb.settings.set
            operationId: ActuatorService_UpdateActuatorInfo
            parameters:
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the actuator is not found, a new actuator will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ActuatorInfo'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ActuatorInfo'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/actuator/resources:
        get:
            tags:
                - ActuatorService
            description: |-
                Gets custom branding resources such as logos.
                 Permissions required: None
            operationId: ActuatorService_GetResourcePackage
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ResourcePackage'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/actuator:setupSample:
        post:
            tags:
                - ActuatorService
            description: |-
                Sets up sample data for demonstration and testing purposes.
                 Permissions required: bb.projects.create
            operationId: ActuatorService_SetupSample
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/auditLogs:export:
        post:
            tags:
                - AuditLogService
            description: |-
                Exports audit logs in a specified format for external analysis.
                 Permissions required: bb.auditLogs.export
            operationId: AuditLogService_ExportAuditLogs
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ExportAuditLogsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExportAuditLogsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/auditLogs:search:
        post:
            tags:
                - AuditLogService
            description: |-
                Searches audit logs with optional filtering and pagination.
                 Permissions required: bb.auditLogs.search
            operationId: AuditLogService_SearchAuditLogs
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchAuditLogsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchAuditLogsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/auth/login:
        post:
            tags:
                - AuthService
            description: |-
                Authenticates a user and returns access tokens.
                 Permissions required: None
            operationId: AuthService_Login
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/LoginRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LoginResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/auth/logout:
        post:
            tags:
                - AuthService
            description: |-
                Logs out the current user session.
                 Permissions required: None
            operationId: AuthService_Logout
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/LogoutRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/cel/batchDeparse:
        post:
            tags:
                - CelService
            description: |-
                Converts multiple CEL AST representations back into expression strings.
                 Permissions required: None
            operationId: CelService_BatchDeparse
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchDeparseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchDeparseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/cel/batchParse:
        post:
            tags:
                - CelService
            description: |-
                Parses multiple CEL expression strings into AST representations.
                 Permissions required: None
            operationId: CelService_BatchParse
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchParseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchParseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/environments/{environment}/policies:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Lists policies at a specified resource level.
                 Permissions required: bb.policies.list
            operationId: OrgPolicyService_ListPolicies
            parameters:
                - name: environment
                  in: path
                  description: The environment id.
                  required: true
                  schema:
                    type: string
                - name: policyType
                  in: query
                  description: Filter by specific policy type.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
                - name: showDeleted
                  in: query
                  description: Show deleted policies if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPoliciesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - OrgPolicyService
            description: |-
                Creates a new organizational policy.
                 Permissions required: bb.policies.create
            operationId: OrgPolicyService_CreatePolicy
            parameters:
                - name: environment
                  in: path
                  description: The environment id.
                  required: true
                  schema:
                    type: string
                - name: type
                  in: query
                  description: The type of policy to create.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/environments/{environment}/policies/{policy}:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Retrieves a policy by name.
                 Permissions required: bb.policies.get
            operationId: OrgPolicyService_GetPolicy
            parameters:
                - name: environment
                  in: path
                  description: The environment id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - OrgPolicyService
            description: |-
                Deletes an organizational policy.
                 Permissions required: bb.policies.delete
            operationId: OrgPolicyService_DeletePolicy
            parameters:
                - name: environment
                  in: path
                  description: The environment id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - OrgPolicyService
            description: |-
                Updates an existing organizational policy.
                 Permissions required: bb.policies.update
            operationId: OrgPolicyService_UpdatePolicy
            parameters:
                - name: environment
                  in: path
                  description: The environment id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the policy is not found, a new policy will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/groups:
        get:
            tags:
                - GroupService
            description: |-
                Lists all groups in the workspace.
                 Permissions required: bb.groups.list
            operationId: GroupService_ListGroups
            parameters:
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of groups to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 groups will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListGroups` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListGroups` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter groups returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filter:
                     - title: the group title, support "==" and ".matches()" operator.
                     - email: the group email, support "==" and ".matches()" operator.
                     - project: the project full name in "projects/{id}" format, support "==" operator.

                     For example:
                     title == "dba"
                     email == "dba@bytebase.com"
                     title.matches("dba")
                     email.matches("dba")
                     project == "projects/sample-project"
                     You can combine filter conditions like:
                     title.matches("dba") || email.matches("dba")
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListGroupsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - GroupService
            description: |-
                Creates a new group.
                 Permissions required: bb.groups.create
            operationId: GroupService_CreateGroup
            parameters:
                - name: groupEmail
                  in: query
                  description: |-
                    The email to use for the group, which will become the final component
                     of the group's resource name.
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Group'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Group'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/groups/{group}:
        get:
            tags:
                - GroupService
            description: |-
                Gets a group by name.
                 Permissions required: bb.groups.get
            operationId: GroupService_GetGroup
            parameters:
                - name: group
                  in: path
                  description: The group id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Group'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - GroupService
            description: |-
                Deletes a group. Group owners or users with bb.groups.delete permission can delete.
                 Permissions required: bb.groups.delete OR caller is group owner
            operationId: GroupService_DeleteGroup
            parameters:
                - name: group
                  in: path
                  description: The group id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - GroupService
            description: |-
                Updates a group. Group owners or users with bb.groups.update permission can update.
                 Permissions required: bb.groups.update OR caller is group owner
                 When allow_missing=true, also requires: bb.groups.create
            operationId: GroupService_UpdateGroup
            parameters:
                - name: group
                  in: path
                  description: The group id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the group is not found, a new group will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Group'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Group'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/groups:batchGet:
        get:
            tags:
                - GroupService
            description: |-
                Gets multiple groups in a single request.
                 Permissions required: bb.groups.get
            operationId: GroupService_BatchGetGroups
            parameters:
                - name: names
                  in: query
                  description: |-
                    The group names to retrieve.
                     Format: groups/{email}
                  schema:
                    type: array
                    items:
                        type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchGetGroupsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/idps:
        get:
            tags:
                - IdentityProviderService
            description: |-
                Lists all configured identity providers (public endpoint for login page).
                 Permissions required: None
            operationId: IdentityProviderService_ListIdentityProviders
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListIdentityProvidersResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - IdentityProviderService
            description: |-
                Creates a new identity provider.
                 Permissions required: bb.identityProviders.create
            operationId: IdentityProviderService_CreateIdentityProvider
            parameters:
                - name: identityProviderId
                  in: query
                  description: |-
                    The ID to use for the identity provider, which will become the final component of
                     the identity provider's resource name.

                     This value should be 4-63 characters, and valid characters
                     are /[a-z][0-9]-/.
                  schema:
                    type: string
                - name: validateOnly
                  in: query
                  description: If set to true, the request will be validated without actually creating the identity provider.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IdentityProvider'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IdentityProvider'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/idps/*:test:
        post:
            tags:
                - IdentityProviderService
            description: |-
                Tests the connection and configuration of an identity provider.
                 Permissions required: bb.identityProviders.update
            operationId: IdentityProviderService_TestIdentityProvider
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/TestIdentityProviderRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TestIdentityProviderResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/idps/{idp}:
        get:
            tags:
                - IdentityProviderService
            description: |-
                Gets an identity provider by name.
                 Permissions required: bb.identityProviders.get
            operationId: IdentityProviderService_GetIdentityProvider
            parameters:
                - name: idp
                  in: path
                  description: The idp id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IdentityProvider'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - IdentityProviderService
            description: |-
                Deletes an identity provider.
                 Permissions required: bb.identityProviders.delete
            operationId: IdentityProviderService_DeleteIdentityProvider
            parameters:
                - name: idp
                  in: path
                  description: The idp id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - IdentityProviderService
            description: |-
                Updates an identity provider.
                 Permissions required: bb.identityProviders.update
                 When allow_missing=true, also requires: bb.identityProviders.create
            operationId: IdentityProviderService_UpdateIdentityProvider
            parameters:
                - name: idp
                  in: path
                  description: The idp id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the identity provider is not found, a new identity provider will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IdentityProvider'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IdentityProvider'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances:
        get:
            tags:
                - InstanceService
            description: |-
                Lists all database instances.
                 Permissions required: bb.instances.list
            operationId: InstanceService_ListInstances
            parameters:
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of instances to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 instances will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListInstances` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListInstances` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted instances if specified.
                  schema:
                    type: boolean
                - name: filter
                  in: query
                  description: |-
                    Filter the instance.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filters:
                     - name: the instance name, support "==" and ".matches()" operator.
                     - resource_id: the instance id, support "==" and ".matches()" operator.
                     - environment: the environment full name in "environments/{id}" format, support "==" operator.
                     - state: the instance state, check State enum for values, support "==" operator.
                     - engine: the instance engine, check Engine enum for values. Support "==", "in [xx]", "!(in [xx])" operator.
                     - host: the instance host, support "==" and ".matches()" operator.
                     - port: the instance port, support "==" and ".matches()" operator.
                     - project: the project full name in "projects/{id}" format, support "==" operator.
                     - labels.{key}: the instance label, support "==" and "in" operators.

                     For example:
                     name == "sample instance"
                     name.matches("sample")
                     resource_id == "sample-instance"
                     resource_id.matches("sample")
                     state == "DELETED"
                     environment == "environments/test"
                     environment == "" (find instances which environment is not set)
                     engine == "MYSQL"
                     engine in ["MYSQL", "POSTGRES"]
                     !(engine in ["MYSQL", "POSTGRES"])
                     host == "127.0.0.1"
                     host.matches("127.0")
                     port == "54321"
                     port.matches("543")
                     labels.org_group == "infrastructure"
                     labels.environment in ["prod", "production"]
                     project == "projects/sample-project"
                     You can combine filter conditions like:
                     name.matches("sample") && environment == "environments/test"
                     host == "127.0.0.1" && port == "54321"
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstancesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - InstanceService
            description: |-
                Creates a new database instance.
                 Permissions required: bb.instances.create
            operationId: InstanceService_CreateInstance
            parameters:
                - name: instanceId
                  in: query
                  description: |-
                    The ID to use for the instance, which will become the final component of
                     the instance's resource name.

                     This value should be 4-63 characters, and valid characters
                     are /[a-z][0-9]-/.
                  schema:
                    type: string
                - name: validateOnly
                  in: query
                  description: Validate only also tests the data source connection.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Instance'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:
        get:
            tags:
                - InstanceService
            description: |-
                Gets a database instance by name.
                 Permissions required: bb.instances.get
            operationId: InstanceService_GetInstance
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - InstanceService
            description: |-
                Deletes or soft-deletes a database instance.
                 Permissions required: bb.instances.delete
            operationId: InstanceService_DeleteInstance
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: force
                  in: query
                  description: If set to true, any databases and sheets from this project will also be moved to default project, and all open issues will be closed.
                  schema:
                    type: boolean
                - name: purge
                  in: query
                  description: |-
                    If set to true, permanently purge the soft-deleted instance and all related resources.
                     This operation is irreversible. Following AIP-165, this should only be used for
                     administrative cleanup of old soft-deleted instances.
                     The instance must already be soft-deleted for this to work.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - InstanceService
            description: |-
                Updates a database instance.
                 Permissions required: bb.instances.update
            operationId: InstanceService_UpdateInstance
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the instance is not found, a new instance will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Instance'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases:
        get:
            tags:
                - DatabaseService
            description: |-
                Lists databases in a project, instance, or workspace.
                 Permissions required: bb.projects.get (for project parent), bb.databases.list (for workspace parent), or bb.instances.get (for instance parent)
            operationId: DatabaseService_ListDatabases
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of databases to return. The service may return fewer
                     than this value.
                     If unspecified, at most 10 databases will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListDatabases` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListDatabases` must
                     match the call that provided the page token.
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter databases returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filter:
                     - environment: the environment full name in "environments/{id}" format, support "==" operator.
                     - name: the database name, support ".matches()" operator.
                     - project: the project full name in "projects/{id}" format, support "==" operator.
                     - instance: the instance full name in "instances/{id}" format, support "==" operator.
                     - engine: the database engine, check Engine enum for values. Support "==", "in [xx]", "!(in [xx])" operator.
                     - exclude_unassigned: should be "true" or "false", will not show unassigned databases if it's true, support "==" operator.
                     - drifted: should be "true" or "false", show drifted databases if it's true, support "==" operator.
                     - table: filter by the database table, support "==" and ".matches()" operator.
                     - labels.{key}: the database label, support "==" and "in" operators.

                     For example:
                     environment == "environments/{environment resource id}"
                     environment == "" (find databases which environment is not set)
                     project == "projects/{project resource id}"
                     instance == "instances/{instance resource id}"
                     name.matches("database name")
                     engine == "MYSQL"
                     engine in ["MYSQL", "POSTGRES"]
                     !(engine in ["MYSQL", "POSTGRES"])
                     exclude_unassigned == true
                     drifted == true
                     table == "sample"
                     table.matches("sam")
                     labels.environment == "production"
                     labels.region == "asia"
                     labels.region in ["asia", "europe"]

                     You can combine filter conditions like:
                     environment == "environments/prod" && name.matches("employee")
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted database if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves a database by name.
                 Permissions required: bb.databases.get
            operationId: DatabaseService_GetDatabase
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Database'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - DatabaseService
            description: |-
                Updates database properties such as labels and project assignment.
                 Permissions required: bb.databases.update
            operationId: DatabaseService_UpdateDatabase
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the database is not found, a new database will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Database'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Database'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/catalog:
        get:
            tags:
                - DatabaseCatalogService
            description: |-
                Gets the catalog metadata for a database.
                 Permissions required: bb.databaseCatalogs.get
            operationId: DatabaseCatalogService_GetDatabaseCatalog
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseCatalog'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - DatabaseCatalogService
            description: |-
                Updates catalog metadata such as classifications and labels.
                 Permissions required: bb.databaseCatalogs.update
            operationId: DatabaseCatalogService_UpdateDatabaseCatalog
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the database catalog is not found, a new database catalog will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DatabaseCatalog'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseCatalog'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/changelogs:
        get:
            tags:
                - DatabaseService
            description: |-
                Lists migration history for a database.
                 Permissions required: bb.changelogs.list
            operationId: DatabaseService_ListChangelogs
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of changelogs to return. The service may return fewer
                     than this value. If unspecified, at most 10 changelogs will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from the previous call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: view
                  in: query
                  schema:
                    enum:
                        - CHANGELOG_VIEW_UNSPECIFIED
                        - CHANGELOG_VIEW_BASIC
                        - CHANGELOG_VIEW_FULL
                    type: string
                    format: enum
                - name: filter
                  in: query
                  description: |-
                    The filter of the changelogs.
                     follow the
                     [ebnf](https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form)
                     syntax. Support filter by type, source or table. For example: table =
                     "tableExists('{database}', '{schema}', '{table}')" table =
                     "tableExists('db', 'public', 'table1') || tableExists('db', 'public',
                     'table2')"

                     The table filter follow the CEL syntax.
                     currently, we have one function for CEL:
                     - tableExists(database, schema, table): return true if the table exists in
                     changed resources.

                     examples:
                     Use
                       tableExists("db", "public", "table1")
                     to filter the changelogs which have the table "table1" in the schema
                     "public" of the database "db". For MySQL, the schema is always "", such as
                     tableExists("db", "", "table1").

                     Combine multiple functions with "&&" and "||", we MUST use the Disjunctive
                     Normal Form(DNF). In other words, the CEL expression consists of several
                     parts connected by OR operators. For example, the following expression is
                     valid:
                     (
                      tableExists("db", "public", "table1") &&
                      tableExists("db", "public", "table2")
                     ) || (
                      tableExists("db", "public", "table3")
                     )
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListChangelogsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/changelogs/{changelog}:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves a specific changelog entry.
                 Permissions required: bb.changelogs.get
            operationId: DatabaseService_GetChangelog
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: changelog
                  in: path
                  description: The changelog id.
                  required: true
                  schema:
                    type: string
                - name: view
                  in: query
                  schema:
                    enum:
                        - CHANGELOG_VIEW_UNSPECIFIED
                        - CHANGELOG_VIEW_BASIC
                        - CHANGELOG_VIEW_FULL
                    type: string
                    format: enum
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Changelog'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/changelogs/{changelog}:diffSchema:
        post:
            tags:
                - DatabaseService
            description: |-
                Compares and generates migration statements between two schemas.
                 Permissions required: bb.databases.get
            operationId: DatabaseService_DiffSchema
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: changelog
                  in: path
                  description: The changelog id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DiffSchemaRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DiffSchemaResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/metadata:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves database metadata including tables, columns, and indexes.
                 Permissions required: bb.databases.getSchema
            operationId: DatabaseService_GetDatabaseMetadata
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter databases returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filter:
                     - schema: the schema name, support "==" operator.
                     - table: the table name, support "==" and ".matches()" operator.

                     For example:
                     schema == "schema-a"
                     table == "table-a"
                     table.matches("table-a")
                     schema == "schema-a" && table.matches("sample")
                     The filter used to search table with wildcard "sample" in the schema "schemas/schema-a".
                     The column masking level will only be returned when a table filter is used.
                  schema:
                    type: string
                - name: limit
                  in: query
                  description: |-
                    Limit the response size of returned table metadata per schema.
                     For example, if the database has 3 schemas, and each schema has 100 tables,
                     if limit is 20, then only 20 tables will be returned for each schema, total 60 tables.
                     Default 0, means no limit.
                  schema:
                    type: integer
                    format: int32
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseMetadata'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/policies:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Lists policies at a specified resource level.
                 Permissions required: bb.policies.list
            operationId: OrgPolicyService_ListPolicies
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: policyType
                  in: query
                  description: Filter by specific policy type.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
                - name: showDeleted
                  in: query
                  description: Show deleted policies if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPoliciesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - OrgPolicyService
            description: |-
                Creates a new organizational policy.
                 Permissions required: bb.policies.create
            operationId: OrgPolicyService_CreatePolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: type
                  in: query
                  description: The type of policy to create.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/policies/{policy}:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Retrieves a policy by name.
                 Permissions required: bb.policies.get
            operationId: OrgPolicyService_GetPolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - OrgPolicyService
            description: |-
                Deletes an organizational policy.
                 Permissions required: bb.policies.delete
            operationId: OrgPolicyService_DeletePolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - OrgPolicyService
            description: |-
                Updates an existing organizational policy.
                 Permissions required: bb.policies.update
            operationId: OrgPolicyService_UpdatePolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the policy is not found, a new policy will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/revisions:
        get:
            tags:
                - RevisionService
            description: |-
                Lists schema revisions for a database.
                 Permissions required: bb.revisions.list
            operationId: RevisionService_ListRevisions
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of revisions to return. The service may return fewer
                     than this value. If unspecified, at most 10 revisions will be returned. The
                     maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListRevisions` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListRevisions` must
                     match the call that provided the page token.
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Whether to include deleted revisions in the results.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListRevisionsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - RevisionService
            description: |-
                Creates a new schema revision.
                 Permissions required: bb.revisions.create
            operationId: RevisionService_CreateRevision
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Revision'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Revision'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/revisions/{revision}:
        get:
            tags:
                - RevisionService
            description: |-
                Retrieves a schema revision by name.
                 Permissions required: bb.revisions.get
            operationId: RevisionService_GetRevision
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: revision
                  in: path
                  description: The revision id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Revision'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - RevisionService
            description: |-
                Deletes a schema revision.
                 Permissions required: bb.revisions.delete
            operationId: RevisionService_DeleteRevision
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: revision
                  in: path
                  description: The revision id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/revisions:batchCreate:
        post:
            tags:
                - RevisionService
            description: |-
                Creates multiple schema revisions in a single operation.
                 Permissions required: bb.revisions.create
            operationId: RevisionService_BatchCreateRevisions
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchCreateRevisionsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchCreateRevisionsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/schema:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves database schema as DDL statements.
                 Permissions required: bb.databases.getSchema
            operationId: DatabaseService_GetDatabaseSchema
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseSchema'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/schemaString:
        get:
            tags:
                - DatabaseService
            description: |-
                Generates schema DDL for a database object.
                 Permissions required: bb.databases.getSchema
            operationId: DatabaseService_GetSchemaString
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: type
                  in: query
                  schema:
                    enum:
                        - OBJECT_TYPE_UNSPECIFIED
                        - DATABASE
                        - SCHEMA
                        - TABLE
                        - VIEW
                        - MATERIALIZED_VIEW
                        - FUNCTION
                        - PROCEDURE
                        - SEQUENCE
                    type: string
                    format: enum
                - name: schema
                  in: query
                  description: It's empty for DATABASE.
                  schema:
                    type: string
                - name: object
                  in: query
                  description: It's empty for DATABASE and SCHEMA.
                  schema:
                    type: string
                - name: metadata.name
                  in: query
                  description: |-
                    The database metadata name.

                     Format: instances/{instance}/databases/{database}/metadata
                  schema:
                    type: string
                - name: metadata.characterSet
                  in: query
                  description: The character_set is the character set of a database.
                  schema:
                    type: string
                - name: metadata.collation
                  in: query
                  description: The collation is the collation of a database.
                  schema:
                    type: string
                - name: metadata.owner
                  in: query
                  description: The owner of the database.
                  schema:
                    type: string
                - name: metadata.searchPath
                  in: query
                  description: The search_path is the search path of a PostgreSQL database.
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/GetSchemaStringResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}/sdlSchema:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves database schema in SDL (Schema Definition Language) format.
                 Permissions required: bb.databases.getSchema
            operationId: DatabaseService_GetDatabaseSDLSchema
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
                - name: format
                  in: query
                  description: The format of the SDL schema output.
                  schema:
                    enum:
                        - SDL_FORMAT_UNSPECIFIED
                        - SINGLE_FILE
                        - MULTI_FILE
                    type: string
                    format: enum
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseSDLSchema'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}:diffSchema:
        post:
            tags:
                - DatabaseService
            description: |-
                Compares and generates migration statements between two schemas.
                 Permissions required: bb.databases.get
            operationId: DatabaseService_DiffSchema
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DiffSchemaRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DiffSchemaResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}:export:
        post:
            tags:
                - SQLService
            description: |-
                Exports query results to a file format.
                 Permissions required: bb.databases.get
            operationId: SQLService_Export
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ExportRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExportResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}:query:
        post:
            tags:
                - SQLService
            description: |-
                Executes a read-only SQL query against a database.
                 Permissions required: bb.databases.get
            operationId: SQLService_Query
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/QueryRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/QueryResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases/{database}:sync:
        post:
            tags:
                - DatabaseService
            description: |-
                Synchronizes database schema from the instance.
                 Permissions required: bb.databases.sync
            operationId: DatabaseService_SyncDatabase
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: database
                  in: path
                  description: The database id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SyncDatabaseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SyncDatabaseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases:batchGet:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves multiple databases by their names.
                 Permissions required: bb.databases.get
            operationId: DatabaseService_BatchGetDatabases
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: names
                  in: query
                  description: The list of database names to retrieve.
                  schema:
                    type: array
                    items:
                        type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchGetDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases:batchSync:
        post:
            tags:
                - DatabaseService
            description: |-
                Synchronizes multiple databases in a single batch operation.
                 Permissions required: bb.databases.sync
            operationId: DatabaseService_BatchSyncDatabases
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchSyncDatabasesRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchSyncDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/databases:batchUpdate:
        post:
            tags:
                - DatabaseService
            description: |-
                Updates multiple databases in a single batch operation.
                 Permissions required: bb.databases.update
            operationId: DatabaseService_BatchUpdateDatabases
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchUpdateDatabasesRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchUpdateDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/policies:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Lists policies at a specified resource level.
                 Permissions required: bb.policies.list
            operationId: OrgPolicyService_ListPolicies
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: policyType
                  in: query
                  description: Filter by specific policy type.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
                - name: showDeleted
                  in: query
                  description: Show deleted policies if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPoliciesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - OrgPolicyService
            description: |-
                Creates a new organizational policy.
                 Permissions required: bb.policies.create
            operationId: OrgPolicyService_CreatePolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: type
                  in: query
                  description: The type of policy to create.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/policies/{policy}:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Retrieves a policy by name.
                 Permissions required: bb.policies.get
            operationId: OrgPolicyService_GetPolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - OrgPolicyService
            description: |-
                Deletes an organizational policy.
                 Permissions required: bb.policies.delete
            operationId: OrgPolicyService_DeletePolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - OrgPolicyService
            description: |-
                Updates an existing organizational policy.
                 Permissions required: bb.policies.update
            operationId: OrgPolicyService_UpdatePolicy
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the policy is not found, a new policy will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/roles:
        get:
            tags:
                - InstanceRoleService
            description: |-
                Lists all database roles in an instance.
                 Permissions required: bb.instanceRoles.list
            operationId: InstanceRoleService_ListInstanceRoles
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    Not used.
                     The maximum number of roles to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 roles will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    Not used.
                     A page token, received from a previous `ListInstanceRoles` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListInstanceRoles` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: refresh
                  in: query
                  description: Refresh will refresh and return the latest data.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceRolesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}/roles/{role}:
        get:
            tags:
                - InstanceRoleService
            description: |-
                Gets a database role from an instance.
                 Permissions required: bb.instanceRoles.get
            operationId: InstanceRoleService_GetInstanceRole
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: role
                  in: path
                  description: The role id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/InstanceRole'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:addDataSource:
        post:
            tags:
                - InstanceService
            description: |-
                Adds a read-only data source to an instance.
                 Permissions required: bb.instances.update
            operationId: InstanceService_AddDataSource
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AddDataSourceRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:databases:
        post:
            tags:
                - InstanceService
            description: |-
                Lists all databases within an instance without creating them.
                 Permissions required: bb.instances.get
            operationId: InstanceService_ListInstanceDatabase
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ListInstanceDatabaseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListInstanceDatabaseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:removeDataSource:
        post:
            tags:
                - InstanceService
            description: |-
                Removes a read-only data source from an instance.
                 Permissions required: bb.instances.update
            operationId: InstanceService_RemoveDataSource
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RemoveDataSourceRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:sync:
        post:
            tags:
                - InstanceService
            description: |-
                Syncs database schemas and metadata from an instance.
                 Permissions required: bb.instances.sync
            operationId: InstanceService_SyncInstance
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SyncInstanceRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SyncInstanceResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:undelete:
        post:
            tags:
                - InstanceService
            description: |-
                Restores a soft-deleted database instance.
                 Permissions required: bb.instances.undelete
            operationId: InstanceService_UndeleteInstance
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UndeleteInstanceRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances/{instance}:updateDataSource:
        patch:
            tags:
                - InstanceService
            description: |-
                Updates a data source configuration.
                 Permissions required: bb.instances.update
            operationId: InstanceService_UpdateDataSource
            parameters:
                - name: instance
                  in: path
                  description: The instance id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: validateOnly
                  in: query
                  description: Validate only also tests the data source connection.
                  schema:
                    type: boolean
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the data source is not found, a new data source will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DataSource'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Instance'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances:batchSync:
        post:
            tags:
                - InstanceService
            description: |-
                Syncs multiple instances in a single request.
                 Permissions required: bb.instances.sync
            operationId: InstanceService_BatchSyncInstances
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchSyncInstancesRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchSyncInstancesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/instances:batchUpdate:
        post:
            tags:
                - InstanceService
            description: |-
                Updates multiple instances in a single request.
                 Permissions required: bb.instances.update
            operationId: InstanceService_BatchUpdateInstances
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchUpdateInstancesRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchUpdateInstancesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/policies:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Lists policies at a specified resource level.
                 Permissions required: bb.policies.list
            operationId: OrgPolicyService_ListPolicies
            parameters:
                - name: parent
                  in: query
                  description: |-
                    The parent, which owns this collection of policies.
                     Format: {resource type}/{resource id}
                  schema:
                    type: string
                - name: policyType
                  in: query
                  description: Filter by specific policy type.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
                - name: showDeleted
                  in: query
                  description: Show deleted policies if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPoliciesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - OrgPolicyService
            description: |-
                Creates a new organizational policy.
                 Permissions required: bb.policies.create
            operationId: OrgPolicyService_CreatePolicy
            parameters:
                - name: parent
                  in: query
                  description: |-
                    The parent resource where this instance will be created.
                     Workspace resource name: "".
                     Environment resource name: environments/environment-id.
                     Instance resource name: instances/instance-id.
                     Database resource name: instances/instance-id/databases/database-name.
                  schema:
                    type: string
                - name: type
                  in: query
                  description: The type of policy to create.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/policies/{policy}:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Retrieves a policy by name.
                 Permissions required: bb.policies.get
            operationId: OrgPolicyService_GetPolicy
            parameters:
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - OrgPolicyService
            description: |-
                Deletes an organizational policy.
                 Permissions required: bb.policies.delete
            operationId: OrgPolicyService_DeletePolicy
            parameters:
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - OrgPolicyService
            description: |-
                Updates an existing organizational policy.
                 Permissions required: bb.policies.update
            operationId: OrgPolicyService_UpdatePolicy
            parameters:
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the policy is not found, a new policy will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects:
        get:
            tags:
                - ProjectService
            description: |-
                Lists all projects in the workspace with optional filtering.
                 Permissions required: bb.projects.list
            operationId: ProjectService_ListProjects
            parameters:
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of projects to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 projects will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListProjects` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListProjects` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted projects if specified.
                  schema:
                    type: boolean
                - name: filter
                  in: query
                  description: |-
                    Filter the project.
                     Check filter for SearchProjectsRequest for details.
                     Supports filtering by name, resource_id, state, and labels (e.g., labels.environment == "production").
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListProjectsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - ProjectService
            description: |-
                Creates a new project in the workspace.
                 Permissions required: bb.projects.create
            operationId: ProjectService_CreateProject
            parameters:
                - name: projectId
                  in: query
                  description: |-
                    The ID to use for the project, which will become the final component of
                     the project's resource name.

                     This value should be 4-63 characters, and valid characters
                     are /[a-z][0-9]-/.
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Project'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:
        get:
            tags:
                - ProjectService
            description: |-
                GetProject retrieves a project by name.
                 Users with "bb.projects.get" permission on the workspace or the project owner can access this method.
                 Permissions required: bb.projects.get
            operationId: ProjectService_GetProject
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - ProjectService
            description: |-
                Deletes (soft-delete or purge) a project.
                 Permissions required: bb.projects.delete
            operationId: ProjectService_DeleteProject
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: force
                  in: query
                  description: |-
                    If set to true, any databases from this project will be moved to default project.
                     Sheets are not moved since BYTEBASE_ARTIFACT sheets belong to the issue and issue project.
                     Open issues will remain open but associated with the deleted project.
                     If set to false, the operation will fail if the project has databases or open issues.
                  schema:
                    type: boolean
                - name: purge
                  in: query
                  description: |-
                    If set to true, permanently purge the soft-deleted project and all related resources.
                     This operation is irreversible. Following AIP-165, this should only be used for
                     administrative cleanup of old soft-deleted projects.
                     The project must already be soft-deleted for this to work.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - ProjectService
            description: |-
                Updates an existing project's properties.
                 Permissions required: bb.projects.update
            operationId: ProjectService_UpdateProject
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the project is not found, a new project will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Project'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/auditLogs:export:
        post:
            tags:
                - AuditLogService
            description: |-
                Exports audit logs in a specified format for external analysis.
                 Permissions required: bb.auditLogs.export
            operationId: AuditLogService_ExportAuditLogs
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ExportAuditLogsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExportAuditLogsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/auditLogs:search:
        post:
            tags:
                - AuditLogService
            description: |-
                Searches audit logs with optional filtering and pagination.
                 Permissions required: bb.auditLogs.search
            operationId: AuditLogService_SearchAuditLogs
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchAuditLogsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchAuditLogsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/changelists:
        get:
            tags:
                - ChangelistService
            description: |-
                Lists changelists in a project.
                 Permissions required: bb.changelists.list
            operationId: ChangelistService_ListChangelists
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListChangelistsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - ChangelistService
            description: |-
                Creates a new changelist in a project.
                 Permissions required: bb.changelists.create
            operationId: ChangelistService_CreateChangelist
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: changelistId
                  in: query
                  description: |-
                    The ID to use for the changelist, which will become the final component of
                     the changelist's resource name.

                     This value should be 4-63 characters, and valid characters
                     are /[a-z][0-9]-/.
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Changelist'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Changelist'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/changelists/{changelist}:
        get:
            tags:
                - ChangelistService
            description: |-
                Gets a changelist by name.
                 Permissions required: bb.changelists.get
            operationId: ChangelistService_GetChangelist
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: changelist
                  in: path
                  description: The changelist id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Changelist'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - ChangelistService
            description: |-
                Deletes a changelist.
                 Permissions required: bb.changelists.delete
            operationId: ChangelistService_DeleteChangelist
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: changelist
                  in: path
                  description: The changelist id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - ChangelistService
            description: |-
                Updates a changelist.
                 Permissions required: bb.changelists.update
                 When allow_missing=true, also requires: bb.changelists.create
            operationId: ChangelistService_UpdateChangelist
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: changelist
                  in: path
                  description: The changelist id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to be updated.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the changelist is not found, a new changelist will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Changelist'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Changelist'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/databaseGroups:
        get:
            tags:
                - DatabaseGroupService
            description: |-
                Lists database groups in a project.
                 Permissions required: bb.projects.get
            operationId: DatabaseGroupService_ListDatabaseGroups
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: view
                  in: query
                  description: The view to return. Defaults to DATABASE_GROUP_VIEW_BASIC.
                  schema:
                    enum:
                        - DATABASE_GROUP_VIEW_UNSPECIFIED
                        - DATABASE_GROUP_VIEW_BASIC
                        - DATABASE_GROUP_VIEW_FULL
                    type: string
                    format: enum
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListDatabaseGroupsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - DatabaseGroupService
            description: |-
                Creates a new database group.
                 Permissions required: bb.projects.update
            operationId: DatabaseGroupService_CreateDatabaseGroup
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: databaseGroupId
                  in: query
                  description: |-
                    The ID to use for the database group, which will become the final component of
                     the database group's resource name.

                     This value should be 4-63 characters, and valid characters
                     are /[a-z][0-9]-/.
                  schema:
                    type: string
                - name: validateOnly
                  in: query
                  description: If set, validate the create request and preview the full database group response, but do not actually create it.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DatabaseGroup'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseGroup'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/databaseGroups/{databaseGroup}:
        get:
            tags:
                - DatabaseGroupService
            description: |-
                Gets a database group by name.
                 Permissions required: bb.projects.get
            operationId: DatabaseGroupService_GetDatabaseGroup
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: databaseGroup
                  in: path
                  description: The databaseGroup id.
                  required: true
                  schema:
                    type: string
                - name: view
                  in: query
                  description: The view to return. Defaults to DATABASE_GROUP_VIEW_BASIC.
                  schema:
                    enum:
                        - DATABASE_GROUP_VIEW_UNSPECIFIED
                        - DATABASE_GROUP_VIEW_BASIC
                        - DATABASE_GROUP_VIEW_FULL
                    type: string
                    format: enum
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseGroup'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - DatabaseGroupService
            description: |-
                Deletes a database group.
                 Permissions required: bb.projects.update
            operationId: DatabaseGroupService_DeleteDatabaseGroup
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: databaseGroup
                  in: path
                  description: The databaseGroup id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - DatabaseGroupService
            description: |-
                Updates a database group.
                 Permissions required: bb.projects.update
                 When allow_missing=true, also requires: bb.projects.update
            operationId: DatabaseGroupService_UpdateDatabaseGroup
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: databaseGroup
                  in: path
                  description: The databaseGroup id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the database group is not found, a new database group will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DatabaseGroup'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatabaseGroup'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/databases:
        get:
            tags:
                - DatabaseService
            description: |-
                Lists databases in a project, instance, or workspace.
                 Permissions required: bb.projects.get (for project parent), bb.databases.list (for workspace parent), or bb.instances.get (for instance parent)
            operationId: DatabaseService_ListDatabases
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of databases to return. The service may return fewer
                     than this value.
                     If unspecified, at most 10 databases will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListDatabases` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListDatabases` must
                     match the call that provided the page token.
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter databases returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filter:
                     - environment: the environment full name in "environments/{id}" format, support "==" operator.
                     - name: the database name, support ".matches()" operator.
                     - project: the project full name in "projects/{id}" format, support "==" operator.
                     - instance: the instance full name in "instances/{id}" format, support "==" operator.
                     - engine: the database engine, check Engine enum for values. Support "==", "in [xx]", "!(in [xx])" operator.
                     - exclude_unassigned: should be "true" or "false", will not show unassigned databases if it's true, support "==" operator.
                     - drifted: should be "true" or "false", show drifted databases if it's true, support "==" operator.
                     - table: filter by the database table, support "==" and ".matches()" operator.
                     - labels.{key}: the database label, support "==" and "in" operators.

                     For example:
                     environment == "environments/{environment resource id}"
                     environment == "" (find databases which environment is not set)
                     project == "projects/{project resource id}"
                     instance == "instances/{instance resource id}"
                     name.matches("database name")
                     engine == "MYSQL"
                     engine in ["MYSQL", "POSTGRES"]
                     !(engine in ["MYSQL", "POSTGRES"])
                     exclude_unassigned == true
                     drifted == true
                     table == "sample"
                     table.matches("sam")
                     labels.environment == "production"
                     labels.region == "asia"
                     labels.region in ["asia", "europe"]

                     You can combine filter conditions like:
                     environment == "environments/prod" && name.matches("employee")
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted database if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/databases:batchGet:
        get:
            tags:
                - DatabaseService
            description: |-
                Retrieves multiple databases by their names.
                 Permissions required: bb.databases.get
            operationId: DatabaseService_BatchGetDatabases
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: names
                  in: query
                  description: The list of database names to retrieve.
                  schema:
                    type: array
                    items:
                        type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchGetDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues:
        get:
            tags:
                - IssueService
            description: |-
                Lists issues in a project.
                 Permissions required: bb.issues.list
            operationId: IssueService_ListIssues
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of issues to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 issues will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListIssues` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListIssues` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter issues returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filters:
                     - creator: issue creator full name in "users/{email or id}" format, support "==" operator.
                     - status: the issue status, support "==" and "in" operator, check the IssueStatus enum for the values.
                     - create_time: issue create time in "2006-01-02T15:04:05Z07:00" format, support ">=" or "<=" operator.
                     - type: the issue type, support "==" and "in" operator, check the Type enum in the Issue message for the values.
                     - task_type: support "==" operator, the value can be "DDL", "DML" or "DATA_EXPORT"
                     - instance: the instance full name in the "instances/{id}" format, support "==" operator.
                     - database: the database full name in the "instances/{id}/databases/{name}" format, support "==" operator.
                     - environment: the database full name in the "environments/{name}" format, support "==" operator.
                     - labels: the issue labels, support "==" and "in" operator.

                     For example:
                     creator == "users/ed@bytebase.com" && status in ["OPEN", "DONE"]
                     status == "CANCELED" && type == "DATABASE_CHANGE"
                     instance == "instances/sample" && labels in ["label1", "label2"]
                     create_time >= "2025-01-02T15:04:05Z07:00"
                     environment == "environments/test"
                  schema:
                    type: string
                - name: query
                  in: query
                  description: Query is the query statement.
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListIssuesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - IssueService
            description: |-
                Creates a new issue for database changes or tasks.
                 Permissions required: bb.issues.create
            operationId: IssueService_CreateIssue
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Issue'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Issue'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues/{issue}:
        get:
            tags:
                - IssueService
            description: |-
                Retrieves an issue by name.
                 Permissions required: bb.issues.get
            operationId: IssueService_GetIssue
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
                - name: force
                  in: query
                  description: If set to true, bypass cache and fetch the latest data.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Issue'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - IssueService
            description: |-
                Updates an issue's properties such as title, description, or labels.
                 Permissions required: bb.issues.update
            operationId: IssueService_UpdateIssue
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the issue is not found, a new issue will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Issue'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Issue'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues/{issue}/issueComments:
        get:
            tags:
                - IssueService
            description: |-
                Lists comments on an issue.
                 Permissions required: bb.issueComments.list
            operationId: IssueService_ListIssueComments
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of issue comments to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 issue comments will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListIssueComments` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListIssueComments` must match
                     the call that provided the page token.
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListIssueCommentsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues/{issue}:approve:
        post:
            tags:
                - IssueService
            description: |-
                Approves an issue. Access determined by approval flow configuration - caller must be a designated approver for the current approval step.
                 Permissions required: None (determined by approval flow)
            operationId: IssueService_ApproveIssue
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ApproveIssueRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Issue'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues/{issue}:comment:
        post:
            tags:
                - IssueService
            description: |-
                Adds a comment to an issue.
                 Permissions required: bb.issueComments.create
            operationId: IssueService_CreateIssueComment
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IssueComment'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IssueComment'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - IssueService
            description: |-
                Updates an existing issue comment.
                 Permissions required: bb.issueComments.update
            operationId: IssueService_UpdateIssueComment
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the issue comment is not found, a new issue comment will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/IssueComment'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IssueComment'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues/{issue}:reject:
        post:
            tags:
                - IssueService
            description: |-
                Rejects an issue. Access determined by approval flow configuration - caller must be a designated approver for the current approval step.
                 Permissions required: None (determined by approval flow)
            operationId: IssueService_RejectIssue
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RejectIssueRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Issue'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues/{issue}:request:
        post:
            tags:
                - IssueService
            description: |-
                Requests changes on an issue. Access determined by approval flow configuration - caller must be a designated approver for the current approval step.
                 Permissions required: None (determined by approval flow)
            operationId: IssueService_RequestIssue
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: issue
                  in: path
                  description: The issue id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RequestIssueRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Issue'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues:batchUpdateStatus:
        post:
            tags:
                - IssueService
            description: |-
                Updates the status of multiple issues in a single operation.
                 Permissions required: bb.issues.update
            operationId: IssueService_BatchUpdateIssuesStatus
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchUpdateIssuesStatusRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchUpdateIssuesStatusResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/issues:search:
        post:
            tags:
                - IssueService
            description: |-
                Search for issues that the caller has the bb.issues.get permission on and also satisfy the specified filter & query.
                 Permissions required: bb.issues.get
            operationId: IssueService_SearchIssues
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchIssuesRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchIssuesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/plans:
        get:
            tags:
                - PlanService
            description: |-
                Lists deployment plans in a project.
                 Permissions required: bb.plans.list
            operationId: PlanService_ListPlans
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of plans to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 plans will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListPlans` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListPlans` must match
                     the call that provided the page token.
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPlansResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - PlanService
            description: |-
                Creates a new deployment plan.
                 Permissions required: bb.plans.create
            operationId: PlanService_CreatePlan
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Plan'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Plan'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/plans/{plan}:
        get:
            tags:
                - PlanService
            description: |-
                Retrieves a deployment plan by name.
                 Permissions required: bb.plans.get
            operationId: PlanService_GetPlan
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: plan
                  in: path
                  description: The plan id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Plan'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - PlanService
            description: |-
                UpdatePlan updates the plan.
                 The plan creator and the user with bb.plans.update permission on the project can update the plan.
                 Permissions required: bb.plans.update (or creator)
            operationId: PlanService_UpdatePlan
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: plan
                  in: path
                  description: The plan id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the plan is not found, a new plan will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Plan'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Plan'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/plans/{plan}/planCheckRuns:
        get:
            tags:
                - PlanService
            description: |-
                Lists plan check runs for a deployment plan.
                 Permissions required: bb.planCheckRuns.list
            operationId: PlanService_ListPlanCheckRuns
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: plan
                  in: path
                  description: The plan id.
                  required: true
                  schema:
                    type: string
                - name: latestOnly
                  in: query
                  description: If set to true, only the latest plan check run will be returned.
                  schema:
                    type: boolean
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter plan check runs returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filters:
                     - status: the plan check run status, support "==" and "in" operator, check the Status enum in the PlanCheckRun message for the values.
                     - result_status: the plan check run result status, support "==" and "in" operator, check the Result.Status enum in the PlanCheckRun message for the values.

                     For example:
                     status in ["DONE", "FAILED"]
                     status == "RUNNING"
                     result_status in ["SUCCESS", "ERROR"]
                     result_status == "WARNING"
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPlanCheckRunsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/plans/{plan}/planCheckRuns:batchCancel:
        post:
            tags:
                - PlanService
            description: |-
                Cancels multiple plan check runs.
                 Permissions required: bb.planCheckRuns.run
            operationId: PlanService_BatchCancelPlanCheckRuns
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: plan
                  in: path
                  description: The plan id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchCancelPlanCheckRunsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchCancelPlanCheckRunsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/plans/{plan}:runPlanChecks:
        post:
            tags:
                - PlanService
            description: |-
                Executes validation checks on a deployment plan.
                 Permissions required: bb.planCheckRuns.run
            operationId: PlanService_RunPlanChecks
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: plan
                  in: path
                  description: The plan id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RunPlanChecksRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/RunPlanChecksResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/plans:search:
        post:
            tags:
                - PlanService
            description: |-
                Search for plans that the caller has the bb.plans.get permission on and also satisfy the specified filter & query.
                 Permissions required: bb.plans.get
            operationId: PlanService_SearchPlans
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchPlansRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchPlansResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/policies:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Lists policies at a specified resource level.
                 Permissions required: bb.policies.list
            operationId: OrgPolicyService_ListPolicies
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: policyType
                  in: query
                  description: Filter by specific policy type.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
                - name: showDeleted
                  in: query
                  description: Show deleted policies if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListPoliciesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - OrgPolicyService
            description: |-
                Creates a new organizational policy.
                 Permissions required: bb.policies.create
            operationId: OrgPolicyService_CreatePolicy
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: type
                  in: query
                  description: The type of policy to create.
                  schema:
                    enum:
                        - POLICY_TYPE_UNSPECIFIED
                        - ROLLOUT_POLICY
                        - MASKING_RULE
                        - MASKING_EXCEPTION
                        - TAG
                        - DATA_SOURCE_QUERY
                        - DATA_QUERY
                    type: string
                    format: enum
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/policies/{policy}:
        get:
            tags:
                - OrgPolicyService
            description: |-
                Retrieves a policy by name.
                 Permissions required: bb.policies.get
            operationId: OrgPolicyService_GetPolicy
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - OrgPolicyService
            description: |-
                Deletes an organizational policy.
                 Permissions required: bb.policies.delete
            operationId: OrgPolicyService_DeletePolicy
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - OrgPolicyService
            description: |-
                Updates an existing organizational policy.
                 Permissions required: bb.policies.update
            operationId: OrgPolicyService_UpdatePolicy
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: policy
                  in: path
                  description: The policy id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the policy is not found, a new policy will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Policy'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Policy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/releases:
        get:
            tags:
                - ReleaseService
            description: |-
                Lists releases in a project.
                 Permissions required: bb.releases.list
            operationId: ReleaseService_ListReleases
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of releases to return. The service may return fewer than this value.
                     If unspecified, at most 10 releases will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListReleases` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListReleases` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted releases if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListReleasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - ReleaseService
            description: |-
                Creates a new release with SQL files.
                 Permissions required: bb.releases.create
            operationId: ReleaseService_CreateRelease
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Release'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Release'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/releases/{release}:
        get:
            tags:
                - ReleaseService
            description: |-
                Retrieves a release by name.
                 Permissions required: bb.releases.get
            operationId: ReleaseService_GetRelease
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: release
                  in: path
                  description: The release id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Release'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - ReleaseService
            description: |-
                Deletes a release.
                 Permissions required: bb.releases.delete
            operationId: ReleaseService_DeleteRelease
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: release
                  in: path
                  description: The release id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - ReleaseService
            description: |-
                Updates an existing release.
                 Permissions required: bb.releases.update
                 When allow_missing=true, also requires: bb.releases.create
            operationId: ReleaseService_UpdateRelease
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: release
                  in: path
                  description: The release id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to be updated.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the release is not found, a new release will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Release'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Release'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/releases/{release}:undelete:
        post:
            tags:
                - ReleaseService
            description: |-
                Restores a deleted release.
                 Permissions required: bb.releases.undelete
            operationId: ReleaseService_UndeleteRelease
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: release
                  in: path
                  description: The release id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Release'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/releases:check:
        post:
            tags:
                - ReleaseService
            description: |-
                Validates a release by dry-running checks on target databases.
                 Permissions required: bb.releases.check
            operationId: ReleaseService_CheckRelease
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CheckReleaseRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CheckReleaseResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/releases:search:
        get:
            tags:
                - ReleaseService
            description: |-
                Searches releases by digest or other criteria.
                 Permissions required: bb.releases.get
            operationId: ReleaseService_SearchReleases
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of releases to return. The service may return fewer than this value.
                     If unspecified, at most 10 releases will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListReleases` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListReleases` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: digest
                  in: query
                  description: Search by the digest of the release.
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchReleasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts:
        get:
            tags:
                - RolloutService
            description: |-
                Lists rollouts in a project.
                 Permissions required: bb.rollouts.list
            operationId: RolloutService_ListRollouts
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of rollouts to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 rollouts will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListRollouts` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListRollouts` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter rollouts returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filters:
                     - creator: the rollout creator full name in "users/{email or id}" format, support "==" operator.
                     - update_time: rollout update time in "2006-01-02T15:04:05Z07:00" format, support ">=" or "<=" operator.
                     - task_type: the task type, support "==" and "in" operators, check the Task.Type enum for the values.

                     For example:
                     creator == "users/ed@bytebase.com" && update_time >= "2025-01-02T15:04:05Z07:00"
                     task_type == "DATABASE_MIGRATE"
                     task_type in ["DATABASE_MIGRATE", "DATABASE_EXPORT"]
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListRolloutsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - RolloutService
            description: |-
                Creates a new rollout from a plan.
                 Permissions required: bb.rollouts.create
            operationId: RolloutService_CreateRollout
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: target
                  in: query
                  description: |-
                    Create the rollout and the stages up to the target stage.
                     Format: environments/{environment}
                     If unspecified, all stages are created.
                     If set to "", no stages are created.
                  schema:
                    type: string
                - name: validateOnly
                  in: query
                  description: |-
                    If set, validate the request and preview the rollout, but
                     do not actually create it.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Rollout'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Rollout'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}:
        get:
            tags:
                - RolloutService
            description: |-
                Retrieves a rollout by name.
                 Permissions required: bb.rollouts.get
            operationId: RolloutService_GetRollout
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Rollout'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns:
        get:
            tags:
                - RolloutService
            description: |-
                Lists task run executions for a task.
                 Permissions required: bb.taskRuns.list
            operationId: RolloutService_ListTaskRuns
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
                - name: task
                  in: path
                  description: The task id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListTaskRunsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}:
        get:
            tags:
                - RolloutService
            description: |-
                Retrieves a task run by name.
                 Permissions required: bb.taskRuns.list
            operationId: RolloutService_GetTaskRun
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
                - name: task
                  in: path
                  description: The task id.
                  required: true
                  schema:
                    type: string
                - name: taskRun
                  in: path
                  description: The taskRun id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TaskRun'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}/log:
        get:
            tags:
                - RolloutService
            description: |-
                Retrieves execution logs for a task run.
                 Permissions required: bb.taskRuns.list
            operationId: RolloutService_GetTaskRunLog
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
                - name: task
                  in: path
                  description: The task id.
                  required: true
                  schema:
                    type: string
                - name: taskRun
                  in: path
                  description: The taskRun id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TaskRunLog'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}/session:
        get:
            tags:
                - RolloutService
            description: |-
                Retrieves database session information for a running task.
                 Permissions required: bb.taskRuns.list
            operationId: RolloutService_GetTaskRunSession
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
                - name: task
                  in: path
                  description: The task id.
                  required: true
                  schema:
                    type: string
                - name: taskRun
                  in: path
                  description: The taskRun id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TaskRunSession'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}:previewRollback:
        post:
            tags:
                - RolloutService
            description: |-
                Generates rollback SQL for a completed task run.
                 Permissions required: bb.taskRuns.list
            operationId: RolloutService_PreviewTaskRunRollback
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
                - name: task
                  in: path
                  description: The task id.
                  required: true
                  schema:
                    type: string
                - name: taskRun
                  in: path
                  description: The taskRun id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/PreviewTaskRunRollbackRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PreviewTaskRunRollbackResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns:batchCancel:
        post:
            tags:
                - RolloutService
            description: |-
                Cancels multiple running task executions.
                 Permissions required: bb.taskRuns.create (or issue creator for data export issues, or user with rollout policy role for the environment)
            operationId: RolloutService_BatchCancelTaskRuns
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
                - name: task
                  in: path
                  description: The task id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchCancelTaskRunsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchCancelTaskRunsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks:batchRun:
        post:
            tags:
                - RolloutService
            description: |-
                Executes multiple tasks in a rollout stage.
                 Permissions required: bb.taskRuns.create (or issue creator for data export issues, or user with rollout policy role for the environment)
            operationId: RolloutService_BatchRunTasks
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchRunTasksRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchRunTasksResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}/tasks:batchSkip:
        post:
            tags:
                - RolloutService
            description: |-
                Skips multiple tasks in a rollout stage.
                 Permissions required: bb.taskRuns.create (or issue creator for data export issues, or user with rollout policy role for the environment)
            operationId: RolloutService_BatchSkipTasks
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchSkipTasksRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchSkipTasksResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}/stages/{stage}:export:
        post:
            tags:
                - SQLService
            description: |-
                Exports query results to a file format.
                 Permissions required: bb.databases.get
            operationId: SQLService_Export
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
                - name: stage
                  in: path
                  description: The stage id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ExportRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExportResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/rollouts/{rollout}:export:
        post:
            tags:
                - SQLService
            description: |-
                Exports query results to a file format.
                 Permissions required: bb.databases.get
            operationId: SQLService_Export
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: rollout
                  in: path
                  description: The rollout id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ExportRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ExportResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/sheets:
        post:
            tags:
                - SheetService
            description: |-
                Creates a new SQL sheet.
                 Permissions required: bb.sheets.create
            operationId: SheetService_CreateSheet
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Sheet'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Sheet'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/sheets/{sheet}:
        get:
            tags:
                - SheetService
            description: |-
                Retrieves a SQL sheet by name.
                 Permissions required: bb.sheets.get
            operationId: SheetService_GetSheet
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: sheet
                  in: path
                  description: The sheet id.
                  required: true
                  schema:
                    type: string
                - name: raw
                  in: query
                  description: By default, the content of the sheet is cut off, set the `raw` to true to retrieve the full content.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Sheet'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - SheetService
            description: |-
                Updates a SQL sheet's title or content.
                 Permissions required: bb.sheets.update
            operationId: SheetService_UpdateSheet
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: sheet
                  in: path
                  description: The sheet id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: |-
                    The list of fields to be updated.
                     Fields are specified relative to the sheet.
                     (e.g., `title`, `statement`; *not* `sheet.title` or `sheet.statement`)
                     Only support update the following fields for now:
                     - `title`
                     - `statement`
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the sheet is not found, a new sheet will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Sheet'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Sheet'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/sheets:batchCreate:
        post:
            tags:
                - SheetService
            description: |-
                Creates multiple SQL sheets in a single operation.
                 Permissions required: bb.sheets.create
            operationId: SheetService_BatchCreateSheets
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchCreateSheetsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchCreateSheetsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/webhooks/{webhook}:removeWebhook:
        post:
            tags:
                - ProjectService
            description: |-
                Removes a webhook from a project.
                 Permissions required: bb.projects.update
            operationId: ProjectService_RemoveWebhook
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: webhook
                  in: path
                  description: The webhook id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RemoveWebhookRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}/webhooks/{webhook}:updateWebhook:
        patch:
            tags:
                - ProjectService
            description: |-
                Updates an existing webhook configuration.
                 Permissions required: bb.projects.update
            operationId: ProjectService_UpdateWebhook
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
                - name: webhook
                  in: path
                  description: The webhook id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the webhook is not found, a new webhook will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Webhook'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:addWebhook:
        post:
            tags:
                - ProjectService
            description: |-
                Adds a webhook to a project for notifications.
                 Permissions required: bb.projects.update
            operationId: ProjectService_AddWebhook
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AddWebhookRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:getIamPolicy:
        get:
            tags:
                - ProjectService
            description: |-
                Retrieves the IAM policy for a project.
                 Permissions required: bb.projects.getIamPolicy
            operationId: ProjectService_GetIamPolicy
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IamPolicy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:previewRollout:
        post:
            tags:
                - RolloutService
            description: |-
                Previews the rollout that would be created from a plan.
                 Permissions required: bb.rollouts.preview
            operationId: RolloutService_PreviewRollout
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/PreviewRolloutRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Rollout'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:setIamPolicy:
        post:
            tags:
                - ProjectService
            description: |-
                Sets the IAM policy for a project.
                 Permissions required: bb.projects.setIamPolicy
            operationId: ProjectService_SetIamPolicy
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SetIamPolicyRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IamPolicy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:testWebhook:
        post:
            tags:
                - ProjectService
            description: |-
                Tests a webhook by sending a test notification.
                 Permissions required: bb.projects.update
            operationId: ProjectService_TestWebhook
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/TestWebhookRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TestWebhookResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects/{project}:undelete:
        post:
            tags:
                - ProjectService
            description: |-
                Restores a soft-deleted project.
                 Permissions required: bb.projects.undelete
            operationId: ProjectService_UndeleteProject
            parameters:
                - name: project
                  in: path
                  description: The project id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UndeleteProjectRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Project'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects:batchDelete:
        post:
            tags:
                - ProjectService
            description: |-
                Deletes multiple projects in a single operation.
                 Permissions required: bb.projects.delete
            operationId: ProjectService_BatchDeleteProjects
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BatchDeleteProjectsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/projects:search:
        post:
            tags:
                - ProjectService
            description: |-
                Searches for projects with advanced filtering capabilities.
                 Permissions required: bb.projects.get (or project-level bb.projects.get for specific projects)
            operationId: ProjectService_SearchProjects
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchProjectsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchProjectsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/queryHistories:search:
        post:
            tags:
                - SQLService
            description: |-
                SearchQueryHistories searches query histories for the caller.
                 Permissions required: None (only returns caller's own query histories)
            operationId: SQLService_SearchQueryHistories
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchQueryHistoriesRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchQueryHistoriesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/reviewConfigs:
        get:
            tags:
                - ReviewConfigService
            description: |-
                Lists all SQL review configurations.
                 Permissions required: bb.reviewConfigs.list
            operationId: ReviewConfigService_ListReviewConfigs
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListReviewConfigsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - ReviewConfigService
            description: |-
                Creates a new SQL review configuration.
                 Permissions required: bb.reviewConfigs.create
            operationId: ReviewConfigService_CreateReviewConfig
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ReviewConfig'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ReviewConfig'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/reviewConfigs/{reviewConfig}:
        get:
            tags:
                - ReviewConfigService
            description: |-
                Retrieves a SQL review configuration by name.
                 Permissions required: bb.reviewConfigs.get
            operationId: ReviewConfigService_GetReviewConfig
            parameters:
                - name: reviewConfig
                  in: path
                  description: The reviewConfig id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ReviewConfig'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - ReviewConfigService
            description: |-
                Deletes a SQL review configuration.
                 Permissions required: bb.reviewConfigs.delete
            operationId: ReviewConfigService_DeleteReviewConfig
            parameters:
                - name: reviewConfig
                  in: path
                  description: The reviewConfig id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - ReviewConfigService
            description: |-
                Updates a SQL review configuration.
                 Permissions required: bb.reviewConfigs.update
                 When allow_missing=true, also requires: bb.reviewConfigs.create
            operationId: ReviewConfigService_UpdateReviewConfig
            parameters:
                - name: reviewConfig
                  in: path
                  description: The reviewConfig id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the config is not found, a new config will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ReviewConfig'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ReviewConfig'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/risks:
        get:
            tags:
                - RiskService
            description: |-
                Lists all risk assessment rules.
                 Permissions required: bb.risks.list
            operationId: RiskService_ListRisks
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListRisksResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - RiskService
            description: |-
                Creates a new risk assessment rule.
                 Permissions required: bb.risks.create
            operationId: RiskService_CreateRisk
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Risk'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Risk'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/risks/{risk}:
        get:
            tags:
                - RiskService
            description: |-
                Retrieves a risk assessment rule by name.
                 Permissions required: bb.risks.list
            operationId: RiskService_GetRisk
            parameters:
                - name: risk
                  in: path
                  description: The risk id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Risk'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - RiskService
            description: |-
                Deletes a risk assessment rule.
                 Permissions required: bb.risks.delete
            operationId: RiskService_DeleteRisk
            parameters:
                - name: risk
                  in: path
                  description: The risk id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - RiskService
            description: |-
                Updates an existing risk assessment rule.
                 Permissions required: bb.risks.update
                 When allow_missing=true, also requires: bb.risks.create
            operationId: RiskService_UpdateRisk
            parameters:
                - name: risk
                  in: path
                  description: The risk id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the risk is not found, a new risk will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Risk'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Risk'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/roles:
        get:
            tags:
                - RoleService
            description: |-
                Lists roles in the workspace.
                 Permissions required: bb.roles.list
            operationId: RoleService_ListRoles
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListRolesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - RoleService
            description: |-
                Creates a new custom role.
                 Permissions required: bb.roles.create
            operationId: RoleService_CreateRole
            parameters:
                - name: roleId
                  in: query
                  description: |-
                    The ID to use for the role, which will become the final component
                     of the role's resource name.

                     This value should be 4-63 characters, and valid characters
                     are /[a-z][A-Z][0-9]/.
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Role'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Role'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/roles/{role}:
        get:
            tags:
                - RoleService
            description: |-
                Retrieves a role by name.
                 Permissions required: bb.roles.get
            operationId: RoleService_GetRole
            parameters:
                - name: role
                  in: path
                  description: The role id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Role'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - RoleService
            description: |-
                Deletes a custom role.
                 Permissions required: bb.roles.delete
            operationId: RoleService_DeleteRole
            parameters:
                - name: role
                  in: path
                  description: The role id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - RoleService
            description: |-
                Updates a role's properties.
                 Permissions required: bb.roles.update
                 When allow_missing=true, also requires: bb.roles.create
            operationId: RoleService_UpdateRole
            parameters:
                - name: role
                  in: path
                  description: The role id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the role is not found, a new role will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Role'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Role'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/schemaDesign:diffMetadata:
        post:
            tags:
                - SQLService
            description: |-
                Computes schema differences between two database metadata.
                 Permissions required: None
            operationId: SQLService_DiffMetadata
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DiffMetadataRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DiffMetadataResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/settings:
        get:
            tags:
                - SettingService
            description: |-
                Lists all workspace settings.
                 Permissions required: bb.settings.list
            operationId: SettingService_ListSettings
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListSettingsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/settings/{setting}:
        get:
            tags:
                - SettingService
            description: |-
                Retrieves a workspace setting by name.
                 Permissions required: bb.settings.get
            operationId: SettingService_GetSetting
            parameters:
                - name: setting
                  in: path
                  description: The setting id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Setting'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - SettingService
            description: |-
                Updates a workspace setting.
                 Permissions required: bb.settings.set
            operationId: SettingService_UpdateSetting
            parameters:
                - name: setting
                  in: path
                  description: The setting id.
                  required: true
                  schema:
                    type: string
                - name: validateOnly
                  in: query
                  description: |-
                    validate_only is a flag to indicate whether to validate the setting value,
                     server would not persist the setting value if it is true.
                  schema:
                    type: boolean
                - name: allowMissing
                  in: query
                  schema:
                    type: boolean
                - name: updateMask
                  in: query
                  schema:
                    type: string
                    format: field-mask
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Setting'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Setting'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/sql/aiCompletion:
        post:
            tags:
                - SQLService
            description: |-
                Provides AI-powered SQL completion and generation.
                 Permissions required: None (authenticated users only, requires AI to be enabled)
            operationId: SQLService_AICompletion
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AICompletionRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AICompletionResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/subscription:
        get:
            tags:
                - SubscriptionService
            description: |-
                GetSubscription returns the current subscription.
                 If there is no license, we will return a free plan subscription without expiration time.
                 If there is expired license, we will return a free plan subscription with the expiration time of the expired license.
                 Permissions required: None
            operationId: SubscriptionService_GetSubscription
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Subscription'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - SubscriptionService
            description: |-
                Updates the enterprise license subscription.
                 Permissions required: bb.settings.set
            operationId: SubscriptionService_UpdateSubscription
            parameters:
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the subscription is not found, a new subscription will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            type: string
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Subscription'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/users:
        get:
            tags:
                - UserService
            description: |-
                List all users.
                 Any authenticated user can list users.
                 Permissions required: bb.users.list
            operationId: UserService_ListUsers
            parameters:
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of users to return. The service may return fewer than
                     this value.
                     If unspecified, at most 10 users will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListUsers` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListUsers` must match
                     the call that provided the page token.
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted users if specified.
                  schema:
                    type: boolean
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter users returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filter:
                     - name: the user name, support "==" and ".matches()" operator.
                     - email: the user email, support "==" and ".matches()" operator.
                     - user_type: the type, check UserType enum for values, support "==", "in [xx]", "!(in [xx])" operator.
                     - state: check State enum for values, support "==" operator.
                     - project: the project full name in "projects/{id}" format, support "==" operator.

                     For example:
                     name == "ed"
                     name.matches("ed")
                     email == "ed@bytebase.com"
                     email.matches("ed")
                     user_type == "SERVICE_ACCOUNT"
                     user_type in ["SERVICE_ACCOUNT", "USER"]
                     !(user_type in ["SERVICE_ACCOUNT", "USER"])
                     state == "DELETED"
                     project == "projects/sample-project"
                     You can combine filter conditions like:
                     name.matches("ed") && project == "projects/sample-project"
                     (name == "ed" || email == "ed@bytebase.com") && project == "projects/sample-project"
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListUsersResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        post:
            tags:
                - UserService
            description: |-
                Creates a user. When Disallow Signup is enabled, requires bb.users.create permission; otherwise any user can sign up.
                 Permissions required: bb.users.create (only when Disallow Signup is enabled)
            operationId: UserService_CreateUser
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/User'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/users/me:
        get:
            tags:
                - UserService
            description: |-
                Get the current authenticated user.
                 Permissions required: None
            operationId: UserService_GetCurrentUser
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/users/{user}:
        get:
            tags:
                - UserService
            description: |-
                Get the user.
                 Any authenticated user can get the user.
                 Permissions required: bb.users.get
            operationId: UserService_GetUser
            parameters:
                - name: user
                  in: path
                  description: The user id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - UserService
            description: |-
                Deletes a user. Requires bb.users.delete permission with additional validation: the last remaining workspace admin cannot be deleted.
                 Permissions required: bb.users.delete
            operationId: UserService_DeleteUser
            parameters:
                - name: user
                  in: path
                  description: The user id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - UserService
            description: |-
                Updates a user. Users can update their own profile, or users with bb.users.update permission can update any user.
                 Permissions required: bb.users.update (or self)
            operationId: UserService_UpdateUser
            parameters:
                - name: user
                  in: path
                  description: The user id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: The list of fields to update.
                  schema:
                    type: string
                    format: field-mask
                - name: otpCode
                  in: query
                  description: The otp_code is used to verify the user's identity by MFA.
                  schema:
                    type: string
                - name: regenerateTempMfaSecret
                  in: query
                  description: |-
                    The regenerate_temp_mfa_secret flag means to regenerate temporary MFA secret for user.
                     This is used for MFA setup. The temporary MFA secret and recovery codes will be returned in the response.
                  schema:
                    type: boolean
                - name: regenerateRecoveryCodes
                  in: query
                  description: The regenerate_recovery_codes flag means to regenerate recovery codes for user.
                  schema:
                    type: boolean
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the user is not found, a new user will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/User'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/users/{user}:undelete:
        post:
            tags:
                - UserService
            description: |-
                Restores a deleted user.
                 Permissions required: bb.users.undelete
            operationId: UserService_UndeleteUser
            parameters:
                - name: user
                  in: path
                  description: The user id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UndeleteUserRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/User'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/users:batchGet:
        get:
            tags:
                - UserService
            description: |-
                Get the users in batch.
                 Any authenticated user can batch get users.
                 Permissions required: bb.users.get
            operationId: UserService_BatchGetUsers
            parameters:
                - name: names
                  in: query
                  description: |-
                    The user names to retrieve.
                     Format: users/{user uid or user email}
                  schema:
                    type: array
                    items:
                        type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchGetUsersResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/worksheets:
        post:
            tags:
                - WorksheetService
            description: |-
                Creates a personal worksheet used in SQL Editor. Any authenticated user can create their own worksheets.
                 Permissions required: None (authenticated users only)
            operationId: WorksheetService_CreateWorksheet
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Worksheet'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Worksheet'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/worksheets/{worksheet}:
        get:
            tags:
                - WorksheetService
            description: |-
                Get a worksheet by name.
                 The users can access this method if,
                 - they are the creator of the worksheet;
                 - they have bb.worksheets.get permission on the workspace;
                 - the sheet is shared with them with PROJECT_READ and PROJECT_WRITE visibility, and they have bb.projects.get permission on the project.
                 Permissions required: bb.worksheets.get (or creator, or project member for shared worksheets)
            operationId: WorksheetService_GetWorksheet
            parameters:
                - name: worksheet
                  in: path
                  description: The worksheet id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Worksheet'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        delete:
            tags:
                - WorksheetService
            description: |-
                Delete a worksheet.
                 The access is the same as UpdateWorksheet method.
                 Permissions required: bb.worksheets.manage (or creator, or project member for PROJECT_WRITE worksheets)
            operationId: WorksheetService_DeleteWorksheet
            parameters:
                - name: worksheet
                  in: path
                  description: The worksheet id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content: {}
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
        patch:
            tags:
                - WorksheetService
            description: |-
                Update a worksheet.
                 The users can access this method if,
                 - they are the creator of the worksheet;
                 - they have bb.worksheets.manage permission on the workspace;
                 - the sheet is shared with them with PROJECT_WRITE visibility, and they have bb.projects.get permission on the project.
                 Permissions required: bb.worksheets.manage (or creator, or project member for PROJECT_WRITE worksheets)
            operationId: WorksheetService_UpdateWorksheet
            parameters:
                - name: worksheet
                  in: path
                  description: The worksheet id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: |-
                    The list of fields to be updated.
                     Fields are specified relative to the worksheet.
                     (e.g., `title`, `statement`; *not* `worksheet.title` or `worksheet.statement`)
                     Only support update the following fields for now:
                     - `title`
                     - `statement`
                     - `starred`
                     - `visibility`
                  schema:
                    type: string
                    format: field-mask
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/Worksheet'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Worksheet'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/worksheets/{worksheet}/organizer:
        patch:
            tags:
                - WorksheetService
            description: |-
                Update the organizer of a worksheet.
                 The access is the same as UpdateWorksheet method.
                 Permissions required: bb.worksheets.get (or creator, or project member for shared worksheets)
            operationId: WorksheetService_UpdateWorksheetOrganizer
            parameters:
                - name: worksheet
                  in: path
                  description: The worksheet id.
                  required: true
                  schema:
                    type: string
                - name: updateMask
                  in: query
                  description: |-
                    The list of fields to be updated.
                     Fields are specified relative to the worksheet organizer.
                     Only support update the following fields for now:
                     - `starred`
                  schema:
                    type: string
                    format: field-mask
                - name: allowMissing
                  in: query
                  description: |-
                    If set to true, and the worksheet organizer is not found, a new worksheet organizer will be created.
                     In this situation, `update_mask` is ignored.
                  schema:
                    type: boolean
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/WorksheetOrganizer'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/WorksheetOrganizer'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/worksheets:search:
        post:
            tags:
                - WorksheetService
            description: |-
                Search for worksheets.
                 This is used for finding my worksheets or worksheets shared by other people.
                 The sheet accessibility is the same as GetWorksheet().
                 Permissions required: bb.worksheets.get (or creator, or project member for shared worksheets)
            operationId: WorksheetService_SearchWorksheets
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SearchWorksheetsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SearchWorksheetsResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/workspaces/{workspace}/databases:
        get:
            tags:
                - DatabaseService
            description: |-
                Lists databases in a project, instance, or workspace.
                 Permissions required: bb.projects.get (for project parent), bb.databases.list (for workspace parent), or bb.instances.get (for instance parent)
            operationId: DatabaseService_ListDatabases
            parameters:
                - name: workspace
                  in: path
                  description: The workspace id.
                  required: true
                  schema:
                    type: string
                - name: pageSize
                  in: query
                  description: |-
                    The maximum number of databases to return. The service may return fewer
                     than this value.
                     If unspecified, at most 10 databases will be returned.
                     The maximum value is 1000; values above 1000 will be coerced to 1000.
                  schema:
                    type: integer
                    format: int32
                - name: pageToken
                  in: query
                  description: |-
                    A page token, received from a previous `ListDatabases` call.
                     Provide this to retrieve the subsequent page.

                     When paginating, all other parameters provided to `ListDatabases` must
                     match the call that provided the page token.
                  schema:
                    type: string
                - name: filter
                  in: query
                  description: |-
                    Filter is used to filter databases returned in the list.
                     The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                     Supported filter:
                     - environment: the environment full name in "environments/{id}" format, support "==" operator.
                     - name: the database name, support ".matches()" operator.
                     - project: the project full name in "projects/{id}" format, support "==" operator.
                     - instance: the instance full name in "instances/{id}" format, support "==" operator.
                     - engine: the database engine, check Engine enum for values. Support "==", "in [xx]", "!(in [xx])" operator.
                     - exclude_unassigned: should be "true" or "false", will not show unassigned databases if it's true, support "==" operator.
                     - drifted: should be "true" or "false", show drifted databases if it's true, support "==" operator.
                     - table: filter by the database table, support "==" and ".matches()" operator.
                     - labels.{key}: the database label, support "==" and "in" operators.

                     For example:
                     environment == "environments/{environment resource id}"
                     environment == "" (find databases which environment is not set)
                     project == "projects/{project resource id}"
                     instance == "instances/{instance resource id}"
                     name.matches("database name")
                     engine == "MYSQL"
                     engine in ["MYSQL", "POSTGRES"]
                     !(engine in ["MYSQL", "POSTGRES"])
                     exclude_unassigned == true
                     drifted == true
                     table == "sample"
                     table.matches("sam")
                     labels.environment == "production"
                     labels.region == "asia"
                     labels.region in ["asia", "europe"]

                     You can combine filter conditions like:
                     environment == "environments/prod" && name.matches("employee")
                  schema:
                    type: string
                - name: showDeleted
                  in: query
                  description: Show deleted database if specified.
                  schema:
                    type: boolean
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListDatabasesResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/workspaces/{workspace}:getIamPolicy:
        get:
            tags:
                - WorkspaceService
            description: |-
                Retrieves IAM policy for the workspace.
                 Permissions required: bb.workspaces.getIamPolicy
            operationId: WorkspaceService_GetIamPolicy
            parameters:
                - name: workspace
                  in: path
                  description: The workspace id.
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IamPolicy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1/workspaces/{workspace}:setIamPolicy:
        post:
            tags:
                - WorkspaceService
            description: |-
                Sets IAM policy for the workspace.
                 Permissions required: bb.workspaces.setIamPolicy
            operationId: WorkspaceService_SetIamPolicy
            parameters:
                - name: workspace
                  in: path
                  description: The workspace id.
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SetIamPolicyRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IamPolicy'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
    /v1:adminExecute:
        get:
            tags:
                - SQLService
            description: |-
                Executes SQL with admin privileges via streaming connection.
                 Permissions required: bb.sql.admin
            operationId: SQLService_AdminExecute
            parameters:
                - name: name
                  in: query
                  description: |-
                    The name is the instance name to execute the query against.
                     Format: instances/{instance}/databases/{databaseName}
                  schema:
                    type: string
                - name: statement
                  in: query
                  description: The SQL statement to execute.
                  schema:
                    type: string
                - name: limit
                  in: query
                  description: The maximum number of rows to return.
                  schema:
                    type: integer
                    format: int32
                - name: schema
                  in: query
                  description: |-
                    The default schema to execute the statement. Equals to the current schema
                     in Oracle and search path in Postgres.
                  schema:
                    type: string
                - name: container
                  in: query
                  description: |-
                    Container is the container name to execute the query against, used for
                     CosmosDB only.
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminExecuteResponse'
                default:
                    description: Default error response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Status'
components:
    schemas:
        AICompletionRequest:
            type: object
            properties:
                messages:
                    type: array
                    items:
                        $ref: '#/components/schemas/AICompletionRequest_Message'
        AICompletionRequest_Message:
            type: object
            properties:
                role:
                    type: string
                content:
                    type: string
        AICompletionResponse:
            type: object
            properties:
                candidates:
                    type: array
                    items:
                        $ref: '#/components/schemas/AICompletionResponse_Candidate'
                    description: |-
                        candidates is used for results with multiple choices and candidates. Used
                         for OpenAI and Gemini.
        AICompletionResponse_Candidate:
            type: object
            properties:
                content:
                    $ref: '#/components/schemas/Candidate_Content'
        AISetting:
            type: object
            properties:
                enabled:
                    type: boolean
                provider:
                    enum:
                        - PROVIDER_UNSPECIFIED
                        - OPEN_AI
                        - CLAUDE
                        - GEMINI
                        - AZURE_OPENAI
                    type: string
                    format: enum
                endpoint:
                    type: string
                apiKey:
                    type: string
                model:
                    type: string
                version:
                    type: string
        ActuatorInfo:
            type: object
            properties:
                version:
                    readOnly: true
                    type: string
                    description: The Bytebase server version.
                gitCommit:
                    readOnly: true
                    type: string
                    description: The git commit hash of the build.
                readonly:
                    readOnly: true
                    type: boolean
                    description: Whether the Bytebase instance is running in read-only mode.
                saas:
                    readOnly: true
                    type: boolean
                    description: Whether the Bytebase instance is running in SaaS mode where some features cannot be edited by users.
                demo:
                    readOnly: true
                    type: boolean
                    description: Whether the Bytebase instance is running in demo mode.
                host:
                    readOnly: true
                    type: string
                    description: The host address of the Bytebase instance.
                port:
                    readOnly: true
                    type: string
                    description: The port number of the Bytebase instance.
                externalUrl:
                    readOnly: true
                    type: string
                    description: The external URL where users or webhook callbacks access Bytebase.
                needAdminSetup:
                    readOnly: true
                    type: boolean
                    description: Whether the Bytebase instance requires initial admin setup.
                disallowSignup:
                    readOnly: true
                    type: boolean
                    description: Whether self-service user signup is disabled.
                lastActiveTime:
                    readOnly: true
                    type: string
                    description: The last time any API call was made, refreshed on each request.
                    format: date-time
                require2fa:
                    readOnly: true
                    type: boolean
                    description: Whether two-factor authentication is required for all users.
                workspaceId:
                    readOnly: true
                    type: string
                    description: The unique identifier for the workspace.
                debug:
                    type: boolean
                    description: Whether debug mode is enabled.
                unlicensedFeatures:
                    readOnly: true
                    type: array
                    items:
                        type: string
                    description: List of features that are not licensed.
                disallowPasswordSignin:
                    readOnly: true
                    type: boolean
                    description: Whether password-based signin is disabled (except for workspace admins).
                passwordRestriction:
                    readOnly: true
                    allOf:
                        - $ref: '#/components/schemas/PasswordRestrictionSetting'
                    description: Password complexity and restriction requirements.
                docker:
                    readOnly: true
                    type: boolean
                    description: Whether the Bytebase instance is running in Docker.
                userStats:
                    readOnly: true
                    type: array
                    items:
                        $ref: '#/components/schemas/ActuatorInfo_StatUser'
                    description: Statistics about users in the system.
                activatedInstanceCount:
                    readOnly: true
                    type: integer
                    description: The number of activated database instances.
                    format: int32
                totalInstanceCount:
                    readOnly: true
                    type: integer
                    description: The total number of database instances.
                    format: int32
                enableSample:
                    readOnly: true
                    type: boolean
                    description: Whether sample data setup is enabled.
            description: |-
                System information and configuration for the Bytebase instance.
                 Actuator concept is similar to the Spring Boot Actuator.
        ActuatorInfo_StatUser:
            type: object
            properties:
                userType:
                    enum:
                        - USER_TYPE_UNSPECIFIED
                        - USER
                        - SYSTEM_BOT
                        - SERVICE_ACCOUNT
                    type: string
                    description: The type of user.
                    format: enum
                state:
                    enum:
                        - STATE_UNSPECIFIED
                        - ACTIVE
                        - DELETED
                    type: string
                    description: The state of the user.
                    format: enum
                count:
                    type: integer
                    description: The count of users matching this type and state.
                    format: int32
            description: User statistics by type and state.
        AddDataSourceRequest:
            required:
                - name
                - dataSource
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the instance to add a data source to.
                         Format: instances/{instance}
                dataSource:
                    allOf:
                        - $ref: '#/components/schemas/DataSource'
                    description: |-
                        Identified by data source ID.
                         Only READ_ONLY data source can be added.
                validateOnly:
                    type: boolean
                    description: Validate only also tests the data source connection.
        AddWebhookRequest:
            required:
                - project
                - webhook
            type: object
            properties:
                project:
                    type: string
                    description: |-
                        The name of the project to add the webhook to.
                         Format: projects/{project}
                webhook:
                    allOf:
                        - $ref: '#/components/schemas/Webhook'
                    description: The webhook to add.
        AdminExecuteResponse:
            type: object
            properties:
                results:
                    type: array
                    items:
                        $ref: '#/components/schemas/QueryResult'
                    description: The query results.
        Advice:
            type: object
            properties:
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - SUCCESS
                        - WARNING
                        - ERROR
                    type: string
                    description: The advice status.
                    format: enum
                code:
                    type: integer
                    description: The advice code.
                    format: int32
                title:
                    type: string
                    description: The advice title.
                content:
                    type: string
                    description: The advice content.
                startPosition:
                    allOf:
                        - $ref: '#/components/schemas/Position'
                    description: |-
                        The start_position is inclusive and the end_position is exclusive.
                         TODO: use range instead.
                endPosition:
                    $ref: '#/components/schemas/Position'
        Algorithm:
            type: object
            properties:
                fullMask:
                    $ref: '#/components/schemas/Algorithm_FullMask'
                rangeMask:
                    $ref: '#/components/schemas/Algorithm_RangeMask'
                md5Mask:
                    $ref: '#/components/schemas/Algorithm_MD5Mask'
                innerOuterMask:
                    $ref: '#/components/schemas/Algorithm_InnerOuterMask'
        Algorithm_FullMask:
            type: object
            properties:
                substitution:
                    type: string
                    description: |-
                        substitution is the string used to replace the original value, the
                         max length of the string is 16 bytes.
        Algorithm_InnerOuterMask:
            type: object
            properties:
                prefixLen:
                    type: integer
                    format: int32
                suffixLen:
                    type: integer
                    format: int32
                type:
                    enum:
                        - MASK_TYPE_UNSPECIFIED
                        - INNER
                        - OUTER
                    type: string
                    format: enum
                substitution:
                    type: string
        Algorithm_MD5Mask:
            type: object
            properties:
                salt:
                    type: string
                    description: salt is the salt value to generate a different hash that with the word alone.
        Algorithm_RangeMask:
            type: object
            properties:
                slices:
                    type: array
                    items:
                        $ref: '#/components/schemas/RangeMask_Slice'
                    description: |-
                        We store it as a repeated field to face the fact that the original value may have multiple parts should be masked.
                         But frontend can be started with a single rule easily.
        Announcement:
            type: object
            properties:
                level:
                    enum:
                        - ALERT_LEVEL_UNSPECIFIED
                        - INFO
                        - WARNING
                        - CRITICAL
                    type: string
                    description: The alert level of announcement
                    format: enum
                text:
                    type: string
                    description: The text of announcement
                link:
                    type: string
                    description: The optional link, user can follow the link to check extra details
        AppIMSetting:
            type: object
            properties:
                slack:
                    $ref: '#/components/schemas/AppIMSetting_Slack'
                feishu:
                    $ref: '#/components/schemas/AppIMSetting_Feishu'
                wecom:
                    $ref: '#/components/schemas/AppIMSetting_Wecom'
                lark:
                    $ref: '#/components/schemas/AppIMSetting_Lark'
                dingtalk:
                    $ref: '#/components/schemas/AppIMSetting_DingTalk'
        AppIMSetting_DingTalk:
            type: object
            properties:
                enabled:
                    type: boolean
                clientId:
                    type: string
                clientSecret:
                    type: string
                robotCode:
                    type: string
        AppIMSetting_Feishu:
            type: object
            properties:
                enabled:
                    type: boolean
                appId:
                    type: string
                appSecret:
                    type: string
        AppIMSetting_Lark:
            type: object
            properties:
                enabled:
                    type: boolean
                appId:
                    type: string
                appSecret:
                    type: string
        AppIMSetting_Slack:
            type: object
            properties:
                enabled:
                    type: boolean
                token:
                    type: string
        AppIMSetting_Wecom:
            type: object
            properties:
                enabled:
                    type: boolean
                corpId:
                    type: string
                agentId:
                    type: string
                secret:
                    type: string
        ApprovalFlow:
            type: object
            properties:
                roles:
                    type: array
                    items:
                        type: string
                    description: List of role names that must approve, in order.
            description: ApprovalFlow defines the sequence of approvals required.
        ApprovalTemplate:
            type: object
            properties:
                id:
                    type: string
                    description: |-
                        The unique identifier for the approval template.
                         Built-in templates use "bb." prefix (e.g., "bb.project-owner", "bb.workspace-dba").
                         Custom templates use a UUID or other unique identifier.
                flow:
                    allOf:
                        - $ref: '#/components/schemas/ApprovalFlow'
                    description: The approval workflow specification.
                title:
                    type: string
                    description: Human-readable title of the approval template.
                description:
                    type: string
                    description: Detailed description of when this template applies.
            description: ApprovalTemplate defines the approval workflow and requirements for an issue.
        ApproveIssueRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the issue to add an approver.
                         Format: projects/{project}/issues/{issue}
                comment:
                    type: string
                    description: The comment explaining the approval decision.
        AuditLog:
            type: object
            properties:
                name:
                    readOnly: true
                    type: string
                    description: |-
                        The name of the log.
                         Formats:
                         - projects/{project}/auditLogs/{uid}
                         - workspaces/{workspace}/auditLogs/{uid}
                createTime:
                    readOnly: true
                    type: string
                    description: The timestamp when the audit log was created.
                    format: date-time
                user:
                    type: string
                    description: |-
                        The user who performed the action.
                         Format: users/{email}
                method:
                    type: string
                    description: |-
                        The method or action being audited.
                         For example: /bytebase.v1.SQLService/Query or bb.project.repository.push
                severity:
                    enum:
                        - SEVERITY_UNSPECIFIED
                        - DEBUG
                        - INFO
                        - NOTICE
                        - WARNING
                        - ERROR
                        - CRITICAL
                        - ALERT
                        - EMERGENCY
                    type: string
                    description: The severity level of this audit log entry.
                    format: enum
                resource:
                    type: string
                    description: The resource associated with this audit log.
                request:
                    type: string
                    description: The request payload in JSON format.
                response:
                    type: string
                    description: |-
                        The response payload in JSON format.
                         Some fields may be omitted if they are too large or contain sensitive information.
                status:
                    allOf:
                        - $ref: '#/components/schemas/Status'
                    description: The status of the operation.
                latency:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: The duration of the operation.
                serviceData:
                    allOf:
                        - $ref: '#/components/schemas/GoogleProtobufAny'
                    description: Service-specific metadata about the request, response, and activities.
                requestMetadata:
                    allOf:
                        - $ref: '#/components/schemas/RequestMetadata'
                    description: Metadata about the request context.
            description: Audit log entry recording system activity or API call.
        BatchCancelPlanCheckRunsRequest:
            required:
                - parent
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The name of the parent of the planChecks.
                         Format: projects/{project}/plans/{plan}
                planCheckRuns:
                    type: array
                    items:
                        type: string
                    description: |-
                        TODO(d): update this API.
                         The planCheckRuns to cancel.
                         Format: projects/{project}/plans/{plan}/planCheckRuns/{planCheckRun}
        BatchCancelPlanCheckRunsResponse:
            type: object
            properties: {}
        BatchCancelTaskRunsRequest:
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The name of the parent of the taskRuns.
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}
                         Use `projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/-` to cancel task runs under the same stage.
                taskRuns:
                    type: array
                    items:
                        type: string
                    description: |-
                        The taskRuns to cancel.
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}
                reason:
                    type: string
                    description: The reason for canceling the task runs.
        BatchCancelTaskRunsResponse:
            type: object
            properties: {}
        BatchCreateRevisionsRequest:
            required:
                - parent
                - requests
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent resource shared by all revisions being created.
                         Format: instances/{instance}/databases/{database}
                requests:
                    type: array
                    items:
                        $ref: '#/components/schemas/CreateRevisionRequest'
                    description: |-
                        The request message specifying the revisions to create.
                         A maximum of 100 revisions can be created in a batch.
        BatchCreateRevisionsResponse:
            type: object
            properties:
                revisions:
                    type: array
                    items:
                        $ref: '#/components/schemas/Revision'
                    description: The created revisions.
        BatchCreateSheetsRequest:
            required:
                - parent
                - requests
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent resource where all sheets will be created.
                         Format: projects/{project}
                requests:
                    type: array
                    items:
                        $ref: '#/components/schemas/CreateSheetRequest'
        BatchCreateSheetsResponse:
            type: object
            properties:
                sheets:
                    type: array
                    items:
                        $ref: '#/components/schemas/Sheet'
        BatchDeleteProjectsRequest:
            required:
                - names
            type: object
            properties:
                names:
                    type: array
                    items:
                        type: string
                    description: |-
                        The names of the projects to delete.
                         Format: projects/{project}
                force:
                    type: boolean
                    description: |-
                        If set to true, any databases from this project will be moved to default project.
                         Sheets are not moved since BYTEBASE_ARTIFACT sheets belong to the issue and issue project.
                         Open issues will remain open but associated with the deleted project.
                         If set to false, the operation will fail if the project has databases or open issues.
        BatchDeparseRequest:
            type: object
            properties:
                expressions:
                    type: array
                    items:
                        $ref: '#/components/schemas/Expr'
                    description: The CEL expression ASTs to deparse.
            description: Request message for batch deparsing CEL expressions.
        BatchDeparseResponse:
            type: object
            properties:
                expressions:
                    type: array
                    items:
                        type: string
                    description: The deparsed CEL expressions as strings.
            description: Response message for batch deparsing CEL expressions.
        BatchGetDatabasesResponse:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        $ref: '#/components/schemas/Database'
                    description: The databases from the specified request.
        BatchGetGroupsResponse:
            type: object
            properties:
                groups:
                    type: array
                    items:
                        $ref: '#/components/schemas/Group'
                    description: The groups from the specified request.
            description: Response message for batch getting groups.
        BatchGetIamPolicyResponse:
            type: object
            properties:
                policyResults:
                    type: array
                    items:
                        $ref: '#/components/schemas/BatchGetIamPolicyResponse_PolicyResult'
                    description: The policy results for each requested project.
        BatchGetIamPolicyResponse_PolicyResult:
            type: object
            properties:
                project:
                    type: string
                    description: The project resource name.
                policy:
                    allOf:
                        - $ref: '#/components/schemas/IamPolicy'
                    description: The IAM policy for the project.
            description: Result for a single project's IAM policy.
        BatchGetUsersResponse:
            type: object
            properties:
                users:
                    type: array
                    items:
                        $ref: '#/components/schemas/User'
                    description: The users from the specified request.
        BatchParseRequest:
            type: object
            properties:
                expressions:
                    type: array
                    items:
                        type: string
                    description: The CEL expression strings to parse.
            description: Request message for batch parsing CEL expressions.
        BatchParseResponse:
            type: object
            properties:
                expressions:
                    type: array
                    items:
                        $ref: '#/components/schemas/Expr'
                    description: The parsed CEL expressions as AST.
            description: Response message for batch parsing CEL expressions.
        BatchRunTasksRequest:
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The name of the parent of the tasks.
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}
                tasks:
                    type: array
                    items:
                        type: string
                    description: |-
                        The tasks to run.
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}
                reason:
                    type: string
                    description: The reason for running the tasks.
                runTime:
                    type: string
                    description: The task run should run after run_time.
                    format: date-time
        BatchRunTasksResponse:
            type: object
            properties: {}
        BatchSkipTasksRequest:
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The name of the parent of the tasks.
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}
                tasks:
                    type: array
                    items:
                        type: string
                    description: |-
                        The tasks to skip.
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}
                reason:
                    type: string
                    description: The reason for skipping the tasks.
        BatchSkipTasksResponse:
            type: object
            properties: {}
        BatchSyncDatabasesRequest:
            required:
                - names
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent resource shared by all databases being updated.
                         Format: instances/{instance}
                         If the operation spans parents, a dash (-) may be accepted as a wildcard.
                names:
                    type: array
                    items:
                        type: string
                    description: The list of database names to sync.
        BatchSyncDatabasesResponse:
            type: object
            properties: {}
        BatchSyncInstancesRequest:
            required:
                - requests
            type: object
            properties:
                requests:
                    type: array
                    items:
                        $ref: '#/components/schemas/SyncInstanceRequest'
                    description: |-
                        The request message specifying the instances to sync.
                         A maximum of 1000 instances can be synced in a batch.
        BatchSyncInstancesResponse:
            type: object
            properties: {}
        BatchUpdateDatabasesRequest:
            required:
                - requests
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent resource shared by all databases being updated.
                         Format: instances/{instance}
                         If the operation spans parents, a dash (-) may be accepted as a wildcard.
                         We only support updating the project of databases for now.
                requests:
                    type: array
                    items:
                        $ref: '#/components/schemas/UpdateDatabaseRequest'
                    description: |-
                        The request message specifying the resources to update.
                         A maximum of 1000 databases can be modified in a batch.
        BatchUpdateDatabasesResponse:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        $ref: '#/components/schemas/Database'
                    description: Databases updated.
        BatchUpdateInstancesRequest:
            required:
                - requests
            type: object
            properties:
                requests:
                    type: array
                    items:
                        $ref: '#/components/schemas/UpdateInstanceRequest'
                    description: The request message specifying the resources to update.
        BatchUpdateInstancesResponse:
            type: object
            properties:
                instances:
                    type: array
                    items:
                        $ref: '#/components/schemas/Instance'
        BatchUpdateIssuesStatusRequest:
            required:
                - parent
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent resource shared by all issues being updated.
                         Format: projects/{project}
                         If the operation spans parents, a dash (-) may be accepted as a wildcard.
                         We only support updating the status of databases for now.
                issues:
                    type: array
                    items:
                        type: string
                    description: |-
                        The list of issues to update.
                         Format: projects/{project}/issues/{issue}
                status:
                    enum:
                        - ISSUE_STATUS_UNSPECIFIED
                        - OPEN
                        - DONE
                        - CANCELED
                    type: string
                    description: The new status.
                    format: enum
                reason:
                    type: string
                    description: The reason for the status change.
        BatchUpdateIssuesStatusResponse:
            type: object
            properties: {}
        Binding:
            type: object
            properties:
                role:
                    type: string
                    description: |-
                        The role that is assigned to the members.
                         Format: roles/{role}
                members:
                    type: array
                    items:
                        type: string
                    description: |-
                        Specifies the principals requesting access for a Bytebase resource.
                         For users, the member should be: user:{email}
                         For groups, the member should be: group:{email}
                condition:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        The condition that is associated with this binding, only used in the project IAM policy.
                         If the condition evaluates to true, then this binding applies to the current request.
                         If the condition evaluates to false, then this binding does not apply to the current request. However, a different role binding might grant the same role to one or more of the principals in this binding.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Support variables:
                         resource.database: the database full name in "instances/{instance}/databases/{database}" format, used by the "roles/sqlEditorUser" role, support "==" operator.
                         resource.schema_name: the schema name, used by the "roles/sqlEditorUser" role, support "==" operator.
                         resource.table_name: the table name, used by the "roles/sqlEditorUser" role, support "==" operator.
                         request.time: the expiration. Only support "<" operation in `request.time < timestamp("{ISO datetime string format}")`.

                         For example:
                         resource.database == "instances/local-pg/databases/postgres" && resource.schema_name in ["public","another_schema"]
                         resource.database == "instances/local-pg/databases/bytebase" && resource.schema_name == "public" && resource.table_name in ["audit_log"]
                         request.time < timestamp("2025-04-26T11:24:48.655Z")
                parsedExpr:
                    readOnly: true
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: The parsed expression of the condition.
            description: Binding associates members with a role and optional conditions.
        BoundingBox:
            type: object
            properties:
                xmin:
                    type: number
                    format: double
                ymin:
                    type: number
                    format: double
                xmax:
                    type: number
                    format: double
                ymax:
                    type: number
                    format: double
            description: BoundingBox defines the bounding box for spatial indexes.
        Candidate_Content:
            type: object
            properties:
                parts:
                    type: array
                    items:
                        $ref: '#/components/schemas/Content_Part'
                    description: parts is used for a result content with multiple parts.
        ChangedResourceDatabase:
            type: object
            properties:
                name:
                    type: string
                schemas:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChangedResourceSchema'
        ChangedResourceFunction:
            type: object
            properties:
                name:
                    type: string
                ranges:
                    type: array
                    items:
                        $ref: '#/components/schemas/Range'
                    description: The ranges of substrings correspond to the statements on the sheet.
        ChangedResourceProcedure:
            type: object
            properties:
                name:
                    type: string
                ranges:
                    type: array
                    items:
                        $ref: '#/components/schemas/Range'
                    description: The ranges of substrings correspond to the statements on the sheet.
        ChangedResourceSchema:
            type: object
            properties:
                name:
                    type: string
                tables:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChangedResourceTable'
                views:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChangedResourceView'
                functions:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChangedResourceFunction'
                procedures:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChangedResourceProcedure'
        ChangedResourceTable:
            type: object
            properties:
                name:
                    type: string
                tableRows:
                    type: string
                    description: The estimated row count of the table.
                ranges:
                    type: array
                    items:
                        $ref: '#/components/schemas/Range'
                    description: The ranges of substrings correspond to the statements on the sheet.
        ChangedResourceView:
            type: object
            properties:
                name:
                    type: string
                ranges:
                    type: array
                    items:
                        $ref: '#/components/schemas/Range'
                    description: The ranges of substrings correspond to the statements on the sheet.
        ChangedResources:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        $ref: '#/components/schemas/ChangedResourceDatabase'
        Changelist:
            type: object
            properties:
                description:
                    type: string
                    description: Human-readable description of this changelist.
                changes:
                    type: array
                    items:
                        $ref: '#/components/schemas/Changelist_Change'
                    description: The list of changes in this changelist.
            description: Changelist represents a collection of database changes that can be applied together.
        Changelist_Change:
            type: object
            properties:
                sheet:
                    type: string
                    description: |-
                        The sheet containing the SQL statement.
                         Format: projects/{project}/sheets/{sheet}
                source:
                    type: string
                    description: |-
                        The source of this change.
                         Format: instances/{instance}/databases/{database}/changelogs/{changelog}
                         If empty, the change is from raw SQL.
            description: A single change in a changelist.
        Changelog:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: instances/{instance}/databases/{database}/changelogs/{changelog}'
                createTime:
                    type: string
                    format: date-time
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - PENDING
                        - DONE
                        - FAILED
                    type: string
                    format: enum
                statement:
                    type: string
                    description: The statement is used for preview purpose.
                statementSize:
                    type: string
                statementSheet:
                    type: string
                    description: |-
                        The name of the sheet resource.
                         Format: projects/{project}/sheets/{sheet}
                schema:
                    type: string
                schemaSize:
                    type: string
                prevSchema:
                    type: string
                prevSchemaSize:
                    type: string
                issue:
                    type: string
                    description: 'Format: projects/{project}/issues/{issue}'
                taskRun:
                    type: string
                    description: 'Format: projects/{projects}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}'
                version:
                    type: string
                    description: Could be empty
                revision:
                    type: string
                    description: |-
                        Could be empty
                         Or present but not found if deleted
                changedResources:
                    $ref: '#/components/schemas/ChangedResources'
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - BASELINE
                        - MIGRATE
                        - SDL
                    type: string
                    format: enum
                migrationType:
                    enum:
                        - MIGRATION_TYPE_UNSPECIFIED
                        - DDL
                        - DML
                        - GHOST
                    type: string
                    format: enum
        CheckConstraintMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name is the name of a check constraint.
                expression:
                    type: string
                    description: The expression is the expression of a check constraint.
            description: CheckConstraintMetadata is the metadata for check constraints.
        CheckReleaseRequest:
            required:
                - parent
                - release
            type: object
            properties:
                parent:
                    type: string
                    description: 'Format: projects/{project}'
                release:
                    allOf:
                        - $ref: '#/components/schemas/Release'
                    description: The release to check.
                targets:
                    type: array
                    items:
                        type: string
                    description: |-
                        The targets to dry-run the release.
                         Can be database or databaseGroup.
                         Format:
                         projects/{project}/databaseGroups/{databaseGroup}
                         instances/{instance}/databases/{database}
        CheckReleaseResponse:
            type: object
            properties:
                results:
                    type: array
                    items:
                        $ref: '#/components/schemas/CheckReleaseResponse_CheckResult'
                    description: The check results for each file and target combination.
                affectedRows:
                    type: string
                    description: The total affected rows across all checks.
                riskLevel:
                    enum:
                        - RISK_LEVEL_UNSPECIFIED
                        - LOW
                        - MODERATE
                        - HIGH
                    type: string
                    description: The aggregated risk level of the check.
                    format: enum
        CheckReleaseResponse_CheckResult:
            type: object
            properties:
                file:
                    type: string
                    description: The file path that is being checked.
                target:
                    type: string
                    description: |-
                        The target that the check is performed on.
                         Should be a database. Format: instances/{instance}/databases/{database}
                advices:
                    type: array
                    items:
                        $ref: '#/components/schemas/Advice'
                    description: The list of advice for the file and the target.
                affectedRows:
                    type: string
                    description: The count of affected rows of the statement on the target.
                riskLevel:
                    enum:
                        - RISK_LEVEL_UNSPECIFIED
                        - LOW
                        - MODERATE
                        - HIGH
                    type: string
                    description: The risk level of the statement on the target.
                    format: enum
            description: Check result for a single release file on a target database.
        ColumnCatalog:
            type: object
            properties:
                name:
                    type: string
                    description: The column name.
                semanticType:
                    type: string
                    description: The semantic type describing the data purpose.
                labels:
                    type: object
                    additionalProperties:
                        type: string
                    description: User-defined labels for this column.
                classification:
                    type: string
                    description: The data classification level for this column.
                objectSchema:
                    allOf:
                        - $ref: '#/components/schemas/ObjectSchema'
                    description: Object schema for complex column types like JSON.
            description: Column metadata within a table.
        ColumnMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name is the name of a column.
                position:
                    type: integer
                    description: The position is the position in columns.
                    format: int32
                hasDefault:
                    type: boolean
                default:
                    type: string
                    description: The default value of column.
                defaultOnNull:
                    type: boolean
                    description: |-
                        Oracle specific metadata.
                         The default_on_null is the default on null of a column.
                onUpdate:
                    type: string
                    description: |-
                        The on_update is the on update action of a column.
                         For MySQL like databases, it's only supported for TIMESTAMP columns with
                         CURRENT_TIMESTAMP as on update value.
                nullable:
                    type: boolean
                    description: The nullable is the nullable of a column.
                type:
                    type: string
                    description: The type is the type of a column.
                characterSet:
                    type: string
                    description: The character_set is the character_set of a column.
                collation:
                    type: string
                    description: The collation is the collation of a column.
                comment:
                    type: string
                    description: |-
                        The comment is the comment of a column.
                         classification and user_comment is parsed from the comment.
                userComment:
                    type: string
                    description: The user_comment is the user comment of a column parsed from the comment.
                generation:
                    allOf:
                        - $ref: '#/components/schemas/GenerationMetadata'
                    description: The generation is the generation of a column.
                isIdentity:
                    type: boolean
                identityGeneration:
                    enum:
                        - IDENTITY_GENERATION_UNSPECIFIED
                        - ALWAYS
                        - BY_DEFAULT
                    type: string
                    description: The identity_generation is for identity columns, PG only.
                    format: enum
                identitySeed:
                    type: string
                    description: The identity_seed is for identity columns, MSSQL only.
                identityIncrement:
                    type: string
                    description: The identity_increment is for identity columns, MSSQL only.
                defaultConstraintName:
                    type: string
                    description: |-
                        The default_constraint_name is the name of the default constraint, MSSQL only.
                         In MSSQL, default values are implemented as named constraints. When modifying or
                         dropping a column's default value, you must reference the constraint by name.
                         This field stores the actual constraint name from the database.

                         Example: A column definition like:
                           CREATE TABLE employees (
                             status NVARCHAR(20) DEFAULT 'active'
                           )

                         Will create a constraint with an auto-generated name like 'DF__employees__statu__3B75D760'
                         or a user-defined name if specified:
                           ALTER TABLE employees ADD CONSTRAINT DF_employees_status DEFAULT 'active' FOR status

                         To modify the default, you must first drop the existing constraint by name:
                           ALTER TABLE employees DROP CONSTRAINT DF__employees__statu__3B75D760
                           ALTER TABLE employees ADD CONSTRAINT DF_employees_status DEFAULT 'inactive' FOR status

                         This field is populated when syncing from the database. When empty (e.g., when parsing
                         from SQL files), the system cannot automatically drop the constraint.
            description: ColumnMetadata is the metadata for columns.
        Constant:
            type: object
            properties:
                nullValue:
                    enum:
                        - NULL_VALUE
                    type: string
                    description: null value.
                    format: enum
                boolValue:
                    type: boolean
                    description: boolean value.
                int64Value:
                    type: string
                    description: int64 value.
                uint64Value:
                    type: string
                    description: uint64 value.
                doubleValue:
                    type: number
                    description: double value.
                    format: double
                stringValue:
                    type: string
                    description: string value.
                bytesValue:
                    type: string
                    description: bytes value.
                    format: bytes
                durationValue:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: |-
                        protobuf.Duration value.

                         Deprecated: duration is no longer considered a builtin cel type.
                timestampValue:
                    type: string
                    description: |-
                        protobuf.Timestamp value.

                         Deprecated: timestamp is no longer considered a builtin cel type.
                    format: date-time
            description: |-
                Represents a primitive literal.

                 Named 'Constant' here for backwards compatibility.

                 This is similar as the primitives supported in the well-known type
                 `google.protobuf.Value`, but richer so it can represent CEL's full range of
                 primitives.

                 Lists and structs are not included as constants as these aggregate types may
                 contain [Expr][google.api.expr.v1alpha1.Expr] elements which require
                 evaluation and are thus not constant.

                 Examples of literals include: `"hello"`, `b'bytes'`, `1u`, `4.2`, `-2`,
                 `true`, `null`.
        Content_Part:
            type: object
            properties:
                text:
                    type: string
        CreateRevisionRequest:
            required:
                - parent
                - revision
            type: object
            properties:
                parent:
                    type: string
                    description: 'Format: instances/{instance}/databases/{database}'
                revision:
                    allOf:
                        - $ref: '#/components/schemas/Revision'
                    description: The revision to create.
        CreateSheetRequest:
            required:
                - parent
                - sheet
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent resource where this sheet will be created.
                         Format: projects/{project}
                sheet:
                    allOf:
                        - $ref: '#/components/schemas/Sheet'
                    description: The sheet to create.
        CreateStruct_Entry:
            type: object
            properties:
                id:
                    type: string
                    description: |-
                        Required. An id assigned to this node by the parser which is unique
                         in a given expression tree. This is used to associate type
                         information and other attributes to the node.
                fieldKey:
                    type: string
                    description: The field key for a message creator statement.
                mapKey:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: The key expression for a map creation statement.
                value:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        Required. The value assigned to the key.

                         If the optional_entry field is true, the expression must resolve to an
                         optional-typed value. If the optional value is present, the key will be
                         set; however, if the optional value is absent, the key will be unset.
                optionalEntry:
                    type: boolean
                    description: Whether the key-value pair is optional.
            description: Represents an entry.
        DataClassificationConfig_DataClassification:
            type: object
            properties:
                id:
                    type: string
                    description: id is the classification id in [0-9]+-[0-9]+-[0-9]+ format.
                title:
                    type: string
                description:
                    type: string
                levelId:
                    type: string
        DataClassificationConfig_Level:
            type: object
            properties:
                id:
                    type: string
                title:
                    type: string
                description:
                    type: string
        DataClassificationSetting:
            type: object
            properties:
                configs:
                    type: array
                    items:
                        $ref: '#/components/schemas/DataClassificationSetting_DataClassificationConfig'
        DataClassificationSetting_DataClassificationConfig:
            type: object
            properties:
                id:
                    type: string
                    description: |-
                        id is the uuid for classification. Each project can chose one
                         classification config.
                title:
                    type: string
                levels:
                    type: array
                    items:
                        $ref: '#/components/schemas/DataClassificationConfig_Level'
                    description: |-
                        levels is user defined level list for classification.
                         The order for the level decides its priority.
                classification:
                    type: object
                    additionalProperties:
                        $ref: '#/components/schemas/DataClassificationConfig_DataClassification'
                    description: |-
                        classification is the id - DataClassification map.
                         The id should in [0-9]+-[0-9]+-[0-9]+ format.
                classificationFromConfig:
                    type: boolean
                    description: |-
                        If true, we will only store the classification in the config.
                         Otherwise we will get the classification from table/column comment,
                         and write back to the schema metadata.
        DataSource:
            type: object
            properties:
                id:
                    type: string
                type:
                    enum:
                        - DATA_SOURCE_UNSPECIFIED
                        - ADMIN
                        - READ_ONLY
                    type: string
                    format: enum
                username:
                    type: string
                password:
                    type: string
                obfuscatedPassword:
                    type: string
                useSsl:
                    type: boolean
                    description: Use SSL to connect to the data source. By default, we use the system's SSL configuration.
                sslCa:
                    type: string
                obfuscatedSslCa:
                    type: string
                sslCert:
                    type: string
                obfuscatedSslCert:
                    type: string
                sslKey:
                    type: string
                obfuscatedSslKey:
                    type: string
                verifyTlsCertificate:
                    type: boolean
                    description: |-
                        verify_tls_certificate enables TLS certificate verification for SSL connections.
                         Default is false (no verification) for backward compatibility.
                         Set to true for secure connections (recommended for production).
                         Only set to false for development or when certificates cannot be properly
                         validated (e.g., self-signed certs, VPN environments).
                host:
                    type: string
                port:
                    type: string
                database:
                    type: string
                srv:
                    type: boolean
                    description: |-
                        srv, authentication_database, and replica_set are used for MongoDB.
                         srv is a boolean flag that indicates whether the host is a DNS SRV record.
                authenticationDatabase:
                    type: string
                    description: authentication_database is the database name to authenticate against, which stores the user credentials.
                replicaSet:
                    type: string
                    description: replica_set is used for MongoDB replica set.
                sid:
                    type: string
                    description: sid and service_name are used for Oracle.
                serviceName:
                    type: string
                sshHost:
                    type: string
                    description: |-
                        SSH related
                         The hostname of the SSH server agent.
                sshPort:
                    type: string
                    description: The port of the SSH server agent. It's 22 typically.
                sshUser:
                    type: string
                    description: The user to login the server.
                sshPassword:
                    type: string
                    description: The password to login the server. If it's empty string, no password is required.
                obfuscatedSshPassword:
                    type: string
                sshPrivateKey:
                    type: string
                    description: The private key to login the server. If it's empty string, we will use the system default private key from os.Getenv("SSH_AUTH_SOCK").
                obfuscatedSshPrivateKey:
                    type: string
                authenticationPrivateKey:
                    type: string
                    description: |-
                        PKCS#8 private key in PEM format. If it's empty string, no private key is required.
                         Used for authentication when connecting to the data source.
                obfuscatedAuthenticationPrivateKey:
                    type: string
                externalSecret:
                    $ref: '#/components/schemas/DataSourceExternalSecret'
                authenticationType:
                    enum:
                        - AUTHENTICATION_UNSPECIFIED
                        - PASSWORD
                        - GOOGLE_CLOUD_SQL_IAM
                        - AWS_RDS_IAM
                        - AZURE_IAM
                    type: string
                    format: enum
                azureCredential:
                    $ref: '#/components/schemas/DataSource_AzureCredential'
                awsCredential:
                    $ref: '#/components/schemas/DataSource_AWSCredential'
                gcpCredential:
                    $ref: '#/components/schemas/DataSource_GCPCredential'
                saslConfig:
                    $ref: '#/components/schemas/SASLConfig'
                additionalAddresses:
                    type: array
                    items:
                        $ref: '#/components/schemas/DataSource_Address'
                    description: additional_addresses is used for MongoDB replica set.
                directConnection:
                    type: boolean
                    description: direct_connection is used for MongoDB to dispatch all the operations to the node specified in the connection string.
                region:
                    type: string
                    description: Region is the location of the database, used for AWS RDS. For example, us-east-1.
                warehouseId:
                    type: string
                    description: warehouse_id is used by Databricks.
                masterName:
                    type: string
                    description: master_name is the master name used by connecting redis-master via redis sentinel.
                masterUsername:
                    type: string
                    description: master_username and master_obfuscated_password are master credentials used by redis sentinel mode.
                masterPassword:
                    type: string
                obfuscatedMasterPassword:
                    type: string
                redisType:
                    enum:
                        - REDIS_TYPE_UNSPECIFIED
                        - STANDALONE
                        - SENTINEL
                        - CLUSTER
                    type: string
                    format: enum
                cluster:
                    type: string
                    description: Cluster is the cluster name for the data source. Used by CockroachDB.
                extraConnectionParameters:
                    type: object
                    additionalProperties:
                        type: string
                    description: |-
                        Extra connection parameters for the database connection.
                         For PostgreSQL HA, this can be used to set target_session_attrs=read-write
        DataSourceExternalSecret:
            type: object
            properties:
                secretType:
                    enum:
                        - SECRET_TYPE_UNSPECIFIED
                        - VAULT_KV_V2
                        - AWS_SECRETS_MANAGER
                        - GCP_SECRET_MANAGER
                    type: string
                    format: enum
                url:
                    type: string
                authType:
                    enum:
                        - AUTH_TYPE_UNSPECIFIED
                        - TOKEN
                        - VAULT_APP_ROLE
                    type: string
                    format: enum
                appRole:
                    $ref: '#/components/schemas/DataSourceExternalSecret_AppRoleAuthOption'
                token:
                    type: string
                engineName:
                    type: string
                    description: engine name is the name for secret engine.
                secretName:
                    type: string
                    description: the secret name in the engine to store the password.
                passwordKeyName:
                    type: string
                    description: the key name for the password.
        DataSourceExternalSecret_AppRoleAuthOption:
            type: object
            properties:
                roleId:
                    writeOnly: true
                    type: string
                    description: The role ID for Vault AppRole authentication.
                secretId:
                    writeOnly: true
                    type: string
                    description: the secret id for the role without ttl.
                type:
                    enum:
                        - SECRET_TYPE_UNSPECIFIED
                        - PLAIN
                        - ENVIRONMENT
                    type: string
                    description: The type of secret for AppRole authentication.
                    format: enum
                mountPath:
                    type: string
                    description: The path where the approle auth method is mounted.
        DataSource_AWSCredential:
            type: object
            properties:
                accessKeyId:
                    writeOnly: true
                    type: string
                secretAccessKey:
                    writeOnly: true
                    type: string
                sessionToken:
                    writeOnly: true
                    type: string
                roleArn:
                    writeOnly: true
                    type: string
                    description: |-
                        ARN of IAM role to assume for cross-account access.
                         See: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html
                externalId:
                    writeOnly: true
                    type: string
                    description: |-
                        Optional external ID for additional security when assuming role.
                         See: https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user_externalid.html
        DataSource_Address:
            type: object
            properties:
                host:
                    type: string
                port:
                    type: string
        DataSource_AzureCredential:
            type: object
            properties:
                tenantId:
                    type: string
                clientId:
                    type: string
                clientSecret:
                    writeOnly: true
                    type: string
        DataSource_GCPCredential:
            type: object
            properties:
                content:
                    writeOnly: true
                    type: string
        Database:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the database.
                         Format: instances/{instance}/databases/{database}
                         {database} is the database name in the instance.
                state:
                    readOnly: true
                    enum:
                        - STATE_UNSPECIFIED
                        - ACTIVE
                        - DELETED
                    type: string
                    description: The existence of a database.
                    format: enum
                successfulSyncTime:
                    readOnly: true
                    type: string
                    description: The latest synchronization time.
                    format: date-time
                project:
                    type: string
                    description: |-
                        The project for a database.
                         Format: projects/{project}
                schemaVersion:
                    readOnly: true
                    type: string
                    description: The version of database schema.
                environment:
                    type: string
                    description: |-
                        The environment resource.
                         Format: environments/prod where prod is the environment resource ID.
                effectiveEnvironment:
                    readOnly: true
                    type: string
                    description: |-
                        The effective environment based on environment tag above and environment
                         tag on the instance. Inheritance follows
                         https://cloud.google.com/resource-manager/docs/tags/tags-overview.
                labels:
                    type: object
                    additionalProperties:
                        type: string
                    description: Labels will be used for deployment and policy control.
                instanceResource:
                    readOnly: true
                    allOf:
                        - $ref: '#/components/schemas/InstanceResource'
                    description: The instance resource.
                backupAvailable:
                    readOnly: true
                    type: boolean
                    description: The database is available for DML prior backup.
                drifted:
                    readOnly: true
                    type: boolean
                    description: The schema is drifted from the source of truth.
        DatabaseCatalog:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the database catalog.
                         Format: instances/{instance}/databases/{database}/catalog
                schemas:
                    type: array
                    items:
                        $ref: '#/components/schemas/SchemaCatalog'
                    description: The schemas in the database.
            description: Catalog metadata for a database including schemas, tables, and columns.
        DatabaseGroup:
            required:
                - title
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the database group.
                         Format: projects/{project}/databaseGroups/{databaseGroup}
                title:
                    type: string
                    description: The short name used in actual databases specified by users.
                databaseExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        The condition that is associated with this database group.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Support variables:
                         resource.environment_id: the environment resource id. Support "==", "!=", "in [XX]", "!(in [xx])" operations.
                         resource.instance_id: the instance resource id. Support "==", "!=", "in [XX]", "!(in [xx])", "contains", "matches", "startsWith", "endsWith" operations.
                         resource.database_name: the database name. Support "==", "!=", "in [XX]", "!(in [xx])", "contains", "matches", "startsWith", "endsWith" operations.
                         resource.database_labels: the database labels. Support map access operations.
                         All variables should join with "&&" condition.

                         For example:
                         resource.environment_id == "test" && resource.database_name.startsWith("sample_")
                         resource.database_labels["tenant"] == "tenant1"
                matchedDatabases:
                    readOnly: true
                    type: array
                    items:
                        $ref: '#/components/schemas/DatabaseGroup_Database'
                    description: The list of databases that match the database group condition.
            description: A group of databases matched by expressions.
        DatabaseGroup_Database:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The resource name of the database.
                         Format: instances/{instance}/databases/{database}
            description: A database within a database group.
        DatabaseMetadata:
            type: object
            properties:
                labels:
                    type: object
                    additionalProperties:
                        type: string
                lastSyncTime:
                    type: string
                    format: date-time
                backupAvailable:
                    type: boolean
                datashare:
                    type: boolean
                drifted:
                    type: boolean
                    description: The schema has drifted from the source of truth.
                version:
                    type: string
                    description: The version of database schema.
            description: DatabaseMetadata is the metadata for databases.
        DatabaseSDLSchema:
            type: object
            properties:
                schema:
                    type: string
                    description: |-
                        The SDL schema content.
                         - For SINGLE_FILE format: contains the complete SDL schema as a text string.
                         - For MULTI_FILE format: contains the ZIP archive as binary data.
                    format: bytes
                contentType:
                    readOnly: true
                    type: string
                    description: |-
                        The MIME type of the schema content.
                         Indicates how the client should interpret the schema field.
                         Examples:
                         - "text/plain; charset=utf-8" for SINGLE_FILE format
                         - "application/zip" for MULTI_FILE format
            description: DatabaseSDLSchema contains the schema in SDL format.
        DatabaseSchema:
            type: object
            properties:
                schema:
                    type: string
                    description: The schema dump from database.
            description: DatabaseSchema is the metadata for databases.
        Deployment_DatabaseGroupMapping:
            type: object
            properties:
                databaseGroup:
                    type: string
                    description: 'Format: projects/{project}/databaseGroups/{databaseGroup}.'
                databases:
                    type: array
                    items:
                        type: string
                    description: 'Format: instances/{instance-id}/databases/{database-name}.'
        DiffMetadataRequest:
            required:
                - sourceMetadata
                - targetMetadata
            type: object
            properties:
                sourceMetadata:
                    allOf:
                        - $ref: '#/components/schemas/DatabaseMetadata'
                    description: The metadata of the source schema.
                targetMetadata:
                    allOf:
                        - $ref: '#/components/schemas/DatabaseMetadata'
                    description: The metadata of the target schema.
                sourceCatalog:
                    $ref: '#/components/schemas/DatabaseCatalog'
                targetCatalog:
                    $ref: '#/components/schemas/DatabaseCatalog'
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    description: The database engine of the schema.
                    format: enum
                classificationFromConfig:
                    type: boolean
                    description: |-
                        If false, we will build the raw common by classification in database
                         config.
        DiffMetadataResponse:
            type: object
            properties:
                diff:
                    type: string
                    description: The diff of the metadata.
        DiffSchemaRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the database or changelog.
                         Format:
                         database: instances/{instance}/databases/{database}
                         changelog: instances/{instance}/databases/{database}/changelogs/{changelog}
                schema:
                    type: string
                    description: The target schema.
                changelog:
                    type: string
                    description: |-
                        The resource name of the changelog
                         Format:
                         instances/{instance}/databases/{database}/changelogs/{changelog}
        DiffSchemaResponse:
            type: object
            properties:
                diff:
                    type: string
        DimensionalConfig:
            type: object
            properties:
                dimensions:
                    type: integer
                    description: Number of dimensions (2-4, default 2)
                    format: int32
                dataType:
                    type: string
                    description: |-
                        Spatial data type
                         Examples: GEOMETRY, GEOGRAPHY, POINT, POLYGON, etc.
                operatorClass:
                    type: string
                    description: |-
                        PostgreSQL operator class
                         Examples: gist_geometry_ops_2d, gist_geometry_ops_nd, etc.
                layerGtype:
                    type: string
                    description: |-
                        Oracle geometry type constraint
                         Examples: POINT, LINE, POLYGON, COLLECTION
                parallelBuild:
                    type: boolean
                    description: Parallel index creation
            description: DimensionalConfig defines dimensional and constraint parameters for spatial indexes.
        EnvironmentSetting:
            type: object
            properties:
                environments:
                    type: array
                    items:
                        $ref: '#/components/schemas/EnvironmentSetting_Environment'
        EnvironmentSetting_Environment:
            type: object
            properties:
                id:
                    type: string
                    description: |-
                        The resource id of the environment.
                         This value should be 4-63 characters, and valid characters
                         are /[a-z][0-9]-/.
                title:
                    type: string
                    description: The display name of the environment.
                tags:
                    type: object
                    additionalProperties:
                        type: string
                color:
                    type: string
        ExportAuditLogsRequest:
            required:
                - parent
            type: object
            properties:
                parent:
                    type: string
                filter:
                    type: string
                    description: |-
                        The filter of the log. It should be a valid CEL expression.
                         Check the filter field in the SearchAuditLogsRequest message.
                orderBy:
                    type: string
                    description: |-
                        The order by of the log.
                         Only support order by create_time.
                         For example:
                          - order_by = "create_time asc"
                          - order_by = "create_time desc"
                format:
                    enum:
                        - FORMAT_UNSPECIFIED
                        - CSV
                        - JSON
                        - SQL
                        - XLSX
                    type: string
                    description: The export format.
                    format: enum
                pageSize:
                    type: integer
                    description: |-
                        The maximum number of logs to return.
                         The service may return fewer than this value.
                         If unspecified, at most 10 log entries will be returned.
                         The maximum value is 5000; values above 5000 will be coerced to 5000.
                    format: int32
                pageToken:
                    type: string
                    description: |-
                        A page token, received from a previous `ExportAuditLogs` call.
                         Provide this to retrieve the subsequent page.
            description: Request message for exporting audit logs.
        ExportAuditLogsResponse:
            type: object
            properties:
                content:
                    type: string
                    description: The exported audit log content in the requested format.
                    format: bytes
                nextPageToken:
                    type: string
                    description: |-
                        A token to retrieve next page of log entities.
                         Pass this value in the page_token field in the subsequent call
                         to retrieve the next page of log entities.
            description: Response message for exporting audit logs.
        ExportRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name is the resource name to execute the export against.
                         Format: instances/{instance}/databases/{database}
                         Format: instances/{instance}
                         Format: projects/{project}/rollouts/{rollout}
                         Format: projects/{project}/rollouts/{rollout}/stages/{stage}
                statement:
                    type: string
                    description: The SQL statement to execute.
                limit:
                    type: integer
                    description: The maximum number of rows to return.
                    format: int32
                format:
                    enum:
                        - FORMAT_UNSPECIFIED
                        - CSV
                        - JSON
                        - SQL
                        - XLSX
                    type: string
                    description: The export format.
                    format: enum
                admin:
                    type: boolean
                    description: |-
                        The admin is used for workspace owner and DBA for exporting data from SQL
                         Editor Admin mode. The exported data is not masked.
                password:
                    type: string
                    description: The zip password provide by users.
                dataSourceId:
                    type: string
                    description: |-
                        The id of data source.
                         It is used for querying admin data source even if the instance has
                         read-only data sources. Or it can be used to query a specific read-only
                         data source.
                schema:
                    type: string
                    description: |-
                        The default schema to search objects. Equals to the current schema in
                         Oracle and search path in Postgres.
        ExportResponse:
            type: object
            properties:
                content:
                    type: string
                    description: The export file content.
                    format: bytes
        Expr:
            type: object
            properties:
                id:
                    type: string
                    description: |-
                        Required. An id assigned to this node by the parser which is unique in a
                         given expression tree. This is used to associate type information and other
                         attributes to a node in the parse tree.
                constExpr:
                    allOf:
                        - $ref: '#/components/schemas/Constant'
                    description: A literal expression.
                identExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr_Ident'
                    description: An identifier expression.
                selectExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr_Select'
                    description: A field selection expression, e.g. `request.auth`.
                callExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr_Call'
                    description: A call expression, including calls to predefined functions and operators.
                listExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr_CreateList'
                    description: A list creation expression.
                structExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr_CreateStruct'
                    description: A map or message creation expression.
                comprehensionExpr:
                    allOf:
                        - $ref: '#/components/schemas/Expr_Comprehension'
                    description: A comprehension expression.
            description: |-
                An abstract representation of a common expression.

                 Expressions are abstractly represented as a collection of identifiers,
                 select statements, function calls, literals, and comprehensions. All
                 operators with the exception of the '.' operator are modelled as function
                 calls. This makes it easy to represent new operators into the existing AST.

                 All references within expressions must resolve to a
                 [Decl][google.api.expr.v1alpha1.Decl] provided at type-check for an
                 expression to be valid. A reference may either be a bare identifier `name` or
                 a qualified identifier `google.api.name`. References may either refer to a
                 value or a function declaration.

                 For example, the expression `google.api.name.startsWith('expr')` references
                 the declaration `google.api.name` within a
                 [Expr.Select][google.api.expr.v1alpha1.Expr.Select] expression, and the
                 function declaration `startsWith`.
        Expr_Call:
            type: object
            properties:
                target:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        The target of an method call-style expression. For example, `x` in
                         `x.f()`.
                function:
                    type: string
                    description: Required. The name of the function or method being called.
                args:
                    type: array
                    items:
                        $ref: '#/components/schemas/Expr'
                    description: The arguments.
            description: |-
                A call expression, including calls to predefined functions and operators.

                 For example, `value == 10`, `size(map_value)`.
        Expr_Comprehension:
            type: object
            properties:
                iterVar:
                    type: string
                    description: |-
                        The name of the first iteration variable.
                         When the iter_range is a list, this variable is the list element.
                         When the iter_range is a map, this variable is the map entry key.
                iterVar2:
                    type: string
                    description: |-
                        The name of the second iteration variable, empty if not set.
                         When the iter_range is a list, this variable is the integer index.
                         When the iter_range is a map, this variable is the map entry value.
                         This field is only set for comprehension v2 macros.
                iterRange:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: The range over which the comprehension iterates.
                accuVar:
                    type: string
                    description: The name of the variable used for accumulation of the result.
                accuInit:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: The initial value of the accumulator.
                loopCondition:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        An expression which can contain iter_var, iter_var2, and accu_var.

                         Returns false when the result has been computed and may be used as
                         a hint to short-circuit the remainder of the comprehension.
                loopStep:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        An expression which can contain iter_var, iter_var2, and accu_var.

                         Computes the next value of accu_var.
                result:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        An expression which can contain accu_var.

                         Computes the result.
            description: |-
                A comprehension expression applied to a list or map.

                 Comprehensions are not part of the core syntax, but enabled with macros.
                 A macro matches a specific call signature within a parsed AST and replaces
                 the call with an alternate AST block. Macro expansion happens at parse
                 time.

                 The following macros are supported within CEL:

                 Aggregate type macros may be applied to all elements in a list or all keys
                 in a map:

                 *  `all`, `exists`, `exists_one` -  test a predicate expression against
                    the inputs and return `true` if the predicate is satisfied for all,
                    any, or only one value `list.all(x, x < 10)`.
                 *  `filter` - test a predicate expression against the inputs and return
                    the subset of elements which satisfy the predicate:
                    `payments.filter(p, p > 1000)`.
                 *  `map` - apply an expression to all elements in the input and return the
                    output aggregate type: `[1, 2, 3].map(i, i * i)`.

                 The `has(m.x)` macro tests whether the property `x` is present in struct
                 `m`. The semantics of this macro depend on the type of `m`. For proto2
                 messages `has(m.x)` is defined as 'defined, but not set`. For proto3, the
                 macro tests whether the property is set to its default. For map and struct
                 types, the macro tests whether the property `x` is defined on `m`.

                 Comprehensions for the standard environment macros evaluation can be best
                 visualized as the following pseudocode:

                 ```
                 let `accu_var` = `accu_init`
                 for (let `iter_var` in `iter_range`) {
                   if (!`loop_condition`) {
                     break
                   }
                   `accu_var` = `loop_step`
                 }
                 return `result`
                 ```

                 Comprehensions for the optional V2 macros which support map-to-map
                 translation differ slightly from the standard environment macros in that
                 they expose both the key or index in addition to the value for each list
                 or map entry:

                 ```
                 let `accu_var` = `accu_init`
                 for (let `iter_var`, `iter_var2` in `iter_range`) {
                   if (!`loop_condition`) {
                     break
                   }
                   `accu_var` = `loop_step`
                 }
                 return `result`
                 ```
        Expr_CreateList:
            type: object
            properties:
                elements:
                    type: array
                    items:
                        $ref: '#/components/schemas/Expr'
                    description: The elements part of the list.
                optionalIndices:
                    type: array
                    items:
                        type: integer
                        format: int32
                    description: |-
                        The indices within the elements list which are marked as optional
                         elements.

                         When an optional-typed value is present, the value it contains
                         is included in the list. If the optional-typed value is absent, the list
                         element is omitted from the CreateList result.
            description: |-
                A list creation expression.

                 Lists may either be homogenous, e.g. `[1, 2, 3]`, or heterogeneous, e.g.
                 `dyn([1, 'hello', 2.0])`
        Expr_CreateStruct:
            type: object
            properties:
                messageName:
                    type: string
                    description: |-
                        The type name of the message to be created, empty when creating map
                         literals.
                entries:
                    type: array
                    items:
                        $ref: '#/components/schemas/CreateStruct_Entry'
                    description: The entries in the creation expression.
            description: |-
                A map or message creation expression.

                 Maps are constructed as `{'key_name': 'value'}`. Message construction is
                 similar, but prefixed with a type name and composed of field ids:
                 `types.MyType{field_id: 'value'}`.
        Expr_Ident:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        Required. Holds a single, unqualified identifier, possibly preceded by a
                         '.'.

                         Qualified names are represented by the
                         [Expr.Select][google.api.expr.v1alpha1.Expr.Select] expression.
            description: An identifier expression. e.g. `request`.
        Expr_Select:
            type: object
            properties:
                operand:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        Required. The target of the selection expression.

                         For example, in the select expression `request.auth`, the `request`
                         portion of the expression is the `operand`.
                field:
                    type: string
                    description: |-
                        Required. The name of the field to select.

                         For example, in the select expression `request.auth`, the `auth` portion
                         of the expression would be the `field`.
                testOnly:
                    type: boolean
                    description: |-
                        Whether the select is to be interpreted as a field presence test.

                         This results from the macro `has(request.auth)`.
            description: A field selection expression. e.g. `request.auth`.
        FieldMapping:
            type: object
            properties:
                identifier:
                    type: string
                    description: Identifier is the field name of the unique identifier in 3rd-party idp user info. Required.
                displayName:
                    type: string
                    description: DisplayName is the field name of display name in 3rd-party idp user info. Optional.
                phone:
                    type: string
                    description: Phone is the field name of primary phone in 3rd-party idp user info. Optional.
                groups:
                    type: string
                    description: |-
                        Groups is the field name of groups in 3rd-party idp user info. Optional.
                         Mainly used for OIDC: https://developer.okta.com/docs/guides/customize-tokens-groups-claim/main/
            description: |-
                FieldMapping saves the field names from user info API of identity provider.
                 As we save all raw json string of user info response data into `principal.idp_user_info`,
                 we can extract the relevant data based with `FieldMapping`.
        ForeignKeyMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name is the name of a foreign key.
                columns:
                    type: array
                    items:
                        type: string
                    description: The columns are the ordered referencing columns of a foreign key.
                referencedSchema:
                    type: string
                    description: |-
                        The referenced_schema is the referenced schema name of a foreign key.
                         It is an empty string for databases without such concept such as MySQL.
                referencedTable:
                    type: string
                    description: The referenced_table is the referenced table name of a foreign key.
                referencedColumns:
                    type: array
                    items:
                        type: string
                    description: The referenced_columns are the ordered referenced columns of a foreign key.
                onDelete:
                    type: string
                    description: The on_delete is the on delete action of a foreign key.
                onUpdate:
                    type: string
                    description: The on_update is the on update action of a foreign key.
                matchType:
                    type: string
                    description: |-
                        The match_type is the match type of a foreign key.
                         The match_type is the PostgreSQL specific field.
                         It's empty string for other databases.
            description: ForeignKeyMetadata is the metadata for foreign keys.
        GenerationMetadata:
            type: object
            properties:
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - VIRTUAL
                        - STORED
                    type: string
                    format: enum
                expression:
                    type: string
        GetSchemaStringResponse:
            type: object
            properties:
                schemaString:
                    type: string
        GoogleProtobufAny:
            type: object
            properties:
                '@type':
                    type: string
                    description: The type of the serialized message.
            additionalProperties: true
            description: Contains an arbitrary serialized message along with a @type that describes the type of the serialized message.
        GoogleProtobufValue:
            description: Represents a dynamically typed value which can be either null, a number, a string, a boolean, a recursive struct value, or a list of values.
        GrantRequest:
            type: object
            properties:
                role:
                    type: string
                    description: |-
                        The role being requested for the user.
                         Format: roles/EXPORTER.
                user:
                    type: string
                    description: |-
                        The user who will receive the role.
                         Format: users/{userUID}.
                condition:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: Optional conditional expression that limits when the grant applies.
                expiration:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: Duration after which the grant automatically expires.
            description: GrantRequest contains details for requesting database access permissions.
        GridLevel:
            type: object
            properties:
                level:
                    type: integer
                    format: int32
                density:
                    type: string
            description: GridLevel defines a grid level for spatial tessellation.
        Group:
            type: object
            properties:
                name:
                    readOnly: true
                    type: string
                    description: |-
                        The name of the group to retrieve.
                         Format: groups/{group}, group is an email.
                title:
                    type: string
                    description: The display title of the group.
                description:
                    type: string
                    description: The description of the group.
                members:
                    type: array
                    items:
                        $ref: '#/components/schemas/GroupMember'
                    description: The members of the group.
                source:
                    type: string
                    description: The source system where the group originated (e.g., Entra ID for SCIM sync).
            description: A group of users within the workspace.
        GroupMember:
            type: object
            properties:
                member:
                    type: string
                    description: |-
                        Member is the principal who belongs to this group.

                         Format: users/{userUID}.
                role:
                    enum:
                        - ROLE_UNSPECIFIED
                        - OWNER
                        - MEMBER
                    type: string
                    format: enum
        IamPolicy:
            type: object
            properties:
                bindings:
                    type: array
                    items:
                        $ref: '#/components/schemas/Binding'
                    description: |-
                        Collection of binding.
                         A binding binds one or more members or groups to a single role.
        IdentityProvider:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the identity provider.
                         Format: idps/{idp}
                title:
                    type: string
                    description: The display title of the identity provider.
                domain:
                    type: string
                    description: The domain for email matching when using this identity provider.
                type:
                    enum:
                        - IDENTITY_PROVIDER_TYPE_UNSPECIFIED
                        - OAUTH2
                        - OIDC
                        - LDAP
                    type: string
                    description: The type of identity provider protocol.
                    format: enum
                config:
                    allOf:
                        - $ref: '#/components/schemas/IdentityProviderConfig'
                    description: The configuration details for the identity provider.
        IdentityProviderConfig:
            type: object
            properties:
                oauth2Config:
                    allOf:
                        - $ref: '#/components/schemas/OAuth2IdentityProviderConfig'
                    description: OAuth2 protocol configuration.
                oidcConfig:
                    allOf:
                        - $ref: '#/components/schemas/OIDCIdentityProviderConfig'
                    description: OIDC protocol configuration.
                ldapConfig:
                    allOf:
                        - $ref: '#/components/schemas/LDAPIdentityProviderConfig'
                    description: LDAP protocol configuration.
        IdentityProviderContext:
            type: object
            properties:
                oauth2Context:
                    allOf:
                        - $ref: '#/components/schemas/OAuth2IdentityProviderContext'
                    description: OAuth2 authentication context.
                oidcContext:
                    allOf:
                        - $ref: '#/components/schemas/OIDCIdentityProviderContext'
                    description: OpenID Connect authentication context.
            description: Context for identity provider authentication.
        IndexMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name is the name of an index.
                expressions:
                    type: array
                    items:
                        type: string
                    description: |-
                        The expressions are the ordered columns or expressions of an index.
                         This could refer to a column or an expression.
                keyLength:
                    type: array
                    items:
                        type: string
                    description: |-
                        The key_lengths are the ordered key lengths of an index.
                         If the key length is not specified, it's -1.
                descending:
                    type: array
                    items:
                        type: boolean
                    description: The descending is the ordered descending of an index.
                type:
                    type: string
                    description: The type is the type of an index.
                unique:
                    type: boolean
                    description: The unique is whether the index is unique.
                primary:
                    type: boolean
                    description: The primary is whether the index is a primary key index.
                visible:
                    type: boolean
                    description: The visible is whether the index is visible.
                comment:
                    type: string
                    description: The comment is the comment of an index.
                definition:
                    type: string
                    description: The definition of an index.
                parentIndexSchema:
                    type: string
                    description: The schema name of the parent index.
                parentIndexName:
                    type: string
                    description: The index name of the parent index.
                granularity:
                    type: string
                    description: The number of granules in the block. It's a ClickHouse specific field.
                isConstraint:
                    type: boolean
                    description: |-
                        It's a PostgreSQL specific field.
                         The unique constraint and unique index are not the same thing in PostgreSQL.
                spatialConfig:
                    allOf:
                        - $ref: '#/components/schemas/SpatialIndexConfig'
                    description: Spatial index configuration for spatial databases like SQL Server, PostgreSQL with PostGIS, etc.
                opclassNames:
                    type: array
                    items:
                        type: string
                    description: |-
                        https://www.postgresql.org/docs/current/catalog-pg-opclass.html
                         Name of the operator class for each column. (PostgreSQL specific).
                opclassDefaults:
                    type: array
                    items:
                        type: boolean
                    description: True if the operator class is the default. (PostgreSQL specific).
            description: IndexMetadata is the metadata for indexes.
        Instance:
            type: object
            properties:
                title:
                    type: string
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    format: enum
                activation:
                    type: boolean
                version:
                    type: string
                externalLink:
                    type: string
                dataSources:
                    type: array
                    items:
                        $ref: '#/components/schemas/DataSource'
                syncInterval:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: The interval between automatic instance synchronizations.
                maximumConnections:
                    type: integer
                    description: |-
                        The maximum number of connections.
                         The default is 10 if the value is unset or zero.
                    format: int32
                syncDatabases:
                    type: array
                    items:
                        type: string
                    description: |-
                        Enable sync for the following databases.
                         Default empty, means sync all schemas & databases.
                mysqlLowerCaseTableNames:
                    type: integer
                    description: |-
                        The lower_case_table_names config for MySQL instances.
                         It is used to determine whether the table names and database names are case sensitive.
                    format: int32
                lastSyncTime:
                    type: string
                    format: date-time
                roles:
                    type: array
                    items:
                        $ref: '#/components/schemas/InstanceRole'
                labels:
                    type: object
                    additionalProperties:
                        type: string
                    description: |-
                        Labels are key-value pairs that can be attached to the instance.
                         For example, { "org_group": "infrastructure", "environment": "production" }
            description: Instance is the proto for instances.
        InstanceResource:
            type: object
            properties:
                title:
                    type: string
                    description: The display title of the instance.
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    description: The database engine type.
                    format: enum
                engineVersion:
                    readOnly: true
                    type: string
                    description: The version of the database engine.
                dataSources:
                    type: array
                    items:
                        $ref: '#/components/schemas/DataSource'
                    description: Data source configurations for the instance.
                activation:
                    type: boolean
                    description: Whether the instance is activated.
                name:
                    type: string
                    description: |-
                        The name of the instance.
                         Format: instances/{instance}
                environment:
                    type: string
                    description: |-
                        The environment resource.
                         Format: environments/prod where prod is the environment resource ID.
        InstanceRole:
            type: object
            properties:
                name:
                    type: string
                    description: The role name.
                connectionLimit:
                    type: integer
                    description: The connection count limit for this role.
                    format: int32
                validUntil:
                    type: string
                    description: The expiration for the role's password.
                attribute:
                    type: string
                    description: |-
                        The role attribute.
                         For PostgreSQL, it contains super_user, no_inherit, create_role, create_db, can_login, replication and bypass_rls. Docs: https://www.postgresql.org/docs/current/role-attributes.html
                         For MySQL, it is the global privileges as GRANT statements, which means it only contains "GRANT ... ON *.* TO ...". Docs: https://dev.mysql.com/doc/refman/8.0/en/grant.html
            description: InstanceRole is the API message for instance role.
        Issue:
            type: object
            properties:
                approval:
                    allOf:
                        - $ref: '#/components/schemas/IssuePayloadApproval'
                    description: Approval information for the issue workflow.
                grantRequest:
                    allOf:
                        - $ref: '#/components/schemas/GrantRequest'
                    description: Access grant request details if this is a grant request issue.
                labels:
                    type: array
                    items:
                        type: string
                    description: Labels attached to categorize and filter the issue.
            description: Issue is the metadata for issues that track database operations and access requests.
        IssueComment:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: projects/{project}/issues/{issue}/issueComments/{issueComment-uid}'
                comment:
                    type: string
                    description: The text content of the comment.
                payload:
                    type: string
                    description: 'TODO: use struct message instead.'
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
                updateTime:
                    readOnly: true
                    type: string
                    format: date-time
                creator:
                    readOnly: true
                    type: string
                    description: 'Format: users/{email}'
                approval:
                    allOf:
                        - $ref: '#/components/schemas/IssueComment_Approval'
                    description: Approval event.
                issueUpdate:
                    allOf:
                        - $ref: '#/components/schemas/IssueComment_IssueUpdate'
                    description: Issue update event.
                stageEnd:
                    allOf:
                        - $ref: '#/components/schemas/IssueComment_StageEnd'
                    description: Stage end event.
                taskUpdate:
                    allOf:
                        - $ref: '#/components/schemas/IssueComment_TaskUpdate'
                    description: Task update event.
                taskPriorBackup:
                    allOf:
                        - $ref: '#/components/schemas/IssueComment_TaskPriorBackup'
                    description: Task prior backup event.
            description: A comment on an issue.
        IssueComment_Approval:
            type: object
            properties:
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - PENDING
                        - APPROVED
                        - REJECTED
                    type: string
                    description: The approval status.
                    format: enum
            description: Approval event information.
        IssueComment_IssueUpdate:
            type: object
            properties:
                fromTitle:
                    type: string
                toTitle:
                    type: string
                fromDescription:
                    type: string
                toDescription:
                    type: string
                fromStatus:
                    enum:
                        - ISSUE_STATUS_UNSPECIFIED
                        - OPEN
                        - DONE
                        - CANCELED
                    type: string
                    format: enum
                toStatus:
                    enum:
                        - ISSUE_STATUS_UNSPECIFIED
                        - OPEN
                        - DONE
                        - CANCELED
                    type: string
                    format: enum
                fromLabels:
                    type: array
                    items:
                        type: string
                toLabels:
                    type: array
                    items:
                        type: string
            description: Issue update event information.
        IssueComment_StageEnd:
            type: object
            properties:
                stage:
                    type: string
                    description: The stage that ended.
            description: Stage end event information.
        IssueComment_TaskPriorBackup:
            type: object
            properties:
                task:
                    type: string
                    description: The task for which backup was performed.
                tables:
                    type: array
                    items:
                        $ref: '#/components/schemas/TaskPriorBackup_Table'
                    description: The tables that were backed up.
                originalLine:
                    type: integer
                    description: The original line number in the statement.
                    format: int32
                database:
                    type: string
                    description: The database that was backed up.
                error:
                    type: string
                    description: Error message if backup failed.
            description: Task prior backup event information.
        IssueComment_TaskUpdate:
            type: object
            properties:
                tasks:
                    type: array
                    items:
                        type: string
                    description: The tasks that were updated.
                fromSheet:
                    type: string
                    description: 'Format: projects/{project}/sheets/{sheet}'
                toSheet:
                    type: string
                    description: 'Format: projects/{project}/sheets/{sheet}'
                toStatus:
                    enum:
                        - STATUS_UNSPECIFIED
                        - PENDING
                        - RUNNING
                        - DONE
                        - FAILED
                        - SKIPPED
                        - CANCELED
                    type: string
                    format: enum
            description: Task update event information.
        IssuePayloadApproval:
            type: object
            properties:
                approvalTemplate:
                    allOf:
                        - $ref: '#/components/schemas/ApprovalTemplate'
                    description: The approval template being used for this issue.
                approvers:
                    type: array
                    items:
                        $ref: '#/components/schemas/IssuePayloadApproval_Approver'
                    description: List of approvers and their current status.
                approvalFindingDone:
                    type: boolean
                    description: |-
                        Whether the system has finished finding a matching approval template.
                         False means the backend is still searching for matching templates.
                approvalFindingError:
                    type: string
                    description: Error message if approval template finding failed.
                riskLevel:
                    enum:
                        - RISK_LEVEL_UNSPECIFIED
                        - LOW
                        - MODERATE
                        - HIGH
                    type: string
                    description: The assessed risk level for this issue.
                    format: enum
            description: IssuePayloadApproval records the approval template used and approval history for an issue.
        IssuePayloadApproval_Approver:
            type: object
            properties:
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - PENDING
                        - APPROVED
                        - REJECTED
                    type: string
                    description: The current approval status.
                    format: enum
                principalId:
                    type: integer
                    description: The ID of the principal who is the approver.
                    format: int32
            description: Approver represents a user who can approve or reject an issue.
        Item_Table:
            type: object
            properties:
                database:
                    type: string
                    description: |-
                        The database containing the table.
                         Format: instances/{instance}/databases/{database}
                schema:
                    type: string
                    description: Schema name (for databases that support schemas).
                table:
                    type: string
                    description: Table name.
            description: Table identifies a database table.
        KerberosConfig:
            type: object
            properties:
                primary:
                    type: string
                instance:
                    type: string
                realm:
                    type: string
                keytab:
                    type: string
                    format: bytes
                kdcHost:
                    type: string
                kdcPort:
                    type: string
                kdcTransportProtocol:
                    type: string
        LDAPIdentityProviderConfig:
            type: object
            properties:
                host:
                    type: string
                    description: |-
                        Host is the hostname or IP address of the LDAP server, e.g.,
                         "ldap.example.com".
                port:
                    type: integer
                    description: |-
                        Port is the port number of the LDAP server, e.g., 389. When not set, the
                         default port of the corresponding security protocol will be used, i.e. 389
                         for StartTLS and 636 for LDAPS.
                    format: int32
                skipTlsVerify:
                    type: boolean
                    description: SkipTLSVerify controls whether to skip TLS certificate verification.
                bindDn:
                    type: string
                    description: |-
                        BindDN is the DN of the user to bind as a service account to perform
                         search requests.
                bindPassword:
                    type: string
                    description: BindPassword is the password of the user to bind as a service account.
                baseDn:
                    type: string
                    description: BaseDN is the base DN to search for users, e.g., "ou=users,dc=example,dc=com".
                userFilter:
                    type: string
                    description: UserFilter is the filter to search for users, e.g., "(uid=%s)".
                securityProtocol:
                    enum:
                        - SECURITY_PROTOCOL_UNSPECIFIED
                        - START_TLS
                        - LDAPS
                    type: string
                    description: |-
                        SecurityProtocol is the security protocol to be used for establishing
                         connections with the LDAP server.
                    format: enum
                fieldMapping:
                    allOf:
                        - $ref: '#/components/schemas/FieldMapping'
                    description: |-
                        FieldMapping is the mapping of the user attributes returned by the LDAP
                         server.
            description: LDAPIdentityProviderConfig is the structure for LDAP identity provider config.
        Label:
            type: object
            properties:
                value:
                    type: string
                    description: The label value/name.
                color:
                    type: string
                    description: The color code for the label (e.g., hex color).
                group:
                    type: string
                    description: The group this label belongs to.
            description: A label for categorizing and organizing issues.
        ListChangelistsResponse:
            type: object
            properties:
                changelists:
                    type: array
                    items:
                        $ref: '#/components/schemas/Changelist'
                    description: The changelists from the specified request.
            description: Response message for listing changelists.
        ListChangelogsResponse:
            type: object
            properties:
                changelogs:
                    type: array
                    items:
                        $ref: '#/components/schemas/Changelog'
                    description: The list of changelogs.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListDatabaseGroupsResponse:
            type: object
            properties:
                databaseGroups:
                    type: array
                    items:
                        $ref: '#/components/schemas/DatabaseGroup'
                    description: The database groups from the specified request.
            description: Response message for listing database groups.
        ListDatabasesResponse:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        $ref: '#/components/schemas/Database'
                    description: The databases from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListGroupsResponse:
            type: object
            properties:
                groups:
                    type: array
                    items:
                        $ref: '#/components/schemas/Group'
                    description: The groups from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
            description: Response message for listing groups.
        ListIdentityProvidersResponse:
            type: object
            properties:
                identityProviders:
                    type: array
                    items:
                        $ref: '#/components/schemas/IdentityProvider'
                    description: The identity providers from the specified request.
        ListInstanceDatabaseRequest:
            required:
                - name
                - instance
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the instance.
                         Format: instances/{instance}
                instance:
                    allOf:
                        - $ref: '#/components/schemas/Instance'
                    description: The target instance. We need to set this field if the target instance is not created yet.
        ListInstanceDatabaseResponse:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        type: string
                    description: All database name list in the instance.
        ListInstanceRolesResponse:
            type: object
            properties:
                roles:
                    type: array
                    items:
                        $ref: '#/components/schemas/InstanceRole'
                    description: The roles from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListInstancesResponse:
            type: object
            properties:
                instances:
                    type: array
                    items:
                        $ref: '#/components/schemas/Instance'
                    description: The instances from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListIssueCommentsResponse:
            type: object
            properties:
                issueComments:
                    type: array
                    items:
                        $ref: '#/components/schemas/IssueComment'
                    description: The issue comments from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListIssuesResponse:
            type: object
            properties:
                issues:
                    type: array
                    items:
                        $ref: '#/components/schemas/Issue'
                    description: The issues from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListPlanCheckRunsResponse:
            type: object
            properties:
                planCheckRuns:
                    type: array
                    items:
                        $ref: '#/components/schemas/PlanCheckRun'
                    description: The plan check runs from the specified request.
        ListPlansResponse:
            type: object
            properties:
                plans:
                    type: array
                    items:
                        $ref: '#/components/schemas/Plan'
                    description: The plans from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListPoliciesResponse:
            type: object
            properties:
                policies:
                    type: array
                    items:
                        $ref: '#/components/schemas/Policy'
                    description: The policies from the specified request.
        ListProjectsResponse:
            type: object
            properties:
                projects:
                    type: array
                    items:
                        $ref: '#/components/schemas/Project'
                    description: The projects from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListReleasesResponse:
            type: object
            properties:
                releases:
                    type: array
                    items:
                        $ref: '#/components/schemas/Release'
                    description: The releases from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListReviewConfigsResponse:
            type: object
            properties:
                reviewConfigs:
                    type: array
                    items:
                        $ref: '#/components/schemas/ReviewConfig'
                    description: The SQL review configs from the specified request.
        ListRevisionsResponse:
            type: object
            properties:
                revisions:
                    type: array
                    items:
                        $ref: '#/components/schemas/Revision'
                    description: The revisions from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListRisksResponse:
            type: object
            properties:
                risks:
                    type: array
                    items:
                        $ref: '#/components/schemas/Risk'
        ListRolesResponse:
            type: object
            properties:
                roles:
                    type: array
                    items:
                        $ref: '#/components/schemas/Role'
                    description: The roles from the specified request.
        ListRolloutsResponse:
            type: object
            properties:
                rollouts:
                    type: array
                    items:
                        $ref: '#/components/schemas/Rollout'
                    description: The rollouts from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        ListSettingsResponse:
            type: object
            properties:
                settings:
                    type: array
                    items:
                        $ref: '#/components/schemas/Setting'
                    description: The settings from the specified request.
        ListTaskRunsResponse:
            type: object
            properties:
                taskRuns:
                    type: array
                    items:
                        $ref: '#/components/schemas/TaskRun'
                    description: The taskRuns from the specified request.
        ListUsersResponse:
            type: object
            properties:
                users:
                    type: array
                    items:
                        $ref: '#/components/schemas/User'
                    description: The users from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        LoginRequest:
            type: object
            properties:
                email:
                    type: string
                    description: User's email address.
                password:
                    type: string
                    description: User's password for authentication.
                web:
                    type: boolean
                    description: If web is set, we will set access token, refresh token, and user to the cookie.
                idpName:
                    type: string
                    description: |-
                        The name of the identity provider.
                         Format: idps/{idp}
                idpContext:
                    allOf:
                        - $ref: '#/components/schemas/IdentityProviderContext'
                    description: The idp_context is using to get the user information from identity provider.
                otpCode:
                    type: string
                    description: The otp_code is used to verify the user's identity by MFA.
                recoveryCode:
                    type: string
                    description: The recovery_code is used to recovery the user's identity with MFA.
                mfaTempToken:
                    type: string
                    description: The mfa_temp_token is used to verify the user's identity by MFA.
        LoginResponse:
            type: object
            properties:
                token:
                    type: string
                    description: Access token for authenticated requests.
                mfaTempToken:
                    type: string
                    description: Temporary token for MFA verification.
                requireResetPassword:
                    type: boolean
                    description: Whether user must reset password before continuing.
                user:
                    allOf:
                        - $ref: '#/components/schemas/User'
                    description: The user from the successful login.
        LogoutRequest:
            type: object
            properties: {}
            description: Request to logout current user session.
        MaskingReason:
            type: object
            properties:
                semanticTypeId:
                    type: string
                    description: The semantic type that triggered masking (e.g., "SSN", "email", "phone").
                semanticTypeTitle:
                    type: string
                    description: Human-readable semantic type title.
                maskingRuleId:
                    type: string
                    description: The masking rule ID that matched (if applicable).
                algorithm:
                    type: string
                    description: The masking algorithm used.
                context:
                    type: string
                    description: 'Additional context (e.g., "Matched global rule: PII Protection").'
                classificationLevel:
                    type: string
                    description: Whether masking was due to classification level.
                semanticTypeIcon:
                    type: string
                    description: Icon associated with the semantic type (if any).
        OAuth2IdentityProviderConfig:
            type: object
            properties:
                authUrl:
                    type: string
                    description: The authorization endpoint URL for OAuth2 flow.
                tokenUrl:
                    type: string
                    description: The token endpoint URL for exchanging authorization code.
                userInfoUrl:
                    type: string
                    description: The user information endpoint URL.
                clientId:
                    type: string
                    description: The OAuth2 client identifier.
                clientSecret:
                    type: string
                    description: The OAuth2 client secret for authentication.
                scopes:
                    type: array
                    items:
                        type: string
                    description: The list of OAuth2 scopes to request.
                fieldMapping:
                    allOf:
                        - $ref: '#/components/schemas/FieldMapping'
                    description: Mapping configuration for user attributes from OAuth2 response.
                skipTlsVerify:
                    type: boolean
                    description: Whether to skip TLS certificate verification.
                authStyle:
                    enum:
                        - OAUTH2_AUTH_STYLE_UNSPECIFIED
                        - IN_PARAMS
                        - IN_HEADER
                    type: string
                    description: The authentication style for client credentials.
                    format: enum
            description: OAuth2IdentityProviderConfig is the structure for OAuth2 identity provider config.
        OAuth2IdentityProviderContext:
            type: object
            properties:
                code:
                    type: string
                    description: Authorization code from OAuth2 provider.
            description: OAuth2 authentication context.
        OAuth2IdentityProviderTestRequestContext:
            type: object
            properties:
                code:
                    type: string
                    description: Authorize code from website.
        OIDCIdentityProviderConfig:
            type: object
            properties:
                issuer:
                    type: string
                    description: The OIDC issuer URL for the identity provider.
                clientId:
                    type: string
                    description: The OIDC client identifier.
                clientSecret:
                    type: string
                    description: The OIDC client secret for authentication.
                scopes:
                    type: array
                    items:
                        type: string
                    description: |-
                        The scopes that the OIDC provider supports.
                         Should be fetched from the well-known configuration file of the OIDC provider.
                fieldMapping:
                    allOf:
                        - $ref: '#/components/schemas/FieldMapping'
                    description: Mapping configuration for user attributes from OIDC claims.
                skipTlsVerify:
                    type: boolean
                    description: Whether to skip TLS certificate verification.
                authStyle:
                    enum:
                        - OAUTH2_AUTH_STYLE_UNSPECIFIED
                        - IN_PARAMS
                        - IN_HEADER
                    type: string
                    description: The authentication style for client credentials.
                    format: enum
                authEndpoint:
                    readOnly: true
                    type: string
                    description: |-
                        The authorization endpoint of the OIDC provider.
                         Should be fetched from the well-known configuration file of the OIDC provider.
            description: OIDCIdentityProviderConfig is the structure for OIDC identity provider config.
        OIDCIdentityProviderContext:
            type: object
            properties: {}
            description: OpenID Connect authentication context.
        ObjectSchema:
            type: object
            properties:
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - STRING
                        - NUMBER
                        - BOOLEAN
                        - OBJECT
                        - ARRAY
                    type: string
                    description: The data type of this object.
                    format: enum
                structKind:
                    allOf:
                        - $ref: '#/components/schemas/ObjectSchema_StructKind'
                    description: Struct schema.
                arrayKind:
                    allOf:
                        - $ref: '#/components/schemas/ObjectSchema_ArrayKind'
                    description: Array schema.
                semanticType:
                    type: string
                    description: The semantic type of this object.
            description: Schema definition for object-type columns.
        ObjectSchema_ArrayKind:
            type: object
            properties:
                kind:
                    $ref: '#/components/schemas/ObjectSchema'
        ObjectSchema_StructKind:
            type: object
            properties:
                properties:
                    type: object
                    additionalProperties:
                        $ref: '#/components/schemas/ObjectSchema'
        PasswordRestrictionSetting:
            type: object
            properties:
                minLength:
                    type: integer
                    description: min_length is the minimum length for password, should no less than 8.
                    format: int32
                requireNumber:
                    type: boolean
                    description: require_number requires the password must contains at least one number.
                requireLetter:
                    type: boolean
                    description: require_letter requires the password must contains at least one letter, regardless of upper case or lower case
                requireUppercaseLetter:
                    type: boolean
                    description: require_uppercase_letter requires the password must contains at least one upper case letter.
                requireSpecialCharacter:
                    type: boolean
                    description: require_special_character requires the password must contains at least one special character.
                requireResetPasswordForFirstLogin:
                    type: boolean
                    description: require_reset_password_for_first_login requires users to reset their password after the 1st login.
                passwordRotation:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: password_rotation requires users to reset their password after the duration.
        Plan:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the plan.
                         `plan` is a system generated ID.
                         Format: projects/{project}/plans/{plan}
                state:
                    enum:
                        - STATE_UNSPECIFIED
                        - ACTIVE
                        - DELETED
                    type: string
                    description: The state of the plan.
                    format: enum
                issue:
                    readOnly: true
                    type: string
                    description: |-
                        The issue associated with the plan.
                         Can be empty.
                         Format: projects/{project}/issues/{issue}
                rollout:
                    readOnly: true
                    type: string
                    description: |-
                        The rollout associated with the plan.
                         Can be empty.
                         Format: projects/{project}/rollouts/{rollout}
                title:
                    type: string
                    description: The title of the plan.
                description:
                    type: string
                    description: The description of the plan.
                specs:
                    type: array
                    items:
                        $ref: '#/components/schemas/Plan_Spec'
                    description: The deployment specs for the plan.
                creator:
                    readOnly: true
                    type: string
                    description: 'Format: users/hello@world.com'
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
                updateTime:
                    readOnly: true
                    type: string
                    format: date-time
                planCheckRunStatusCount:
                    readOnly: true
                    type: object
                    additionalProperties:
                        type: integer
                        format: int32
                    description: |-
                        The status count of the latest plan check runs.
                         Keys are:
                         - SUCCESS
                         - WARNING
                         - ERROR
                         - RUNNING
                deployment:
                    $ref: '#/components/schemas/Plan_Deployment'
        PlanCheckRun:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: projects/{project}/plans/{plan}/planCheckRuns/{planCheckRun}'
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - DATABASE_STATEMENT_FAKE_ADVISE
                        - DATABASE_STATEMENT_ADVISE
                        - DATABASE_STATEMENT_SUMMARY_REPORT
                        - DATABASE_CONNECT
                        - DATABASE_GHOST_SYNC
                    type: string
                    format: enum
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - RUNNING
                        - DONE
                        - FAILED
                        - CANCELED
                    type: string
                    format: enum
                target:
                    type: string
                    description: 'Format: instances/{instance}/databases/{database}'
                sheet:
                    type: string
                    description: 'Format: project/{project}/sheets/{sheet}'
                results:
                    type: array
                    items:
                        $ref: '#/components/schemas/PlanCheckRun_Result'
                error:
                    type: string
                    description: error is set if the Status is FAILED.
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
        PlanCheckRun_Result:
            type: object
            properties:
                status:
                    enum:
                        - ADVICE_LEVEL_UNSPECIFIED
                        - SUCCESS
                        - WARNING
                        - ERROR
                    type: string
                    format: enum
                title:
                    type: string
                content:
                    type: string
                code:
                    type: integer
                    format: int32
                sqlSummaryReport:
                    $ref: '#/components/schemas/Result_SqlSummaryReport'
                sqlReviewReport:
                    $ref: '#/components/schemas/Result_SqlReviewReport'
        Plan_ChangeDatabaseConfig:
            type: object
            properties:
                targets:
                    type: array
                    items:
                        type: string
                    description: |-
                        The list of targets.
                         Multi-database format: [instances/{instance-id}/databases/{database-name}].
                         Single database group format: [projects/{project}/databaseGroups/{databaseGroup}].
                sheet:
                    type: string
                    description: |-
                        The resource name of the sheet.
                         Format: projects/{project}/sheets/{sheet}
                release:
                    type: string
                    description: |-
                        The resource name of the release.
                         Format: projects/{project}/releases/{release}
                type:
                    enum:
                        - DATABASE_CHANGE_TYPE_UNSPECIFIED
                        - MIGRATE
                        - SDL
                    type: string
                    description: Type is the database change type.
                    format: enum
                migrationType:
                    enum:
                        - MIGRATION_TYPE_UNSPECIFIED
                        - DDL
                        - DML
                        - GHOST
                    type: string
                    description: |-
                        migration_type is the migration type for imperative schema migration.
                         It is only set when type is MIGRATE.
                    format: enum
                ghostFlags:
                    type: object
                    additionalProperties:
                        type: string
                enablePriorBackup:
                    type: boolean
                    description: If set, a backup of the modified data will be created automatically before any changes are applied.
        Plan_CreateDatabaseConfig:
            required:
                - target
                - database
            type: object
            properties:
                target:
                    type: string
                    description: |-
                        The resource name of the instance on which the database is created.
                         Format: instances/{instance}
                database:
                    type: string
                    description: The name of the database to create.
                table:
                    type: string
                    description: |-
                        table is the name of the table, if it is not empty, Bytebase should create a table after creating the database.
                         For example, in MongoDB, it only creates the database when we first store data in that database.
                characterSet:
                    type: string
                    description: character_set is the character set of the database.
                collation:
                    type: string
                    description: collation is the collation of the database.
                cluster:
                    type: string
                    description: cluster is the cluster of the database. This is only applicable to ClickHouse for "ON CLUSTER <<cluster>>".
                owner:
                    type: string
                    description: owner is the owner of the database. This is only applicable to Postgres for "WITH OWNER <<owner>>".
                environment:
                    type: string
                    description: |-
                        The environment resource.
                         Format: environments/prod where prod is the environment resource ID.
        Plan_Deployment:
            type: object
            properties:
                environments:
                    type: array
                    items:
                        type: string
                    description: The environments deploy order.
                databaseGroupMappings:
                    type: array
                    items:
                        $ref: '#/components/schemas/Deployment_DatabaseGroupMapping'
                    description: The database group mapping.
        Plan_ExportDataConfig:
            type: object
            properties:
                targets:
                    type: array
                    items:
                        type: string
                    description: |-
                        The list of targets.
                         Multi-database format: [instances/{instance-id}/databases/{database-name}].
                         Single database group format: [projects/{project}/databaseGroups/{databaseGroup}].
                sheet:
                    type: string
                    description: |-
                        The resource name of the sheet.
                         Format: projects/{project}/sheets/{sheet}
                format:
                    enum:
                        - FORMAT_UNSPECIFIED
                        - CSV
                        - JSON
                        - SQL
                        - XLSX
                    type: string
                    description: The format of the exported file.
                    format: enum
                password:
                    type: string
                    description: |-
                        The zip password provide by users.
                         Leave it empty if no needs to encrypt the zip file.
        Plan_Spec:
            type: object
            properties:
                id:
                    type: string
                    description: A UUID4 string that uniquely identifies the Spec.
                createDatabaseConfig:
                    $ref: '#/components/schemas/Plan_CreateDatabaseConfig'
                changeDatabaseConfig:
                    $ref: '#/components/schemas/Plan_ChangeDatabaseConfig'
                exportDataConfig:
                    $ref: '#/components/schemas/Plan_ExportDataConfig'
        Policy:
            type: object
            properties: {}
        Position:
            type: object
            properties:
                line:
                    type: integer
                    description: |-
                        Line position in a text (one-based).
                         First line of the text is line 1.
                         A value of 0 indicates the line information is unknown.
                    format: int32
                column:
                    type: integer
                    description: "Column position in a text (one-based).\n Column is measured in Unicode code points (characters/runes), not bytes or grapheme clusters.\n First character of the line is column 1.\n A value of 0 indicates the column information is unknown.\n\n Examples:\n - \"SELECT * FROM t\" - column 8 is '*'\n - \"SELECT 你好 FROM t\" - column 8 is '你' (even though it's at byte offset 7)\n - \"SELECT \U0001F600 FROM t\" - column 8 is '\U0001F600' (even though it's 4 bytes in UTF-8)"
                    format: int32
            description: |-
                Position in a text expressed as one-based line and one-based column.
                 We use 1-based numbering to match the majority of industry standards:
                 - Monaco Editor uses 1-based (https://microsoft.github.io/monaco-editor/typedoc/interfaces/IPosition.html)
                 - GitHub Actions uses 1-based (https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions#setting-an-error-message)
                 - Most text editors display 1-based positions to users
                 Note: LSP uses 0-based (https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#position),
                 but we follow the canonical user-facing standards.

                 Handling unknown positions:
                 - If the entire position is unknown, leave this field as nil/undefined
                 - If only line is known, set line and leave column as 0 (e.g., line=5, column=0)
                 - If only column is known (rare), set column and leave line as 0
                 Frontends should check for nil/undefined/zero values and handle them appropriately.
        Postgres_Session:
            type: object
            properties:
                pid:
                    type: string
                    description: Process ID of the session.
                blockedByPids:
                    type: array
                    items:
                        type: string
                    description: PIDs of sessions blocking this session.
                query:
                    type: string
                    description: Current query being executed.
                state:
                    type: string
                    description: Session state (active, idle, etc.).
                waitEventType:
                    type: string
                    description: Wait event type if session is waiting.
                waitEvent:
                    type: string
                    description: Specific wait event if session is waiting.
                datname:
                    type: string
                    description: Database name.
                usename:
                    type: string
                    description: User name.
                applicationName:
                    type: string
                    description: Application name.
                clientAddr:
                    type: string
                    description: Client IP address.
                clientPort:
                    type: string
                    description: Client port number.
                backendStart:
                    type: string
                    description: When the backend process started.
                    format: date-time
                xactStart:
                    type: string
                    description: When the current transaction started.
                    format: date-time
                queryStart:
                    type: string
                    description: When the current query started.
                    format: date-time
            description: PostgreSQL session information read from `pg_stat_activity`.
        PreviewRolloutRequest:
            required:
                - project
            type: object
            properties:
                project:
                    type: string
                    description: |-
                        The name of the project.
                         Format: projects/{project}
                plan:
                    allOf:
                        - $ref: '#/components/schemas/Plan'
                    description: The plan used to preview rollout.
        PreviewTaskRunRollbackRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}'
        PreviewTaskRunRollbackResponse:
            type: object
            properties:
                statement:
                    type: string
                    description: The rollback SQL statement that would undo the task run.
        PriorBackupDetail:
            type: object
            properties:
                items:
                    type: array
                    items:
                        $ref: '#/components/schemas/PriorBackupDetail_Item'
                    description: List of backup operations performed.
            description: PriorBackupDetail contains information about automatic backups created before migration.
        PriorBackupDetail_Item:
            type: object
            properties:
                sourceTable:
                    allOf:
                        - $ref: '#/components/schemas/Item_Table'
                    description: The original table information.
                targetTable:
                    allOf:
                        - $ref: '#/components/schemas/Item_Table'
                    description: The target backup table information.
                startPosition:
                    allOf:
                        - $ref: '#/components/schemas/Position'
                    description: The start position in the SQL statement.
                endPosition:
                    allOf:
                        - $ref: '#/components/schemas/Position'
                    description: The end position in the SQL statement.
            description: A single backup table mapping.
        Project:
            type: object
            properties:
                issueLabels:
                    type: array
                    items:
                        $ref: '#/components/schemas/Label'
                    description: Available labels that can be applied to issues in this project.
                forceIssueLabels:
                    type: boolean
                    description: Force issue labels to be used when creating an issue.
                allowModifyStatement:
                    type: boolean
                    description: Allow modifying statement after issue is created.
                autoResolveIssue:
                    type: boolean
                    description: Enable auto resolve issue.
                enforceIssueTitle:
                    type: boolean
                    description: Enforce issue title created by user instead of generated by Bytebase.
                autoEnableBackup:
                    type: boolean
                    description: Whether to automatically enable backup.
                skipBackupErrors:
                    type: boolean
                    description: Whether to skip backup errors and continue the data migration.
                postgresDatabaseTenantMode:
                    type: boolean
                    description: |-
                        Whether to enable the database tenant mode for PostgreSQL.
                         If enabled, the issue will be created with the prepend "set role <db_owner>" statement.
                allowSelfApproval:
                    type: boolean
                    description: Whether to allow the issue creator to self-approve the issue.
                executionRetryPolicy:
                    allOf:
                        - $ref: '#/components/schemas/Project_ExecutionRetryPolicy'
                    description: Configuration for automatic retry on task execution failures.
                ciSamplingSize:
                    type: integer
                    description: |-
                        The maximum number of databases to sample during CI data validation.
                         If not specified, sampling is disabled, resulting in a full validation.
                    format: int32
                parallelTasksPerRollout:
                    type: integer
                    description: The maximum number of parallel tasks to run during the rollout.
                    format: int32
                labels:
                    type: object
                    additionalProperties:
                        type: string
                    description: |-
                        Labels are key-value pairs that can be attached to the project.
                         For example, { "environment": "production", "team": "backend" }
                enforceSqlReview:
                    type: boolean
                    description: |-
                        Whether to enforce SQL review checks to pass before issue creation.
                         If enabled, issues cannot be created when SQL review finds errors.
            description: Project contains settings and configuration for a Bytebase project.
        Project_ExecutionRetryPolicy:
            type: object
            properties:
                maximumRetries:
                    type: integer
                    description: The maximum number of retries for lock timeout errors.
                    format: int32
            description: Execution retry policy configuration.
        QueryHistory:
            type: object
            properties:
                name:
                    readOnly: true
                    type: string
                    description: |-
                        The name for the query history.
                         Format: queryHistories/{uid}
                database:
                    readOnly: true
                    type: string
                    description: |-
                        The database name to execute the query.
                         Format: instances/{instance}/databases/{databaseName}
                creator:
                    readOnly: true
                    type: string
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
                statement:
                    readOnly: true
                    type: string
                error:
                    readOnly: true
                    type: string
                duration:
                    readOnly: true
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - QUERY
                        - EXPORT
                    type: string
                    format: enum
        QueryOption:
            type: object
            properties:
                redisRunCommandsOn:
                    enum:
                        - REDIS_RUN_COMMANDS_ON_UNSPECIFIED
                        - SINGLE_NODE
                        - ALL_NODES
                    type: string
                    format: enum
        QueryRequest:
            required:
                - name
                - dataSourceId
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name is the instance name to execute the query against.
                         Format: instances/{instance}/databases/{databaseName}
                statement:
                    type: string
                    description: The SQL statement to execute.
                limit:
                    type: integer
                    description: The maximum number of rows to return.
                    format: int32
                dataSourceId:
                    type: string
                    description: |-
                        The id of data source.
                         It is used for querying admin data source even if the instance has
                         read-only data sources. Or it can be used to query a specific read-only
                         data source.
                explain:
                    type: boolean
                    description: Explain the statement.
                schema:
                    type: string
                    description: |-
                        The default schema to search objects. Equals to the current schema in
                         Oracle and search path in Postgres.
                queryOption:
                    $ref: '#/components/schemas/QueryOption'
                container:
                    type: string
                    description: |-
                        Container is the container name to execute the query against, used for
                         CosmosDB only.
        QueryResponse:
            type: object
            properties:
                results:
                    type: array
                    items:
                        $ref: '#/components/schemas/QueryResult'
                    description: The query results.
        QueryResult:
            type: object
            properties:
                columnNames:
                    type: array
                    items:
                        type: string
                    description: Column names of the query result.
                columnTypeNames:
                    type: array
                    items:
                        type: string
                    description: |-
                        Column types of the query result.
                         The types come from the Golang SQL driver.
                rows:
                    type: array
                    items:
                        $ref: '#/components/schemas/QueryRow'
                    description: Rows of the query result.
                rowsCount:
                    type: string
                error:
                    type: string
                    description: The error message if the query failed.
                latency:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: The time it takes to execute the query.
                statement:
                    type: string
                    description: The query statement for the result.
                postgresError:
                    $ref: '#/components/schemas/QueryResult_PostgresError'
                allowExport:
                    type: boolean
                    description: The query result is allowed to be exported or not.
                messages:
                    type: array
                    items:
                        $ref: '#/components/schemas/QueryResult_Message'
                    description: |-
                        Informational or debug messages returned by the database engine during query execution.
                         Examples include PostgreSQL's RAISE NOTICE, MSSQL's PRINT, or Oracle's DBMS_OUTPUT.PUT_LINE.
                masked:
                    type: array
                    items:
                        $ref: '#/components/schemas/MaskingReason'
                    description: Masking reasons for each column (empty for non-masked columns).
        QueryResult_Message:
            type: object
            properties:
                level:
                    enum:
                        - LEVEL_UNSPECIFIED
                        - INFO
                        - WARNING
                        - DEBUG
                        - LOG
                        - NOTICE
                        - EXCEPTION
                    type: string
                    format: enum
                content:
                    type: string
        QueryResult_PostgresError:
            type: object
            properties:
                severity:
                    type: string
                code:
                    type: string
                message:
                    type: string
                detail:
                    type: string
                hint:
                    type: string
                position:
                    type: integer
                    format: int32
                internalPosition:
                    type: integer
                    format: int32
                internalQuery:
                    type: string
                where:
                    type: string
                schemaName:
                    type: string
                tableName:
                    type: string
                columnName:
                    type: string
                dataTypeName:
                    type: string
                constraintName:
                    type: string
                file:
                    type: string
                line:
                    type: integer
                    format: int32
                routine:
                    type: string
            description: |-
                refer https://www.postgresql.org/docs/11/protocol-error-fields.html
                 for field description.
        QueryRow:
            type: object
            properties:
                values:
                    type: array
                    items:
                        $ref: '#/components/schemas/RowValue'
                    description: Row values of the query result.
        Range:
            type: object
            properties:
                start:
                    type: integer
                    description: Start position (inclusive).
                    format: int32
                end:
                    type: integer
                    description: End position (exclusive).
                    format: int32
            description: Range of positions in text or sequence.
        RangeMask_Slice:
            type: object
            properties:
                start:
                    type: integer
                    description: start is the start index of the original value, start from 0 and should be less than stop.
                    format: int32
                end:
                    type: integer
                    description: stop is the stop index of the original value, should be less than the length of the original value.
                    format: int32
                substitution:
                    type: string
                    description: OriginalValue[start:end) would be replaced with replace_with.
        RejectIssueRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the issue to add a rejection.
                         Format: projects/{project}/issues/{issue}
                comment:
                    type: string
                    description: The comment explaining the rejection decision.
        Release:
            type: object
            properties:
                name:
                    readOnly: true
                    type: string
                    description: 'Format: projects/{project}/releases/{release}'
                title:
                    type: string
                    description: The title of the release.
                files:
                    type: array
                    items:
                        $ref: '#/components/schemas/Release_File'
                    description: The SQL files included in the release.
                vcsSource:
                    allOf:
                        - $ref: '#/components/schemas/Release_VCSSource'
                    description: The version control source of the release.
                creator:
                    readOnly: true
                    type: string
                    description: 'Format: users/hello@world.com'
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
                state:
                    readOnly: true
                    enum:
                        - STATE_UNSPECIFIED
                        - ACTIVE
                        - DELETED
                    type: string
                    description: The lifecycle state of the release.
                    format: enum
                digest:
                    type: string
                    description: |-
                        The digest of the release.
                         The user can provide the digest of the release. It can be used later to retrieve the release in GetRelease.
                         Whether to provide digest and how to generate it is up to the user.
                         If the digest is not empty, it must be unique in the project. Otherwise, an ALREADY_EXISTS error will be returned.
        Release_File:
            type: object
            properties:
                id:
                    type: string
                    description: The unique identifier for the file.
                path:
                    type: string
                    description: The path of the file. e.g., `2.2/V0001_create_table.sql`.
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - VERSIONED
                        - DECLARATIVE
                    type: string
                    description: The type of the file.
                    format: enum
                version:
                    type: string
                    description: The version identifier for the file.
                migrationType:
                    enum:
                        - MIGRATION_TYPE_UNSPECIFIED
                        - DDL
                        - DDL_GHOST
                        - DML
                    type: string
                    description: |-
                        The migration type of the file.
                         For versioned files, it is the migration type of the file.
                         For declarative files, this field is always DDL, thus meaningless.
                    format: enum
                sheet:
                    type: string
                    description: |-
                        For inputs, we must either use `sheet` or `statement`.
                         For outputs, we always use `sheet`. `statement` is the preview of the sheet content.

                         The sheet that holds the content.
                         Format: projects/{project}/sheets/{sheet}
                statement:
                    type: string
                    description: The raw SQL statement content.
                    format: bytes
                sheetSha256:
                    readOnly: true
                    type: string
                    description: The SHA256 hash value of the sheet content or the statement.
                statementSize:
                    readOnly: true
                    type: string
                    description: The size of the statement in bytes.
            description: A SQL file in a release.
        Release_VCSSource:
            type: object
            properties:
                vcsType:
                    enum:
                        - VCS_TYPE_UNSPECIFIED
                        - GITHUB
                        - GITLAB
                        - BITBUCKET
                        - AZURE_DEVOPS
                    type: string
                    description: The type of VCS.
                    format: enum
                url:
                    type: string
                    description: The url link to the e.g., GitHub commit or pull request.
            description: Version control system source information.
        RemoveDataSourceRequest:
            required:
                - name
                - dataSource
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the instance to remove a data source from.
                         Format: instances/{instance}
                dataSource:
                    allOf:
                        - $ref: '#/components/schemas/DataSource'
                    description: |-
                        Identified by data source ID.
                         Only READ_ONLY data source can be removed.
        RemoveWebhookRequest:
            required:
                - webhook
            type: object
            properties:
                webhook:
                    allOf:
                        - $ref: '#/components/schemas/Webhook'
                    description: The webhook to remove. Identified by its url.
        RequestIssueRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the issue to request a issue.
                         Format: projects/{project}/issues/{issue}
                comment:
                    type: string
                    description: The comment explaining the request.
        RequestMetadata:
            type: object
            properties:
                callerIp:
                    type: string
                    description: The IP address of the request originator.
                callerSuppliedUserAgent:
                    type: string
                    description: |-
                        The user agent string provided by the caller.
                         This is supplied by the client and is not authenticated.
            description: Metadata about the incoming request.
        ResourcePackage:
            type: object
            properties:
                logo:
                    type: string
                    description: The branding logo.
                    format: bytes
            description: Custom branding resources for the Bytebase instance.
        Result_SqlReviewReport:
            type: object
            properties:
                startPosition:
                    allOf:
                        - $ref: '#/components/schemas/Position'
                    description: Position of the SQL statement.
                endPosition:
                    $ref: '#/components/schemas/Position'
        Result_SqlSummaryReport:
            type: object
            properties:
                statementTypes:
                    type: array
                    items:
                        type: string
                    description: statement_types are the types of statements found in the SQL.
                affectedRows:
                    type: string
                changedResources:
                    $ref: '#/components/schemas/ChangedResources'
        ReviewConfig:
            type: object
            properties:
                name:
                    readOnly: true
                    type: string
                    description: |-
                        The name of the SQL review config.
                         Format: reviewConfigs/{reviewConfig}
                title:
                    type: string
                    description: The title of the review configuration.
                enabled:
                    type: boolean
                    description: Whether the review configuration is enabled.
                rules:
                    type: array
                    items:
                        $ref: '#/components/schemas/SQLReviewRule'
                    description: The SQL review rules to enforce.
                resources:
                    type: array
                    items:
                        type: string
                    description: |-
                        Resources using the config.
                         Format: {resource}/{resource id}, e.g., environments/test.
        Revision:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: instances/{instance}/databases/{database}/revisions/{revision}'
                release:
                    type: string
                    description: |-
                        Format: projects/{project}/releases/{release}
                         Can be empty.
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
                deleter:
                    readOnly: true
                    type: string
                    description: |-
                        Format: users/hello@world.com
                         Can be empty.
                deleteTime:
                    readOnly: true
                    type: string
                    description: Can be empty.
                    format: date-time
                file:
                    type: string
                    description: |-
                        Format: projects/{project}/releases/{release}/files/{id}
                         Can be empty.
                version:
                    type: string
                    description: The schema version string for this revision.
                sheet:
                    type: string
                    description: |-
                        The sheet that holds the content.
                         Format: projects/{project}/sheets/{sheet}
                sheetSha256:
                    readOnly: true
                    type: string
                    description: The SHA256 hash value of the sheet.
                statement:
                    readOnly: true
                    type: string
                    description: The statement is used for preview purpose.
                statementSize:
                    readOnly: true
                    type: string
                    description: The size of the statement in bytes.
                issue:
                    type: string
                    description: |-
                        The issue associated with the revision.
                         Can be empty.
                         Format: projects/{project}/issues/{issue}
                taskRun:
                    type: string
                    description: |-
                        The task run associated with the revision.
                         Can be empty.
                         Format:
                         projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - VERSIONED
                        - DECLARATIVE
                    type: string
                    description: The type of the revision.
                    format: enum
        Risk:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: risks/{risk}'
                source:
                    enum:
                        - SOURCE_UNSPECIFIED
                        - DDL
                        - DML
                        - CREATE_DATABASE
                        - DATA_EXPORT
                        - REQUEST_ROLE
                    type: string
                    description: The source of the operation being assessed for risk.
                    format: enum
                title:
                    type: string
                    description: The title of the risk rule.
                level:
                    enum:
                        - RISK_LEVEL_UNSPECIFIED
                        - LOW
                        - MODERATE
                        - HIGH
                    type: string
                    description: The risk level assigned when this rule matches.
                    format: enum
                active:
                    type: boolean
                    description: Whether the risk rule is active.
                condition:
                    allOf:
                        - $ref: '#/components/schemas/Expr'
                    description: |-
                        The condition that is associated with the risk.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         All supported variables:
                         statement.affected_rows: affected row count in the DDL/DML, support "==", "!=", "<", "<=", ">", ">=" operations.
                         statement.table_rows: table row count number, support "==", "!=", "<", "<=", ">", ">=" operations.
                         resource.environment_id: the environment resource id, support "==", "!=", "in [xx]", "!(in [xx])" operations.
                         resource.project_id: the project resource id, support "==", "!=", "in [xx]", "!(in [xx])", "contains()", "matches()", "startsWith()", "endsWith()" operations.
                         resource.db_engine: the database engine type, support "==", "!=", "in [xx]", "!(in [xx])" operations. Check the Engine enum for the values.
                         statement.sql_type: the SQL type, support "==", "!=", "in [xx]", "!(in [xx])" operations.
                          when the risk source is DDL, check https://github.com/bytebase/bytebase/blob/main/frontend/src/plugins/cel/types/values.ts#L70 for supported values.
                          when the risk source is DML, check https://github.com/bytebase/bytebase/blob/main/frontend/src/plugins/cel/types/values.ts#L71 for supported values.
                         resource.database_name: the database name, support "==", "!=", "in [xx]", "!(in [xx])", "contains()", "matches()", "startsWith()", "endsWith()" operations.
                         resource.schema_name: the schema name, support "==", "!=", "in [xx]", "!(in [xx])", "contains()", "matches()", "startsWith()", "endsWith()" operations.
                         resource.table_name: the table name, support "==", "!=", "in [xx]", "!(in [xx])", "contains()", "matches()", "startsWith()", "endsWith()" operations.
                         statement.text: the SQL statement, support "contains()", "matches()", "startsWith()", "endsWith()" operations.
                         request.expiration_days: the role expiration days for the request, support "==", "!=", "<", "<=", ">", ">=" operations.
                         request.role: the request role full name, support "==", "!=", "in [xx]", "!(in [xx])", "contains()", "matches()", "startsWith()", "endsWith()" operations.

                         When the risk source is DDL/DML, support following variables:
                         statement.affected_rows
                         statement.table_rows
                         resource.environment_id
                         resource.project_id
                         resource.db_engine
                         statement.sql_type
                         resource.database_name
                         resource.schema_name
                         resource.table_name
                         statement.text

                         When the risk source is CREATE_DATABASE, support following variables:
                         resource.environment_id
                         resource.project_id
                         resource.db_engine
                         resource.database_name

                         When the risk source is DATA_EXPORT, support following variables:
                         resource.environment_id
                         resource.project_id
                         resource.db_engine
                         resource.database_name
                         resource.schema_name
                         resource.table_name

                         When the risk source is REQUEST_ROLE, support following variables:
                         resource.project_id
                         request.expiration_days
                         request.role
        Role:
            type: object
            properties:
                name:
                    type: string
                    description: 'Resource name. Format: roles/{role}'
                title:
                    type: string
                    description: Human-readable title.
                description:
                    type: string
                    description: Optional description of the role.
                permissions:
                    type: array
                    items:
                        type: string
                    description: List of permission identifiers granted by this role.
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - BUILT_IN
                        - CUSTOM
                    type: string
                    description: Role type indicating if it's built-in or custom.
                    format: enum
            description: Role defines a set of permissions that can be assigned to users.
        Rollout:
            required:
                - plan
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The resource name of the rollout.
                         Format: projects/{project}/rollouts/{rollout}
                plan:
                    type: string
                    description: |-
                        The plan that this rollout is based on.
                         Format: projects/{project}/plans/{plan}
                title:
                    readOnly: true
                    type: string
                    description: |-
                        The title of the rollout, inherited from the associated plan.
                         This field is output only and cannot be directly set.
                stages:
                    type: array
                    items:
                        $ref: '#/components/schemas/Stage'
                    description: Stages and thus tasks of the rollout.
                creator:
                    readOnly: true
                    type: string
                    description: 'Format: users/hello@world.com'
                createTime:
                    readOnly: true
                    type: string
                    format: date-time
                updateTime:
                    readOnly: true
                    type: string
                    format: date-time
                issue:
                    readOnly: true
                    type: string
                    description: |-
                        The issue associated with the rollout. Could be empty.
                         Format: projects/{project}/issues/{issue}
        RowValue:
            type: object
            properties:
                nullValue:
                    enum:
                        - NULL_VALUE
                    type: string
                    format: enum
                boolValue:
                    type: boolean
                bytesValue:
                    type: string
                    format: bytes
                doubleValue:
                    type: number
                    format: double
                floatValue:
                    type: number
                    format: float
                int32Value:
                    type: integer
                    format: int32
                int64Value:
                    type: string
                stringValue:
                    type: string
                uint32Value:
                    type: integer
                    format: uint32
                uint64Value:
                    type: string
                valueValue:
                    allOf:
                        - $ref: '#/components/schemas/GoogleProtobufValue'
                    description: value_value is used for Spanner and TUPLE ARRAY MAP in Clickhouse only.
                timestampValue:
                    allOf:
                        - $ref: '#/components/schemas/RowValue_Timestamp'
                    description: |-
                        timestamp_value is used for the timestamp without time zone data type,
                         meaning it only includes the timestamp without any time zone or location
                         info. Although it may be expressed as a UTC value, it should be seen as a
                         timestamp missing location context.
                timestampTzValue:
                    allOf:
                        - $ref: '#/components/schemas/RowValue_TimestampTZ'
                    description: |-
                        timestamp_tz_value is used for the timestamptz data type, which
                         accurately represents the timestamp with location information.
        RowValue_Timestamp:
            type: object
            properties:
                googleTimestamp:
                    type: string
                    format: date-time
                accuracy:
                    type: integer
                    description: The accuracy is the number of digits after the decimal point.
                    format: int32
        RowValue_TimestampTZ:
            type: object
            properties:
                googleTimestamp:
                    type: string
                    format: date-time
                zone:
                    type: string
                    description: |-
                        Zone is the time zone abbreviations in timezone database such as "PDT",
                         "PST". https://en.wikipedia.org/wiki/List_of_tz_database_time_zones We
                         retrieve the time zone information from the timestamptz field in the
                         database. A timestamp is in UTC or epoch time, and with zone info, we can
                         convert it to a local time string. Zone and offset are returned by
                         time.Time.Zone()
                offset:
                    type: integer
                    description: The offset is in seconds east of UTC
                    format: int32
                accuracy:
                    type: integer
                    format: int32
        RunPlanChecksRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The plan to run plan checks.
                         Format: projects/{project}/plans/{plan}
                specId:
                    type: string
                    description: |-
                        The UUID of the specific spec to run plan checks for.
                         This should match the spec.id field in Plan.Spec.
                         If not set, all specs in the plan will be used.
        RunPlanChecksResponse:
            type: object
            properties: {}
        SASLConfig:
            type: object
            properties:
                krbConfig:
                    $ref: '#/components/schemas/KerberosConfig'
        SCIMSetting:
            type: object
            properties:
                token:
                    type: string
        SQLReviewRule:
            type: object
            properties:
                type:
                    type: string
                level:
                    enum:
                        - LEVEL_UNSPECIFIED
                        - ERROR
                        - WARNING
                    type: string
                    format: enum
                payload:
                    type: string
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    format: enum
                comment:
                    type: string
        SchemaCatalog:
            type: object
            properties:
                name:
                    type: string
                    description: The schema name.
                tables:
                    type: array
                    items:
                        $ref: '#/components/schemas/TableCatalog'
                    description: The tables in the schema.
            description: Schema metadata within a database.
        SchemaTemplateSetting:
            type: object
            properties:
                fieldTemplates:
                    type: array
                    items:
                        $ref: '#/components/schemas/SchemaTemplateSetting_FieldTemplate'
                columnTypes:
                    type: array
                    items:
                        $ref: '#/components/schemas/SchemaTemplateSetting_ColumnType'
                tableTemplates:
                    type: array
                    items:
                        $ref: '#/components/schemas/SchemaTemplateSetting_TableTemplate'
        SchemaTemplateSetting_ColumnType:
            type: object
            properties:
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    format: enum
                enabled:
                    type: boolean
                types:
                    type: array
                    items:
                        type: string
        SchemaTemplateSetting_FieldTemplate:
            type: object
            properties:
                id:
                    type: string
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    format: enum
                category:
                    type: string
                column:
                    $ref: '#/components/schemas/ColumnMetadata'
                catalog:
                    $ref: '#/components/schemas/ColumnCatalog'
        SchemaTemplateSetting_TableTemplate:
            type: object
            properties:
                id:
                    type: string
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    format: enum
                category:
                    type: string
                table:
                    $ref: '#/components/schemas/TableMetadata'
                catalog:
                    $ref: '#/components/schemas/TableCatalog'
        SearchAuditLogsRequest:
            required:
                - parent
            type: object
            properties:
                parent:
                    type: string
                filter:
                    type: string
                    description: |-
                        The filter of the log. It should be a valid CEL expression.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Supported filter:
                         - method: the API name, can be found in the docs, should start with "/bytebase.v1." prefix. For example "/bytebase.v1.UserService/CreateUser". Support "==" operator.
                         - severity: support "==" operator, check Severity enum in AuditLog message for values.
                         - user: the actor, should in "users/{email}" format, support "==" operator.
                         - create_time: support ">=" and "<=" operator.

                         For example:
                          - filter = "method == '/bytebase.v1.SQLService/Query'"
                          - filter = "method == '/bytebase.v1.SQLService/Query' && severity == 'ERROR'"
                          - filter = "method == '/bytebase.v1.SQLService/Query' && severity == 'ERROR' && user == 'users/bb@bytebase.com'"
                          - filter = "method == '/bytebase.v1.SQLService/Query' && severity == 'ERROR' && create_time <= '2021-01-01T00:00:00Z' && create_time >= '2020-01-01T00:00:00Z'"
                orderBy:
                    type: string
                    description: |-
                        The order by of the log.
                         Only support order by create_time.
                         For example:
                          - order_by = "create_time asc"
                          - order_by = "create_time desc"
                pageSize:
                    type: integer
                    description: |-
                        The maximum number of logs to return.
                         The service may return fewer than this value.
                         If unspecified, at most 10 log entries will be returned.
                         The maximum value is 5000; values above 5000 will be coerced to 5000.
                    format: int32
                pageToken:
                    type: string
                    description: |-
                        A page token, received from a previous `SearchLogs` call.
                         Provide this to retrieve the subsequent page.
            description: Request message for searching audit logs.
        SearchAuditLogsResponse:
            type: object
            properties:
                auditLogs:
                    type: array
                    items:
                        $ref: '#/components/schemas/AuditLog'
                nextPageToken:
                    type: string
                    description: |-
                        A token to retrieve next page of log entities.
                         Pass this value in the page_token field in the subsequent call
                         to retrieve the next page of log entities.
            description: Response message for searching audit logs.
        SearchIssuesRequest:
            required:
                - parent
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent, which owns this collection of issues.
                         Format: projects/{project}
                         Use "projects/-" to list all issues from all projects.
                pageSize:
                    type: integer
                    description: |-
                        The maximum number of issues to return. The service may return fewer than
                         this value.
                         If unspecified, at most 10 issues will be returned.
                         The maximum value is 1000; values above 1000 will be coerced to 1000.
                    format: int32
                pageToken:
                    type: string
                    description: |-
                        A page token, received from a previous `SearchIssues` call.
                         Provide this to retrieve the subsequent page.

                         When paginating, all other parameters provided to `SearchIssues` must match
                         the call that provided the page token.
                filter:
                    type: string
                    description: |-
                        Filter is used to filter issues returned in the list.
                         Check the filter field in the ListIssuesRequest message.
                query:
                    type: string
                    description: Query is the query statement.
        SearchIssuesResponse:
            type: object
            properties:
                issues:
                    type: array
                    items:
                        $ref: '#/components/schemas/Issue'
                    description: The issues from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        SearchPlansRequest:
            required:
                - parent
            type: object
            properties:
                parent:
                    type: string
                    description: |-
                        The parent, which owns this collection of plans.
                         Format: projects/{project}
                         Use "projects/-" to list all plans from all projects.
                pageSize:
                    type: integer
                    description: |-
                        The maximum number of plans to return. The service may return fewer than
                         this value.
                         If unspecified, at most 10 plans will be returned.
                         The maximum value is 1000; values above 1000 will be coerced to 1000.
                    format: int32
                pageToken:
                    type: string
                    description: |-
                        A page token, received from a previous `SearchPlans` call.
                         Provide this to retrieve the subsequent page.

                         When paginating, all other parameters provided to `SearchPlans` must match
                         the call that provided the page token.
                filter:
                    type: string
                    description: |-
                        Filter is used to filter plans returned in the list.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Supported filters:
                         - creator: the plan creator full name in "users/{email or id}" format, support "==" operator.
                         - create_time: the plan create time in "2006-01-02T15:04:05Z07:00" format, support ">=" or "<=" operator.
                         - has_pipeline: the plan has pipeline or not, support "==" operator, the value should be "true" or "false".
                         - has_issue: the plan has issue or not, support "==" operator, the value should be "true" or "false".
                         - title: the plan title, support "==" operator for exact match and ".matches()" operator for case-insensitive substring match.
                         - spec_type: the plan spec config type, support "==" operator, the value should be "create_database_config", "change_database_config", or "export_data_config".
                         - state: the plan state, support "==" operator, the value should be "ACTIVE" or "DELETED".

                         For example:
                         creator == "users/ed@bytebase.com" && create_time >= "2025-01-02T15:04:05Z07:00"
                         has_pipeline == false && has_issue == true
                         title == "My Plan"
                         title.matches("database migration")
                         spec_type == "change_database_config"
                         state == "ACTIVE"
        SearchPlansResponse:
            type: object
            properties:
                plans:
                    type: array
                    items:
                        $ref: '#/components/schemas/Plan'
                    description: The plans from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        SearchProjectsRequest:
            type: object
            properties:
                showDeleted:
                    type: boolean
                    description: Show deleted projects if specified.
                filter:
                    type: string
                    description: |-
                        Filter the project.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Supported filters:
                         - name: the project name, support "==" and ".matches()" operator.
                         - resource_id: the project id, support "==" and ".matches()" operator.
                         - exclude_default: if not include the default project, should be "true" or "false", support "==" operator.
                         - state: check the State enum for the values, support "==" operator.
                         - labels.{key}: the project label, support "==" and "in" operators.

                         For example:
                         name == "project name"
                         name.matches("project name")
                         resource_id == "project id"
                         resource_id.matches("project id")
                         exclude_default == true
                         state == "DELETED"
                         labels.environment == "production"
                         labels.tier == "critical"
                         labels.environment in ["staging", "prod"]
                         You can combine filter conditions like:
                         name == "project name" && resource_id.matches("project id")
                         name.matches("project name") || resource_id == "project id"
                         labels.environment == "production" && labels.tier == "critical"
                pageSize:
                    type: integer
                    description: |-
                        The maximum number of projects to return. The service may return fewer than
                         this value.
                         If unspecified, at most 10 projects will be returned.
                         The maximum value is 1000; values above 1000 will be coerced to 1000.
                    format: int32
                pageToken:
                    type: string
                    description: |-
                        A page token, received from a previous `SearchProjects` call.
                         Provide this to retrieve the subsequent page.

                         When paginating, all other parameters provided to `SearchProjects` must match
                         the call that provided the page token.
        SearchProjectsResponse:
            type: object
            properties:
                projects:
                    type: array
                    items:
                        $ref: '#/components/schemas/Project'
                    description: The projects from the specified request.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        SearchQueryHistoriesRequest:
            type: object
            properties:
                pageSize:
                    type: integer
                    description: |-
                        The maximum number of histories to return.
                         The service may return fewer than this value.
                         If unspecified, at most 10 history entries will be returned.
                         The maximum value is 1000; values above 1000 will be coerced to 1000.
                    format: int32
                pageToken:
                    type: string
                    description: |-
                        A page token, received from a previous `ListQueryHistory` call.
                         Provide this to retrieve the subsequent page.
                filter:
                    type: string
                    description: |-
                        Filter is the filter to apply on the search query history
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Supported filter:
                         - project: the project full name in "projects/{id}" format, support "==" operator.
                         - database: the database full name in "instances/{id}/databases/{name}" format, support "==" operator.
                         - instance: the instance full name in "instances/{id}" format, support "==" operator.
                         - type: the type, should be "QUERY" or "EXPORT", support "==" operator.
                         - statement: the SQL statement, support ".matches()" operator.

                         For example:
                         project == "projects/{project}"
                         database == "instances/{instance}/databases/{database}"
                         instance == "instances/{instance}"
                         type == "QUERY"
                         type == "EXPORT"
                         statement.matches("select")
                         type == "QUERY" && statement.matches("select")
        SearchQueryHistoriesResponse:
            type: object
            properties:
                queryHistories:
                    readOnly: true
                    type: array
                    items:
                        $ref: '#/components/schemas/QueryHistory'
                    description: The list of history.
                nextPageToken:
                    type: string
                    description: |-
                        A token to retrieve next page of history.
                         Pass this value in the page_token field in the subsequent call to
                         `ListQueryHistory` method to retrieve the next page of history.
        SearchReleasesResponse:
            type: object
            properties:
                releases:
                    type: array
                    items:
                        $ref: '#/components/schemas/Release'
                    description: The releases matching the search criteria.
                nextPageToken:
                    type: string
                    description: |-
                        A token, which can be sent as `page_token` to retrieve the next page.
                         If this field is omitted, there are no subsequent pages.
        SearchWorksheetsRequest:
            type: object
            properties:
                filter:
                    type: string
                    description: |-
                        To filter the search result.
                         The syntax and semantics of CEL are documented at https://github.com/google/cel-spec

                         Supported filter:
                         - creator: the worksheet creator in "users/{email}" format, support "==" and "!=" operator.
                         - starred: should be "true" or "false", filter starred/unstarred sheets, support "==" operator.
                         - visibility: check Visibility enum in the Worksheet message for values, support "==" and "in [xx]" operator.

                         For example:
                         creator == "users/{email}"
                         creator != "users/{email}"
                         starred == true
                         starred == false
                         visibility in ["PRIVATE", "PROJECT_READ", "PROJECT_WRITE"]
                         visibility == "PRIVATE"
        SearchWorksheetsResponse:
            type: object
            properties:
                worksheets:
                    type: array
                    items:
                        $ref: '#/components/schemas/Worksheet'
                    description: The worksheets that matched the search criteria.
        SemanticTypeSetting:
            type: object
            properties:
                types:
                    type: array
                    items:
                        $ref: '#/components/schemas/SemanticTypeSetting_SemanticType'
        SemanticTypeSetting_SemanticType:
            type: object
            properties:
                id:
                    type: string
                    description: id is the uuid for semantic type.
                title:
                    type: string
                    description: the title of the semantic type, it should not be empty.
                description:
                    type: string
                    description: the description of the semantic type, it can be empty.
                algorithm:
                    $ref: '#/components/schemas/Algorithm'
                icon:
                    type: string
                    description: icon is the icon for semantic type, it can be emoji or base64 encoded image.
        SetIamPolicyRequest:
            required:
                - resource
                - policy
            type: object
            properties:
                resource:
                    type: string
                    description: |-
                        The name of the resource to set the IAM policy.
                         Format: projects/{project}
                         Format: workspaces/{workspace}
                policy:
                    $ref: '#/components/schemas/IamPolicy'
                etag:
                    type: string
                    description: The current etag of the policy.
            description: Request message for setting an IAM policy.
        Setting:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The resource name of the setting. Must be one of the following forms:

                         - `setting/{setting}`
                         For example, "settings/bb.branding.logo"
                value:
                    allOf:
                        - $ref: '#/components/schemas/Value'
                    description: The configuration value of the setting.
            description: The schema of setting.
        Sheet:
            required:
                - name
                - title
                - content
                - engine
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the sheet resource.
                         Format: projects/{project}/sheets/{sheet}
                         The sheet ID is generated by the server on creation and cannot be changed.
                title:
                    type: string
                    description: The title of the sheet.
                creator:
                    readOnly: true
                    type: string
                    description: |-
                        The creator of the Sheet.
                         Format: users/{email}
                createTime:
                    readOnly: true
                    type: string
                    description: The create time of the sheet.
                    format: date-time
                content:
                    type: string
                    description: |-
                        The content of the sheet.
                         By default, it will be cut off, if it doesn't match the `content_size`, you can
                         set the `raw` to true in GetSheet request to retrieve the full content.
                    format: bytes
                contentSize:
                    readOnly: true
                    type: string
                    description: content_size is the full size of the content, may not match the size of the `content` field.
                payload:
                    allOf:
                        - $ref: '#/components/schemas/SheetPayload'
                    description: Additional metadata and configuration for the sheet.
                engine:
                    enum:
                        - ENGINE_UNSPECIFIED
                        - CLICKHOUSE
                        - MYSQL
                        - POSTGRES
                        - SNOWFLAKE
                        - SQLITE
                        - TIDB
                        - MONGODB
                        - REDIS
                        - ORACLE
                        - SPANNER
                        - MSSQL
                        - REDSHIFT
                        - MARIADB
                        - OCEANBASE
                        - STARROCKS
                        - DORIS
                        - HIVE
                        - ELASTICSEARCH
                        - BIGQUERY
                        - DYNAMODB
                        - DATABRICKS
                        - COCKROACHDB
                        - COSMOSDB
                        - TRINO
                        - CASSANDRA
                    type: string
                    description: The SQL dialect.
                    format: enum
        SheetCommand:
            type: object
            properties:
                start:
                    type: integer
                    format: int32
                end:
                    type: integer
                    format: int32
        SheetPayload:
            type: object
            properties:
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - SCHEMA_DESIGN
                    type: string
                    format: enum
                commands:
                    type: array
                    items:
                        $ref: '#/components/schemas/SheetCommand'
                    description: The start and end position of each command in the sheet statement.
        SpatialIndexConfig:
            type: object
            properties:
                method:
                    type: string
                    description: |-
                        Index method/type (database-specific)
                         Examples: "SPATIAL" (MySQL/SQL Server), "GIST"/"SPGIST" (PostgreSQL), "MDSYS.SPATIAL_INDEX_V2" (Oracle)
                tessellation:
                    allOf:
                        - $ref: '#/components/schemas/TessellationConfig'
                    description: Tessellation configuration (primarily SQL Server)
                storage:
                    allOf:
                        - $ref: '#/components/schemas/StorageConfig'
                    description: Storage and performance parameters
                dimensional:
                    allOf:
                        - $ref: '#/components/schemas/DimensionalConfig'
                    description: Dimensional and constraint parameters
                engineSpecific:
                    type: object
                    additionalProperties:
                        type: string
                    description: Database-specific parameters (stored as key-value pairs for extensibility)
            description: SpatialIndexConfig is the configuration for spatial indexes across different database engines.
        Stage:
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        Format: projects/{project}/rollouts/{rollout}/stages/{stage}
                         Use "-" for {stage} when the stage has no environment or deleted environment.
                id:
                    readOnly: true
                    type: string
                    description: |-
                        id is the environment id of the stage.
                         e.g., "prod".
                         Use "-" when the stage has no environment or deleted environment.
                environment:
                    type: string
                    description: |-
                        environment is the environment of the stage.
                         Format: environments/{environment} for valid environments, or "environments/-" for stages without environment or with deleted environments.
                tasks:
                    type: array
                    items:
                        $ref: '#/components/schemas/Task'
                    description: The tasks within this stage.
        Status:
            type: object
            properties:
                code:
                    type: integer
                    description: The status code, which should be an enum value of [google.rpc.Code][google.rpc.Code].
                    format: int32
                message:
                    type: string
                    description: A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the [google.rpc.Status.details][google.rpc.Status.details] field, or localized by the client.
                details:
                    type: array
                    items:
                        $ref: '#/components/schemas/GoogleProtobufAny'
                    description: A list of messages that carry the error details.  There is a common set of message types for APIs to use.
            description: 'The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors).'
        StorageConfig:
            type: object
            properties:
                fillfactor:
                    type: integer
                    description: PostgreSQL parameters
                    format: int32
                buffering:
                    type: string
                tablespace:
                    type: string
                    description: Oracle parameters
                workTablespace:
                    type: string
                sdoLevel:
                    type: integer
                    format: int32
                commitInterval:
                    type: integer
                    format: int32
                padIndex:
                    type: boolean
                    description: SQL Server parameters
                sortInTempdb:
                    type: string
                dropExisting:
                    type: boolean
                online:
                    type: boolean
                allowRowLocks:
                    type: boolean
                allowPageLocks:
                    type: boolean
                maxdop:
                    type: integer
                    format: int32
                dataCompression:
                    type: string
            description: StorageConfig defines storage and performance parameters for spatial indexes.
        Subscription:
            type: object
            properties:
                plan:
                    readOnly: true
                    enum:
                        - PLAN_TYPE_UNSPECIFIED
                        - FREE
                        - TEAM
                        - ENTERPRISE
                    type: string
                    format: enum
                seats:
                    readOnly: true
                    type: integer
                    format: int32
                instances:
                    readOnly: true
                    type: integer
                    format: int32
                activeInstances:
                    readOnly: true
                    type: integer
                    format: int32
                expiresTime:
                    readOnly: true
                    type: string
                    format: date-time
                trialing:
                    readOnly: true
                    type: boolean
                orgName:
                    readOnly: true
                    type: string
        SyncDatabaseRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the database to sync.
                         Format: instances/{instance}/databases/{database}
        SyncDatabaseResponse:
            type: object
            properties: {}
        SyncInstanceRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of instance.
                         Format: instances/{instance}
                enableFullSync:
                    type: boolean
                    description: |-
                        When full sync is enabled, all databases in the instance will be synchronized. Otherwise, only
                         the instance metadata (such as the database list) and any newly discovered databases will be synced.
        SyncInstanceResponse:
            type: object
            properties:
                databases:
                    type: array
                    items:
                        type: string
                    description: All database name list in the instance.
        TableCatalog:
            type: object
            properties:
                name:
                    type: string
                    description: The table name.
                columns:
                    allOf:
                        - $ref: '#/components/schemas/TableCatalog_Columns'
                    description: Regular table columns.
                objectSchema:
                    allOf:
                        - $ref: '#/components/schemas/ObjectSchema'
                    description: Object schema for JSON/XML columns.
                classification:
                    type: string
                    description: The data classification level for this table.
            description: Table metadata within a schema.
        TableCatalog_Columns:
            type: object
            properties:
                columns:
                    type: array
                    items:
                        $ref: '#/components/schemas/ColumnCatalog'
                    description: The columns in the table.
            description: Column list for regular tables.
        TableMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name is the name of a table.
                columns:
                    type: array
                    items:
                        $ref: '#/components/schemas/ColumnMetadata'
                    description: The columns is the ordered list of columns in a table.
                indexes:
                    type: array
                    items:
                        $ref: '#/components/schemas/IndexMetadata'
                    description: The indexes is the list of indexes in a table.
                engine:
                    type: string
                    description: The engine is the engine of a table.
                collation:
                    type: string
                    description: The collation is the collation of a table.
                charset:
                    type: string
                    description: The character set of table.
                rowCount:
                    type: string
                    description: The row_count is the estimated number of rows of a table.
                dataSize:
                    type: string
                    description: The data_size is the estimated data size of a table.
                indexSize:
                    type: string
                    description: The index_size is the estimated index size of a table.
                dataFree:
                    type: string
                    description: The data_free is the estimated free data size of a table.
                createOptions:
                    type: string
                    description: The create_options is the create option of a table.
                comment:
                    type: string
                    description: |-
                        The comment is the comment of a table.
                         classification and user_comment is parsed from the comment.
                userComment:
                    type: string
                    description: The user_comment is the user comment of a table parsed from the comment.
                foreignKeys:
                    type: array
                    items:
                        $ref: '#/components/schemas/ForeignKeyMetadata'
                    description: The foreign_keys is the list of foreign keys in a table.
                partitions:
                    type: array
                    items:
                        $ref: '#/components/schemas/TablePartitionMetadata'
                    description: The partitions is the list of partitions in a table.
                checkConstraints:
                    type: array
                    items:
                        $ref: '#/components/schemas/CheckConstraintMetadata'
                    description: The check_constraints is the list of check constraints in a table.
                owner:
                    type: string
                    description: The owner of the table.
                sortingKeys:
                    type: array
                    items:
                        type: string
                    description: |-
                        The sorting_keys is a tuple of column names or arbitrary expressions. ClickHouse specific field.
                         Reference: https://clickhouse.com/docs/en/engines/table-engines/mergetree-family/mergetree#order_by
                triggers:
                    type: array
                    items:
                        $ref: '#/components/schemas/TriggerMetadata'
                    description: The triggers is the list of triggers associated with the table.
                skipDump:
                    type: boolean
                    description: Whether to skip this table during schema dump operations.
                shardingInfo:
                    type: string
                    description: https://docs.pingcap.com/tidb/stable/information-schema-tables/
                primaryKeyType:
                    type: string
                    description: |-
                        https://docs.pingcap.com/tidb/stable/clustered-indexes/#clustered-indexes
                         CLUSTERED or NONCLUSTERED.
            description: TableMetadata is the metadata for tables.
        TablePartitionMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name is the name of a table partition.
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - RANGE
                        - RANGE_COLUMNS
                        - LIST
                        - LIST_COLUMNS
                        - HASH
                        - LINEAR_HASH
                        - KEY
                        - LINEAR_KEY
                    type: string
                    description: The type of a table partition.
                    format: enum
                expression:
                    type: string
                    description: |-
                        The expression is the expression of a table partition.
                         For PostgreSQL, the expression is the text of {FOR VALUES
                         partition_bound_spec}, see
                         https://www.postgresql.org/docs/current/sql-createtable.html. For MySQL,
                         the expression is the `expr` or `column_list` of the following syntax.
                         PARTITION BY
                            { [LINEAR] HASH(expr)
                            | [LINEAR] KEY [ALGORITHM={1 | 2}] (column_list)
                            | RANGE{(expr) | COLUMNS(column_list)}
                            | LIST{(expr) | COLUMNS(column_list)} }.
                value:
                    type: string
                    description: |-
                        The value is the value of a table partition.
                         For MySQL, the value is for RANGE and LIST partition types,
                         - For a RANGE partition, it contains the value set in the partition's
                         VALUES LESS THAN clause, which can be either an integer or MAXVALUE.
                         - For a LIST partition, this column contains the values defined in the
                         partition's VALUES IN clause, which is a list of comma-separated integer
                         values.
                         - For others, it's an empty string.
                useDefault:
                    type: string
                    description: |-
                        The use_default is whether the users use the default partition, it stores
                         the different value for different database engines. For MySQL, it's [INT]
                         type, 0 means not use default partition, otherwise, it's equals to number
                         in syntax [SUB]PARTITION {number}.
                subpartitions:
                    type: array
                    items:
                        $ref: '#/components/schemas/TablePartitionMetadata'
                    description: The subpartitions is the list of subpartitions in a table partition.
                indexes:
                    type: array
                    items:
                        $ref: '#/components/schemas/IndexMetadata'
                checkConstraints:
                    type: array
                    items:
                        $ref: '#/components/schemas/CheckConstraintMetadata'
            description: TablePartitionMetadata is the metadata for table partitions.
        Task:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}'
                specId:
                    type: string
                    description: |-
                        A UUID4 string that uniquely identifies the Spec.
                         Could be empty if the rollout of the task does not have an associating plan.
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - NOT_STARTED
                        - PENDING
                        - RUNNING
                        - DONE
                        - FAILED
                        - CANCELED
                        - SKIPPED
                    type: string
                    description: Status is the status of the task.
                    format: enum
                skippedReason:
                    type: string
                    description: The reason why the task was skipped.
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - GENERAL
                        - DATABASE_CREATE
                        - DATABASE_MIGRATE
                        - DATABASE_SDL
                        - DATABASE_EXPORT
                    type: string
                    format: enum
                target:
                    type: string
                    description: |-
                        Format: instances/{instance} if the task is DatabaseCreate.
                         Format: instances/{instance}/databases/{database}
                databaseCreate:
                    $ref: '#/components/schemas/Task_DatabaseCreate'
                databaseUpdate:
                    $ref: '#/components/schemas/Task_DatabaseUpdate'
                databaseDataExport:
                    $ref: '#/components/schemas/Task_DatabaseDataExport'
                updateTime:
                    readOnly: true
                    type: string
                    description: |-
                        The update_time is the update time of latest task run.
                         If there are no task runs, it will be empty.
                    format: date-time
                runTime:
                    readOnly: true
                    type: string
                    description: |-
                        The run_time is the scheduled run time of latest task run.
                         If there are no task runs or the task run is not scheduled, it will be empty.
                    format: date-time
        TaskPriorBackup_Table:
            type: object
            properties:
                schema:
                    type: string
                table:
                    type: string
        TaskRun:
            type: object
            properties: {}
            description: TaskRun represents an execution attempt of a task.
        TaskRunLog:
            type: object
            properties:
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - SCHEMA_DUMP_START
                        - SCHEMA_DUMP_END
                        - COMMAND_EXECUTE
                        - COMMAND_RESPONSE
                        - DATABASE_SYNC_START
                        - DATABASE_SYNC_END
                        - TASK_RUN_STATUS_UPDATE
                        - TRANSACTION_CONTROL
                        - PRIOR_BACKUP_START
                        - PRIOR_BACKUP_END
                        - RETRY_INFO
                        - COMPUTE_DIFF_START
                        - COMPUTE_DIFF_END
                    type: string
                    format: enum
                deployId:
                    type: string
                schemaDumpStart:
                    $ref: '#/components/schemas/TaskRunLog_SchemaDumpStart'
                schemaDumpEnd:
                    $ref: '#/components/schemas/TaskRunLog_SchemaDumpEnd'
                commandExecute:
                    $ref: '#/components/schemas/TaskRunLog_CommandExecute'
                commandResponse:
                    $ref: '#/components/schemas/TaskRunLog_CommandResponse'
                databaseSyncStart:
                    $ref: '#/components/schemas/TaskRunLog_DatabaseSyncStart'
                databaseSyncEnd:
                    $ref: '#/components/schemas/TaskRunLog_DatabaseSyncEnd'
                taskRunStatusUpdate:
                    $ref: '#/components/schemas/TaskRunLog_TaskRunStatusUpdate'
                transactionControl:
                    $ref: '#/components/schemas/TaskRunLog_TransactionControl'
                priorBackupStart:
                    $ref: '#/components/schemas/TaskRunLog_PriorBackupStart'
                priorBackupEnd:
                    $ref: '#/components/schemas/TaskRunLog_PriorBackupEnd'
                retryInfo:
                    $ref: '#/components/schemas/TaskRunLog_RetryInfo'
                computeDiffStart:
                    $ref: '#/components/schemas/TaskRunLog_ComputeDiffStart'
                computeDiffEnd:
                    $ref: '#/components/schemas/TaskRunLog_ComputeDiffEnd'
        TaskRunLog_CommandExecute:
            type: object
            properties:
                commandIndexes:
                    type: array
                    items:
                        type: integer
                        format: int32
                    description: |-
                        Either `command_indexes` or `statement` is set.
                         The indexes of the executed commands.
                statement:
                    type: string
                    description: The statement to be executed.
        TaskRunLog_CommandResponse:
            type: object
            properties:
                commandIndexes:
                    type: array
                    items:
                        type: integer
                        format: int32
                    description: The indexes of the executed commands.
                error:
                    type: string
                affectedRows:
                    type: string
                allAffectedRows:
                    type: array
                    items:
                        type: string
                    description: |-
                        `all_affected_rows` is the affected rows of each command.
                         `all_affected_rows` may be unavailable if the database driver doesn't support it. Caller should fallback to `affected_rows` in that case.
        TaskRunLog_ComputeDiffEnd:
            type: object
            properties:
                error:
                    type: string
        TaskRunLog_ComputeDiffStart:
            type: object
            properties: {}
        TaskRunLog_DatabaseSyncEnd:
            type: object
            properties:
                error:
                    type: string
        TaskRunLog_DatabaseSyncStart:
            type: object
            properties: {}
        TaskRunLog_PriorBackupEnd:
            type: object
            properties:
                priorBackupDetail:
                    $ref: '#/components/schemas/PriorBackupDetail'
                error:
                    type: string
        TaskRunLog_PriorBackupStart:
            type: object
            properties: {}
        TaskRunLog_RetryInfo:
            type: object
            properties:
                error:
                    type: string
                retryCount:
                    type: integer
                    format: int32
                maximumRetries:
                    type: integer
                    format: int32
        TaskRunLog_SchemaDumpEnd:
            type: object
            properties:
                error:
                    type: string
        TaskRunLog_SchemaDumpStart:
            type: object
            properties: {}
        TaskRunLog_TaskRunStatusUpdate:
            type: object
            properties:
                status:
                    enum:
                        - STATUS_UNSPECIFIED
                        - RUNNING_WAITING
                        - RUNNING_RUNNING
                    type: string
                    format: enum
        TaskRunLog_TransactionControl:
            type: object
            properties:
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - BEGIN
                        - COMMIT
                        - ROLLBACK
                    type: string
                    format: enum
                error:
                    type: string
        TaskRunSession:
            type: object
            properties:
                name:
                    type: string
                    description: 'Format: projects/{project}/rollouts/{rollout}/stages/{stage}/tasks/{task}/taskRuns/{taskRun}/session'
                postgres:
                    allOf:
                        - $ref: '#/components/schemas/TaskRunSession_Postgres'
                    description: PostgreSQL session information.
        TaskRunSession_Postgres:
            type: object
            properties:
                session:
                    allOf:
                        - $ref: '#/components/schemas/Postgres_Session'
                    description: '`session` is the session of the task run executing commands.'
                blockingSessions:
                    type: array
                    items:
                        $ref: '#/components/schemas/Postgres_Session'
                    description: '`blocking_sessions` block `session`.'
                blockedSessions:
                    type: array
                    items:
                        $ref: '#/components/schemas/Postgres_Session'
                    description: '`blocked_sessions` are blocked by `session`.'
            description: PostgreSQL session information.
        Task_DatabaseCreate:
            type: object
            properties:
                project:
                    type: string
                    description: |-
                        The project owning the database.
                         Format: projects/{project}
                database:
                    type: string
                    description: Database name.
                table:
                    type: string
                    description: Table name.
                sheet:
                    type: string
                    description: 'Format: projects/{project}/sheets/{sheet}'
                characterSet:
                    type: string
                    description: The character set for the database.
                collation:
                    type: string
                    description: The collation for the database.
                environment:
                    type: string
                    description: The environment the database belongs to.
            description: Payload for creating a new database.
        Task_DatabaseDataExport:
            type: object
            properties:
                target:
                    type: string
                    description: |-
                        The resource name of the target.
                         Format: instances/{instance-id}/databases/{database-name}
                sheet:
                    type: string
                    description: |-
                        The resource name of the sheet.
                         Format: projects/{project}/sheets/{sheet}
                format:
                    enum:
                        - FORMAT_UNSPECIFIED
                        - CSV
                        - JSON
                        - SQL
                        - XLSX
                    type: string
                    description: The format of the exported file.
                    format: enum
                password:
                    type: string
                    description: |-
                        The zip password provided by users.
                         Leave it empty if no needs to encrypt the zip file.
            description: Payload for exporting database data.
        Task_DatabaseUpdate:
            type: object
            properties:
                sheet:
                    type: string
                    description: 'Format: projects/{project}/sheets/{sheet}'
                schemaVersion:
                    type: string
                    description: The target schema version after this update.
                databaseChangeType:
                    enum:
                        - DATABASE_CHANGE_TYPE_UNSPECIFIED
                        - MIGRATE
                        - SDL
                    type: string
                    description: The type of database change (MIGRATE or SDL).
                    format: enum
                migrationType:
                    enum:
                        - MIGRATION_TYPE_UNSPECIFIED
                        - DDL
                        - DML
                        - GHOST
                    type: string
                    description: migration_type is only set when database_change_type is MIGRATE.
                    format: enum
            description: Payload for updating a database schema.
        TessellationConfig:
            type: object
            properties:
                scheme:
                    type: string
                    description: |-
                        Tessellation scheme
                         Examples: GEOMETRY_GRID, GEOGRAPHY_GRID, GEOMETRY_AUTO_GRID, GEOGRAPHY_AUTO_GRID
                boundingBox:
                    allOf:
                        - $ref: '#/components/schemas/BoundingBox'
                    description: Bounding box for GEOMETRY indexes (SQL Server)
                gridLevels:
                    type: array
                    items:
                        $ref: '#/components/schemas/GridLevel'
                    description: Grid level configuration (SQL Server)
                cellsPerObject:
                    type: integer
                    description: Cells per object (SQL Server)
                    format: int32
            description: TessellationConfig defines tessellation parameters for spatial indexes.
        TestIdentityProviderRequest:
            type: object
            properties:
                identityProvider:
                    allOf:
                        - $ref: '#/components/schemas/IdentityProvider'
                    description: The identity provider to test connection including uncreated.
                oauth2Context:
                    $ref: '#/components/schemas/OAuth2IdentityProviderTestRequestContext'
        TestIdentityProviderResponse:
            type: object
            properties:
                claims:
                    type: object
                    additionalProperties:
                        type: string
                    description: The map of claims returned by the identity provider.
                userInfo:
                    type: object
                    additionalProperties:
                        type: string
                    description: The matched user info from the claims.
        TestWebhookRequest:
            required:
                - project
                - webhook
            type: object
            properties:
                project:
                    type: string
                    description: |-
                        The name of the project which owns the webhook to test.
                         Format: projects/{project}
                webhook:
                    allOf:
                        - $ref: '#/components/schemas/Webhook'
                    description: The webhook to test. Identified by its url.
        TestWebhookResponse:
            type: object
            properties:
                error:
                    type: string
                    description: The result of the test, empty if the test is successful.
        TriggerMetadata:
            type: object
            properties:
                name:
                    type: string
                    description: The name of the trigger.
                event:
                    type: string
                    description: The event that triggers this action, such as INSERT, UPDATE, DELETE, or TRUNCATE.
                timing:
                    type: string
                    description: The timing of when the trigger fires, such as BEFORE or AFTER.
                body:
                    type: string
                    description: The body of the trigger.
                sqlMode:
                    type: string
                characterSetClient:
                    type: string
                collationConnection:
                    type: string
                comment:
                    type: string
                skipDump:
                    type: boolean
        UndeleteInstanceRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the deleted instance.
                         Format: instances/{instance}
        UndeleteProjectRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the deleted project.
                         Format: projects/{project}
        UndeleteUserRequest:
            required:
                - name
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the deleted user.
                         Format: users/{user}
        UpdateDatabaseRequest:
            required:
                - database
            type: object
            properties:
                database:
                    allOf:
                        - $ref: '#/components/schemas/Database'
                    description: |-
                        The database to update.

                         The database's `name` field is used to identify the database to update.
                         Format: instances/{instance}/databases/{database}
                updateMask:
                    type: string
                    description: The list of fields to update.
                    format: field-mask
                allowMissing:
                    type: boolean
                    description: |-
                        If set to true, and the database is not found, a new database will be created.
                         In this situation, `update_mask` is ignored.
        UpdateInstanceRequest:
            required:
                - instance
            type: object
            properties:
                instance:
                    allOf:
                        - $ref: '#/components/schemas/Instance'
                    description: |-
                        The instance to update.

                         The instance's `name` field is used to identify the instance to update.
                         Format: instances/{instance}
                updateMask:
                    type: string
                    description: The list of fields to update.
                    format: field-mask
                allowMissing:
                    type: boolean
                    description: |-
                        If set to true, and the instance is not found, a new instance will be created.
                         In this situation, `update_mask` is ignored.
        User:
            type: object
            properties:
                name:
                    readOnly: true
                    type: string
                    description: |-
                        The name of the user.
                         Format: users/{user}. {user} is a system-generated unique ID.
                state:
                    enum:
                        - STATE_UNSPECIFIED
                        - ACTIVE
                        - DELETED
                    type: string
                    description: The lifecycle state of the user account.
                    format: enum
                email:
                    type: string
                    description: The email address of the user, used for login and notifications.
                title:
                    type: string
                    description: The display title or full name of the user.
                userType:
                    enum:
                        - USER_TYPE_UNSPECIFIED
                        - USER
                        - SYSTEM_BOT
                        - SERVICE_ACCOUNT
                    type: string
                    description: The type of user account.
                    format: enum
                password:
                    writeOnly: true
                    type: string
                    description: The password for authentication. Only used during user creation or password updates.
                serviceKey:
                    writeOnly: true
                    type: string
                    description: The service key for service account authentication. Only used for service accounts.
                mfaEnabled:
                    type: boolean
                    description: The mfa_enabled flag means if the user has enabled MFA.
                tempOtpSecret:
                    type: string
                    description: Temporary OTP secret used during MFA setup and regeneration.
                tempRecoveryCodes:
                    type: array
                    items:
                        type: string
                    description: Temporary recovery codes used during MFA setup and regeneration.
                tempOtpSecretCreatedTime:
                    type: string
                    description: Timestamp when temp_otp_secret was created. Used by frontend to show countdown timer.
                    format: date-time
                phone:
                    type: string
                    description: |-
                        Should be a valid E.164 compliant phone number.
                         Could be empty.
                profile:
                    allOf:
                        - $ref: '#/components/schemas/User_Profile'
                    description: User profile metadata.
                groups:
                    readOnly: true
                    type: array
                    items:
                        type: string
                    description: |-
                        The groups for the user.
                         Format: groups/{email}
        User_Profile:
            type: object
            properties:
                lastLoginTime:
                    type: string
                    description: The last time the user successfully logged in.
                    format: date-time
                lastChangePasswordTime:
                    type: string
                    description: The last time the user changed their password.
                    format: date-time
                source:
                    type: string
                    description: source means where the user comes from. For now we support Entra ID SCIM sync, so the source could be Entra ID.
        Value:
            type: object
            properties:
                stringValue:
                    type: string
                    description: Defines this value as being a string value.
                appImSettingValue:
                    $ref: '#/components/schemas/AppIMSetting'
                workspaceProfileSettingValue:
                    allOf:
                        - $ref: '#/components/schemas/WorkspaceProfileSetting'
                    description: reserved 4; // was AgentPluginSetting agent_plugin_setting_value
                workspaceApprovalSettingValue:
                    $ref: '#/components/schemas/WorkspaceApprovalSetting'
                schemaTemplateSettingValue:
                    $ref: '#/components/schemas/SchemaTemplateSetting'
                dataClassificationSettingValue:
                    $ref: '#/components/schemas/DataClassificationSetting'
                semanticTypeSettingValue:
                    $ref: '#/components/schemas/SemanticTypeSetting'
                scimSetting:
                    $ref: '#/components/schemas/SCIMSetting'
                passwordRestrictionSetting:
                    $ref: '#/components/schemas/PasswordRestrictionSetting'
                aiSetting:
                    $ref: '#/components/schemas/AISetting'
                environmentSetting:
                    $ref: '#/components/schemas/EnvironmentSetting'
            description: The data in setting value.
        Webhook:
            required:
                - type
                - title
                - url
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        name is the name of the webhook, generated by the server.
                         format: projects/{project}/webhooks/{webhook}
                type:
                    enum:
                        - TYPE_UNSPECIFIED
                        - SLACK
                        - DISCORD
                        - TEAMS
                        - DINGTALK
                        - FEISHU
                        - WECOM
                        - LARK
                    type: string
                    description: type is the type of the webhook.
                    format: enum
                title:
                    type: string
                    description: title is the title of the webhook.
                url:
                    type: string
                    description: url is the url of the webhook, should be unique within the project.
                directMessage:
                    type: boolean
                    description: |-
                        if direct_message is set, the notification is sent directly
                         to the persons and url will be ignored.
                         IM integration setting should be set for this function to work.
                notificationTypes:
                    type: array
                    items:
                        enum:
                            - TYPE_UNSPECIFIED
                            - NOTIFY_ISSUE_APPROVED
                            - NOTIFY_PIPELINE_ROLLOUT
                            - ISSUE_CREATE
                            - ISSUE_COMMENT_CREATE
                            - ISSUE_FIELD_UPDATE
                            - ISSUE_STATUS_UPDATE
                            - ISSUE_APPROVAL_NOTIFY
                            - ISSUE_PIPELINE_STAGE_STATUS_UPDATE
                            - ISSUE_PIPELINE_TASK_RUN_STATUS_UPDATE
                        type: string
                        format: enum
                    description: |-
                        notification_types is the list of activities types that the webhook is interested in.
                         Bytebase will only send notifications to the webhook if the activity type is in the list.
                         It should not be empty, and should be a subset of the following:
                         - ISSUE_CREATE
                         - ISSUE_COMMENT_CREATE
                         - ISSUE_FIELD_UPDATE
                         - ISSUE_STATUS_UPDATE
                         - ISSUE_APPROVAL_NOTIFY
                         - ISSUE_PIPELINE_STAGE_STATUS_UPDATE
                         - ISSUE_PIPELINE_TASK_RUN_STATUS_UPDATE
                         - NOTIFY_ISSUE_APPROVED
                         - NOTIFY_PIPELINE_ROLLOUT
        Worksheet:
            required:
                - name
                - project
                - title
                - content
                - visibility
            type: object
            properties:
                name:
                    type: string
                    description: |-
                        The name of the worksheet resource, generated by the server.
                         Canonical parent is project.
                         Format: worksheets/{worksheet}
                project:
                    type: string
                    description: |-
                        The project resource name.
                         Format: projects/{project}
                database:
                    type: string
                    description: |-
                        The database resource name.
                         Format: instances/{instance}/databases/{database}
                         If the database parent doesn't exist, the database field is empty.
                title:
                    type: string
                    description: The title of the worksheet.
                creator:
                    readOnly: true
                    type: string
                    description: |-
                        The creator of the Worksheet.
                         Format: users/{email}
                createTime:
                    readOnly: true
                    type: string
                    description: The create time of the worksheet.
                    format: date-time
                updateTime:
                    readOnly: true
                    type: string
                    description: The last update time of the worksheet.
                    format: date-time
                content:
                    type: string
                    description: |-
                        The content of the worksheet.
                         By default, it will be cut off in SearchWorksheet() method. If it doesn't match the `content_size`, you can
                         use GetWorksheet() request to retrieve the full content.
                    format: bytes
                contentSize:
                    readOnly: true
                    type: string
                    description: content_size is the full size of the content, may not match the size of the `content` field.
                visibility:
                    enum:
                        - VISIBILITY_UNSPECIFIED
                        - PROJECT_READ
                        - PROJECT_WRITE
                        - PRIVATE
                    type: string
                    format: enum
                starred:
                    readOnly: true
                    type: boolean
                    description: starred indicates whether the worksheet is starred by the current authenticated user.
        WorksheetOrganizer:
            required:
                - worksheet
            type: object
            properties:
                worksheet:
                    type: string
                    description: |-
                        The name of the worksheet.
                         Format: worksheets/{worksheet}
                starred:
                    type: boolean
                    description: starred means if the worksheet is starred.
        WorkspaceApprovalSetting:
            type: object
            properties:
                rules:
                    type: array
                    items:
                        $ref: '#/components/schemas/WorkspaceApprovalSetting_Rule'
        WorkspaceApprovalSetting_Rule:
            type: object
            properties:
                template:
                    $ref: '#/components/schemas/ApprovalTemplate'
                condition:
                    $ref: '#/components/schemas/Expr'
        WorkspaceProfileSetting:
            type: object
            properties:
                externalUrl:
                    type: string
                    description: The external URL is used for sso authentication callback.
                disallowSignup:
                    type: boolean
                    description: Disallow self-service signup, users can only be invited by the owner.
                require2fa:
                    type: boolean
                    description: Require 2FA for all users.
                tokenDuration:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: The duration for token.
                announcement:
                    allOf:
                        - $ref: '#/components/schemas/Announcement'
                    description: The setting of custom announcement
                maximumRoleExpiration:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: The max duration for role expired.
                domains:
                    type: array
                    items:
                        type: string
                    description: The workspace domain, e.g., bytebase.com.
                enforceIdentityDomain:
                    type: boolean
                    description: Only user and group from the domains can be created and login.
                databaseChangeMode:
                    enum:
                        - DATABASE_CHANGE_MODE_UNSPECIFIED
                        - PIPELINE
                        - EDITOR
                    type: string
                    description: The workspace database change mode.
                    format: enum
                disallowPasswordSignin:
                    type: boolean
                    description: Whether to disallow password signin. (Except workspace admins)
                enableMetricCollection:
                    type: boolean
                    description: Whether to enable metric collection for the workspace.
                inactiveSessionTimeout:
                    pattern: ^-?(?:0|[1-9][0-9]{0,11})(?:\.[0-9]{1,9})?s$
                    type: string
                    description: The session expiration time if not activity detected for the user. Value <= 0 means no limit.
tags:
    - name: ActuatorService
      description: ActuatorService manages system health and operational information.
    - name: AuditLogService
      description: AuditLogService manages audit logs for system activities and API calls.
    - name: AuthService
      description: AuthService handles user authentication operations.
    - name: CelService
      description: CelService manages CEL (Common Expression Language) parsing and formatting operations.
    - name: ChangelistService
      description: ChangelistService manages changelists for grouping and organizing database changes.
    - name: DatabaseCatalogService
      description: DatabaseCatalogService manages database schema metadata and classification.
    - name: DatabaseGroupService
      description: DatabaseGroupService manages database groups for organizing databases by criteria.
    - name: DatabaseService
      description: DatabaseService manages databases and their schemas.
    - name: GroupService
      description: GroupService manages user groups for organizing users and permissions.
    - name: IdentityProviderService
      description: IdentityProviderService manages external identity providers for SSO authentication.
    - name: InstanceRoleService
      description: InstanceRoleService manages database roles within instances.
    - name: InstanceService
      description: InstanceService manages database instances and their connections.
    - name: IssueService
      description: IssueService manages issues for tracking database changes and tasks.
    - name: OrgPolicyService
      description: OrgPolicyService manages organizational policies at various resource levels.
    - name: PlanService
      description: PlanService manages deployment plans for database changes.
    - name: ProjectService
      description: ProjectService manages projects that group databases and changes.
    - name: ReleaseService
      description: ReleaseService manages releases for coordinating deployments.
    - name: ReviewConfigService
      description: ReviewConfigService manages approval flow configurations.
    - name: RevisionService
      description: RevisionService manages schema revision history.
    - name: RiskService
      description: RiskService manages risk assessment rules for database changes.
    - name: RoleService
      description: RoleService manages workspace roles and permissions.
    - name: RolloutService
      description: RolloutService manages the execution of deployment plans.
    - name: SQLService
      description: SQLService executes SQL queries and manages query operations.
    - name: SettingService
      description: SettingService manages workspace-level settings and configurations.
    - name: SheetService
      description: SheetService manages SQL scripts and saved queries.
    - name: SubscriptionService
      description: SubscriptionService manages enterprise subscriptions and licensing.
    - name: UserService
      description: UserService manages user accounts and authentication.
    - name: WorksheetService
      description: WorksheetService manages SQL worksheets for query development.
    - name: WorkspaceService
      description: WorkspaceService manages workspace-level operations and profile.
