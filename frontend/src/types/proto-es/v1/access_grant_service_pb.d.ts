// @generated by protoc-gen-es v2.5.2
// @generated from file v1/access_grant_service.proto (package bytebase.v1, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { EmptySchema, FieldMask, Timestamp } from "@bufbuild/protobuf/wkt";
import type { Expr } from "../google/type/expr_pb";

/**
 * Describes the file v1/access_grant_service.proto.
 */
export declare const file_v1_access_grant_service: GenFile;

/**
 * @generated from message bytebase.v1.AccessGrant
 */
export declare type AccessGrant = Message<"bytebase.v1.AccessGrant"> & {
  /**
   * The name of the access grant.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * The beneficiary of the access grant.
   * Format: users/{email}
   *
   * @generated from field: string user = 2;
   */
  user: string;

  /**
   * The state of the access grant.
   *
   * @generated from field: bytebase.v1.AccessGrant.State state = 3;
   */
  state: AccessGrant_State;

  /**
   * The expiration time of the access grant.
   *
   * @generated from field: google.protobuf.Timestamp expire_time = 4;
   */
  expireTime?: Timestamp;

  /**
   * The issue associated with the access grant.
   * Can be empty.
   * Format: projects/{project}/issues/{issue}
   *
   * @generated from field: string issue = 5;
   */
  issue: string;

  /**
   * The CEL expression defining the target databases for this access grant.
   * Uses the same variables as IAM policy binding conditions:
   *   resource.database, resource.schema_name, resource.table_name.
   * For example:
   *   resource.database in ["instances/local-pg/databases/db1", "instances/local-pg/databases/db2"]
   *
   * @generated from field: google.type.Expr database_target = 6;
   */
  databaseTarget?: Expr;

  /**
   * The query permission granted.
   *
   * @generated from field: string query = 7;
   */
  query: string;

  /**
   * Whether the grant exempts data masking.
   *
   * @generated from field: bool unmasking = 8;
   */
  unmasking: boolean;

  /**
   * @generated from field: google.protobuf.Timestamp create_time = 9;
   */
  createTime?: Timestamp;

  /**
   * @generated from field: google.protobuf.Timestamp update_time = 10;
   */
  updateTime?: Timestamp;
};

/**
 * Describes the message bytebase.v1.AccessGrant.
 * Use `create(AccessGrantSchema)` to create a new message.
 */
export declare const AccessGrantSchema: GenMessage<AccessGrant>;

/**
 * The state of the access grant.
 *
 * @generated from enum bytebase.v1.AccessGrant.State
 */
export enum AccessGrant_State {
  /**
   * @generated from enum value: STATE_UNSPECIFIED = 0;
   */
  STATE_UNSPECIFIED = 0,

  /**
   * The access grant is pending approval.
   *
   * @generated from enum value: PENDING = 1;
   */
  PENDING = 1,

  /**
   * The access grant is active.
   *
   * @generated from enum value: ACTIVE = 2;
   */
  ACTIVE = 2,

  /**
   * The access grant has been revoked.
   *
   * @generated from enum value: REVOKED = 3;
   */
  REVOKED = 3,
}

/**
 * Describes the enum bytebase.v1.AccessGrant.State.
 */
export declare const AccessGrant_StateSchema: GenEnum<AccessGrant_State>;

/**
 * @generated from message bytebase.v1.GetAccessGrantRequest
 */
export declare type GetAccessGrantRequest = Message<"bytebase.v1.GetAccessGrantRequest"> & {
  /**
   * The name of the access grant to retrieve.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: string name = 1;
   */
  name: string;
};

/**
 * Describes the message bytebase.v1.GetAccessGrantRequest.
 * Use `create(GetAccessGrantRequestSchema)` to create a new message.
 */
export declare const GetAccessGrantRequestSchema: GenMessage<GetAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.ListAccessGrantsRequest
 */
export declare type ListAccessGrantsRequest = Message<"bytebase.v1.ListAccessGrantsRequest"> & {
  /**
   * The parent project of the access grants.
   * Format: projects/{project}
   * Use "projects/-" to list across all projects.
   *
   * @generated from field: string parent = 1;
   */
  parent: string;

  /**
   * The maximum number of access grants to return.
   *
   * @generated from field: int32 page_size = 2;
   */
  pageSize: number;

  /**
   * A page token from a previous ListAccessGrants call.
   *
   * @generated from field: string page_token = 3;
   */
  pageToken: string;

  /**
   * Filter expression using AIP-160 syntax.
   * Supported fields: user, state, issue, expire_time, create_time
   * Examples:
   *   - 'user = "users/dev@example.com"'
   *   - 'state = "ACTIVE"'
   *   - 'user = "users/dev@example.com" AND state = "ACTIVE"'
   *   - 'issue = "projects/x/issues/123"'
   *   - 'expire_time < "2024-02-01T00:00:00Z"'
   *
   * @generated from field: string filter = 4;
   */
  filter: string;
};

/**
 * Describes the message bytebase.v1.ListAccessGrantsRequest.
 * Use `create(ListAccessGrantsRequestSchema)` to create a new message.
 */
export declare const ListAccessGrantsRequestSchema: GenMessage<ListAccessGrantsRequest>;

/**
 * @generated from message bytebase.v1.ListAccessGrantsResponse
 */
export declare type ListAccessGrantsResponse = Message<"bytebase.v1.ListAccessGrantsResponse"> & {
  /**
   * The access grants from the specified request.
   *
   * @generated from field: repeated bytebase.v1.AccessGrant access_grants = 1;
   */
  accessGrants: AccessGrant[];

  /**
   * A token, which can be sent as `page_token` to retrieve the next page.
   * If this field is omitted, there are no subsequent pages.
   *
   * @generated from field: string next_page_token = 2;
   */
  nextPageToken: string;
};

/**
 * Describes the message bytebase.v1.ListAccessGrantsResponse.
 * Use `create(ListAccessGrantsResponseSchema)` to create a new message.
 */
export declare const ListAccessGrantsResponseSchema: GenMessage<ListAccessGrantsResponse>;

/**
 * @generated from message bytebase.v1.CreateAccessGrantRequest
 */
export declare type CreateAccessGrantRequest = Message<"bytebase.v1.CreateAccessGrantRequest"> & {
  /**
   * The parent project for the access grant.
   * Format: projects/{project}
   *
   * @generated from field: string parent = 1;
   */
  parent: string;

  /**
   * The access grant to create.
   *
   * @generated from field: bytebase.v1.AccessGrant access_grant = 2;
   */
  accessGrant?: AccessGrant;
};

/**
 * Describes the message bytebase.v1.CreateAccessGrantRequest.
 * Use `create(CreateAccessGrantRequestSchema)` to create a new message.
 */
export declare const CreateAccessGrantRequestSchema: GenMessage<CreateAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.UpdateAccessGrantRequest
 */
export declare type UpdateAccessGrantRequest = Message<"bytebase.v1.UpdateAccessGrantRequest"> & {
  /**
   * The access grant to update.
   *
   * The access grant's `name` field is used to identify the access grant to update.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: bytebase.v1.AccessGrant access_grant = 1;
   */
  accessGrant?: AccessGrant;

  /**
   * The list of fields to update.
   * Supported fields:
   * - "state" (PENDING -> ACTIVE, ACTIVE -> REVOKED)
   * - "expire_time" (extend or shorten)
   *
   * @generated from field: google.protobuf.FieldMask update_mask = 2;
   */
  updateMask?: FieldMask;
};

/**
 * Describes the message bytebase.v1.UpdateAccessGrantRequest.
 * Use `create(UpdateAccessGrantRequestSchema)` to create a new message.
 */
export declare const UpdateAccessGrantRequestSchema: GenMessage<UpdateAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.DeleteAccessGrantRequest
 */
export declare type DeleteAccessGrantRequest = Message<"bytebase.v1.DeleteAccessGrantRequest"> & {
  /**
   * The name of the access grant to delete.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: string name = 1;
   */
  name: string;
};

/**
 * Describes the message bytebase.v1.DeleteAccessGrantRequest.
 * Use `create(DeleteAccessGrantRequestSchema)` to create a new message.
 */
export declare const DeleteAccessGrantRequestSchema: GenMessage<DeleteAccessGrantRequest>;

/**
 * AccessGrantService manages temporary access grants within projects.
 *
 * @generated from service bytebase.v1.AccessGrantService
 */
export declare const AccessGrantService: GenService<{
  /**
   * Gets an access grant by name.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.GetAccessGrant
   */
  getAccessGrant: {
    methodKind: "unary";
    input: typeof GetAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Lists access grants in a project.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.ListAccessGrants
   */
  listAccessGrants: {
    methodKind: "unary";
    input: typeof ListAccessGrantsRequestSchema;
    output: typeof ListAccessGrantsResponseSchema;
  },
  /**
   * Creates an access grant.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.CreateAccessGrant
   */
  createAccessGrant: {
    methodKind: "unary";
    input: typeof CreateAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Updates an access grant.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.UpdateAccessGrant
   */
  updateAccessGrant: {
    methodKind: "unary";
    input: typeof UpdateAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Deletes an access grant.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.DeleteAccessGrant
   */
  deleteAccessGrant: {
    methodKind: "unary";
    input: typeof DeleteAccessGrantRequestSchema;
    output: typeof EmptySchema;
  },
}>;

