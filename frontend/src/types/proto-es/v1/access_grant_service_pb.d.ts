// @generated by protoc-gen-es v2.5.2
// @generated from file v1/access_grant_service.proto (package bytebase.v1, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { Duration, Timestamp } from "@bufbuild/protobuf/wkt";

/**
 * Describes the file v1/access_grant_service.proto.
 */
export declare const file_v1_access_grant_service: GenFile;

/**
 * @generated from message bytebase.v1.AccessGrant
 */
export declare type AccessGrant = Message<"bytebase.v1.AccessGrant"> & {
  /**
   * The name of the access grant, generated by the server.
   * Format: projects/{project}/accessGrants/{access_grant}
   * The {access_grant} segment is a server-generated unique ID.
   *
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * The creator of the access grant.
   * Format: users/{email}
   *
   * @generated from field: string creator = 2;
   */
  creator: string;

  /**
   * The status of the access grant.
   * An ACTIVE grant with `expire_time` in the past is effectively expired
   * and no longer authorizes access. Use `expire_time` to determine
   * whether an ACTIVE grant has expired.
   *
   * @generated from field: bytebase.v1.AccessGrant.Status status = 3;
   */
  status: AccessGrant_Status;

  /**
   * The expiration of the access grant.
   * When the current time exceeds `expire_time`, an ACTIVE grant is
   * considered expired and no longer authorizes access.
   *
   * @generated from oneof bytebase.v1.AccessGrant.expiration
   */
  expiration: {
    /**
     * The expiration time of the access grant.
     *
     * @generated from field: google.protobuf.Timestamp expire_time = 4;
     */
    value: Timestamp;
    case: "expireTime";
  } | {
    /**
     * Input only. The time-to-live duration for the access grant.
     * The server computes `expire_time` from this value at activation time.
     *
     * @generated from field: google.protobuf.Duration ttl = 11;
     */
    value: Duration;
    case: "ttl";
  } | { case: undefined; value?: undefined };

  /**
   * The issue associated with the access grant.
   * Can be empty.
   * Format: projects/{project}/issues/{issue}
   *
   * @generated from field: string issue = 5;
   */
  issue: string;

  /**
   * The target databases for this access grant.
   * Format: instances/{instance}/databases/{database}
   *
   * @generated from field: repeated string targets = 6;
   */
  targets: string[];

  /**
   * The query permission granted.
   *
   * @generated from field: string query = 7;
   */
  query: string;

  /**
   * Whether the grant allows unmasking sensitive data.
   *
   * @generated from field: bool unmask = 8;
   */
  unmask: boolean;

  /**
   * @generated from field: google.protobuf.Timestamp create_time = 9;
   */
  createTime?: Timestamp;

  /**
   * @generated from field: google.protobuf.Timestamp update_time = 10;
   */
  updateTime?: Timestamp;

  /**
   * @generated from field: string reason = 12;
   */
  reason: string;
};

/**
 * Describes the message bytebase.v1.AccessGrant.
 * Use `create(AccessGrantSchema)` to create a new message.
 */
export declare const AccessGrantSchema: GenMessage<AccessGrant>;

/**
 * The status of the access grant.
 *
 * @generated from enum bytebase.v1.AccessGrant.Status
 */
export enum AccessGrant_Status {
  /**
   * @generated from enum value: STATUS_UNSPECIFIED = 0;
   */
  STATUS_UNSPECIFIED = 0,

  /**
   * The access grant is pending approval.
   *
   * @generated from enum value: PENDING = 1;
   */
  PENDING = 1,

  /**
   * The access grant is active. Check `expire_time` to determine
   * whether the grant is still valid or has expired.
   *
   * @generated from enum value: ACTIVE = 2;
   */
  ACTIVE = 2,

  /**
   * The access grant has been revoked.
   *
   * @generated from enum value: REVOKED = 3;
   */
  REVOKED = 3,
}

/**
 * Describes the enum bytebase.v1.AccessGrant.Status.
 */
export declare const AccessGrant_StatusSchema: GenEnum<AccessGrant_Status>;

/**
 * @generated from message bytebase.v1.GetAccessGrantRequest
 */
export declare type GetAccessGrantRequest = Message<"bytebase.v1.GetAccessGrantRequest"> & {
  /**
   * The name of the access grant to retrieve.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: string name = 1;
   */
  name: string;
};

/**
 * Describes the message bytebase.v1.GetAccessGrantRequest.
 * Use `create(GetAccessGrantRequestSchema)` to create a new message.
 */
export declare const GetAccessGrantRequestSchema: GenMessage<GetAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.ListAccessGrantsRequest
 */
export declare type ListAccessGrantsRequest = Message<"bytebase.v1.ListAccessGrantsRequest"> & {
  /**
   * The parent project of the access grants.
   * Format: projects/{project}
   *
   * @generated from field: string parent = 1;
   */
  parent: string;

  /**
   * The maximum number of access grants to return.
   *
   * @generated from field: int32 page_size = 2;
   */
  pageSize: number;

  /**
   * A page token from a previous ListAccessGrants call.
   *
   * @generated from field: string page_token = 3;
   */
  pageToken: string;

  /**
   * Filter expression using AIP-160 syntax.
   * Supported fields:
   * - name: the fullname in "projects/{project}/accessGrants/{access_grant}" format, support "==" operator.
   * - creator: the creator name in "users/{email}" format, support "==" operator.
   * - status: the access status, support "==" and "in" operator.
   * - issue: the access issue fullname, support "==" operator.
   * - expire_time: the access expire time in "2006-01-02T15:04:05Z07:00" format, support ">=", ">", "<=" and "<" operator.
   * - create_time: the access creation time in "2006-01-02T15:04:05Z07:00" format, support ">=", ">", "<=" and "<" operator.
   * - query: the access query, support "==" and ".contains(xx)" operator
   *
   * Examples:
   * - creator == "users/dev@example.com"
   * - status == "ACTIVE"
   * - status in ["ACTIVE", "PENDING"]
   * - creator == "users/dev@example.com" && status == "ACTIVE"
   * - issue == "projects/x/issues/123"
   * - status == "ACTIVE" && expire_time > "2024-02-01T00:00:00Z"
   *
   * @generated from field: string filter = 4;
   */
  filter: string;
};

/**
 * Describes the message bytebase.v1.ListAccessGrantsRequest.
 * Use `create(ListAccessGrantsRequestSchema)` to create a new message.
 */
export declare const ListAccessGrantsRequestSchema: GenMessage<ListAccessGrantsRequest>;

/**
 * @generated from message bytebase.v1.ListAccessGrantsResponse
 */
export declare type ListAccessGrantsResponse = Message<"bytebase.v1.ListAccessGrantsResponse"> & {
  /**
   * The access grants from the specified request.
   *
   * @generated from field: repeated bytebase.v1.AccessGrant access_grants = 1;
   */
  accessGrants: AccessGrant[];

  /**
   * A token, which can be sent as `page_token` to retrieve the next page.
   * If this field is omitted, there are no subsequent pages.
   *
   * @generated from field: string next_page_token = 2;
   */
  nextPageToken: string;
};

/**
 * Describes the message bytebase.v1.ListAccessGrantsResponse.
 * Use `create(ListAccessGrantsResponseSchema)` to create a new message.
 */
export declare const ListAccessGrantsResponseSchema: GenMessage<ListAccessGrantsResponse>;

/**
 * @generated from message bytebase.v1.CreateAccessGrantRequest
 */
export declare type CreateAccessGrantRequest = Message<"bytebase.v1.CreateAccessGrantRequest"> & {
  /**
   * The parent project for the access grant.
   * Format: projects/{project}
   *
   * @generated from field: string parent = 1;
   */
  parent: string;

  /**
   * The access grant to create.
   *
   * @generated from field: bytebase.v1.AccessGrant access_grant = 2;
   */
  accessGrant?: AccessGrant;
};

/**
 * Describes the message bytebase.v1.CreateAccessGrantRequest.
 * Use `create(CreateAccessGrantRequestSchema)` to create a new message.
 */
export declare const CreateAccessGrantRequestSchema: GenMessage<CreateAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.ActivateAccessGrantRequest
 */
export declare type ActivateAccessGrantRequest = Message<"bytebase.v1.ActivateAccessGrantRequest"> & {
  /**
   * The name of the access grant to activate.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: string name = 1;
   */
  name: string;
};

/**
 * Describes the message bytebase.v1.ActivateAccessGrantRequest.
 * Use `create(ActivateAccessGrantRequestSchema)` to create a new message.
 */
export declare const ActivateAccessGrantRequestSchema: GenMessage<ActivateAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.RevokeAccessGrantRequest
 */
export declare type RevokeAccessGrantRequest = Message<"bytebase.v1.RevokeAccessGrantRequest"> & {
  /**
   * The name of the access grant to revoke.
   * Format: projects/{project}/accessGrants/{access_grant}
   *
   * @generated from field: string name = 1;
   */
  name: string;
};

/**
 * Describes the message bytebase.v1.RevokeAccessGrantRequest.
 * Use `create(RevokeAccessGrantRequestSchema)` to create a new message.
 */
export declare const RevokeAccessGrantRequestSchema: GenMessage<RevokeAccessGrantRequest>;

/**
 * @generated from message bytebase.v1.SearchMyAccessGrantsRequest
 */
export declare type SearchMyAccessGrantsRequest = Message<"bytebase.v1.SearchMyAccessGrantsRequest"> & {
  /**
   * The parent project to search in.
   * Format: projects/{project}
   *
   * @generated from field: string parent = 1;
   */
  parent: string;

  /**
   * The maximum number of access grants to return.
   *
   * @generated from field: int32 page_size = 2;
   */
  pageSize: number;

  /**
   * A page token from a previous SearchMyAccessGrants call.
   *
   * @generated from field: string page_token = 3;
   */
  pageToken: string;

  /**
   * Filter expression using AIP-160 syntax.
   * Supported fields: name, status, expire_time, create_time
   * Examples:
   *   - 'name = "projects/x/accessGrants/uuid"'
   *   - 'status = "ACTIVE"'
   *   - 'status = "ACTIVE" AND expire_time > "2024-02-01T00:00:00Z"'
   *
   * @generated from field: string filter = 4;
   */
  filter: string;
};

/**
 * Describes the message bytebase.v1.SearchMyAccessGrantsRequest.
 * Use `create(SearchMyAccessGrantsRequestSchema)` to create a new message.
 */
export declare const SearchMyAccessGrantsRequestSchema: GenMessage<SearchMyAccessGrantsRequest>;

/**
 * @generated from message bytebase.v1.SearchMyAccessGrantsResponse
 */
export declare type SearchMyAccessGrantsResponse = Message<"bytebase.v1.SearchMyAccessGrantsResponse"> & {
  /**
   * The access grants from the specified request.
   *
   * @generated from field: repeated bytebase.v1.AccessGrant access_grants = 1;
   */
  accessGrants: AccessGrant[];

  /**
   * A token, which can be sent as `page_token` to retrieve the next page.
   * If this field is omitted, there are no subsequent pages.
   *
   * @generated from field: string next_page_token = 2;
   */
  nextPageToken: string;
};

/**
 * Describes the message bytebase.v1.SearchMyAccessGrantsResponse.
 * Use `create(SearchMyAccessGrantsResponseSchema)` to create a new message.
 */
export declare const SearchMyAccessGrantsResponseSchema: GenMessage<SearchMyAccessGrantsResponse>;

/**
 * AccessGrantService manages temporary access grants within projects.
 *
 * @generated from service bytebase.v1.AccessGrantService
 */
export declare const AccessGrantService: GenService<{
  /**
   * Gets an access grant by name.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.GetAccessGrant
   */
  getAccessGrant: {
    methodKind: "unary";
    input: typeof GetAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Lists access grants in a project.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.ListAccessGrants
   */
  listAccessGrants: {
    methodKind: "unary";
    input: typeof ListAccessGrantsRequestSchema;
    output: typeof ListAccessGrantsResponseSchema;
  },
  /**
   * Creates an access grant.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.CreateAccessGrant
   */
  createAccessGrant: {
    methodKind: "unary";
    input: typeof CreateAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Activates a pending access grant.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.ActivateAccessGrant
   */
  activateAccessGrant: {
    methodKind: "unary";
    input: typeof ActivateAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Revokes an active access grant.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.RevokeAccessGrant
   */
  revokeAccessGrant: {
    methodKind: "unary";
    input: typeof RevokeAccessGrantRequestSchema;
    output: typeof AccessGrantSchema;
  },
  /**
   * Searches access grants created by the caller.
   *
   * @generated from rpc bytebase.v1.AccessGrantService.SearchMyAccessGrants
   */
  searchMyAccessGrants: {
    methodKind: "unary";
    input: typeof SearchMyAccessGrantsRequestSchema;
    output: typeof SearchMyAccessGrantsResponseSchema;
  },
}>;

