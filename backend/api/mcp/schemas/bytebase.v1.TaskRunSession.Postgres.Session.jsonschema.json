{
  "$id": "bytebase.v1.TaskRunSession.Postgres.Session.jsonschema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "PostgreSQL session information read from `pg_stat_activity`.",
  "patternProperties": {
    "^(application_name)$": {
      "default": "",
      "description": "Application name.",
      "type": "string"
    },
    "^(backend_start)$": {
      "$ref": "google.protobuf.Timestamp.jsonschema.json",
      "description": "When the backend process started."
    },
    "^(blocked_by_pids)$": {
      "description": "PIDs of sessions blocking this session.",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "^(client_addr)$": {
      "description": "Client IP address.",
      "type": "string"
    },
    "^(client_port)$": {
      "description": "Client port number.",
      "type": "string"
    },
    "^(query_start)$": {
      "$ref": "google.protobuf.Timestamp.jsonschema.json",
      "description": "When the current query started."
    },
    "^(wait_event)$": {
      "description": "Specific wait event if session is waiting.",
      "type": "string"
    },
    "^(wait_event_type)$": {
      "description": "Wait event type if session is waiting.",
      "type": "string"
    },
    "^(xact_start)$": {
      "$ref": "google.protobuf.Timestamp.jsonschema.json",
      "description": "When the current transaction started."
    }
  },
  "properties": {
    "applicationName": {
      "default": "",
      "description": "Application name.",
      "type": "string"
    },
    "backendStart": {
      "$ref": "google.protobuf.Timestamp.jsonschema.json",
      "description": "When the backend process started."
    },
    "blockedByPids": {
      "description": "PIDs of sessions blocking this session.",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "clientAddr": {
      "description": "Client IP address.",
      "type": "string"
    },
    "clientPort": {
      "description": "Client port number.",
      "type": "string"
    },
    "datname": {
      "description": "Database name.",
      "type": "string"
    },
    "pid": {
      "default": "",
      "description": "Process ID of the session.",
      "type": "string"
    },
    "query": {
      "default": "",
      "description": "Current query being executed.",
      "type": "string"
    },
    "queryStart": {
      "$ref": "google.protobuf.Timestamp.jsonschema.json",
      "description": "When the current query started."
    },
    "state": {
      "description": "Session state (active, idle, etc.).",
      "type": "string"
    },
    "usename": {
      "description": "User name.",
      "type": "string"
    },
    "waitEvent": {
      "description": "Specific wait event if session is waiting.",
      "type": "string"
    },
    "waitEventType": {
      "description": "Wait event type if session is waiting.",
      "type": "string"
    },
    "xactStart": {
      "$ref": "google.protobuf.Timestamp.jsonschema.json",
      "description": "When the current transaction started."
    }
  },
  "title": "Session",
  "type": "object"
}
