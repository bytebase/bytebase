{
  "$defs": {
    "bytebase.v1.AISetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(api_key)$": {
          "default": "",
          "type": "string"
        }
      },
      "properties": {
        "apiKey": {
          "default": "",
          "type": "string"
        },
        "enabled": {
          "default": false,
          "type": "boolean"
        },
        "endpoint": {
          "default": "",
          "type": "string"
        },
        "model": {
          "default": "",
          "type": "string"
        },
        "provider": {
          "anyOf": [
            {
              "pattern": "^PROVIDER_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "OPEN_AI",
                "CLAUDE",
                "GEMINI",
                "AZURE_OPENAI"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "title": "Provider"
        },
        "version": {
          "default": "",
          "type": "string"
        }
      },
      "title": "AI Setting",
      "type": "object"
    },
    "bytebase.v1.Algorithm.FullMask.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "substitution": {
          "default": "",
          "description": "substitution is the string used to replace the original value, the\n max length of the string is 16 bytes.",
          "type": "string"
        }
      },
      "title": "Full Mask",
      "type": "object"
    },
    "bytebase.v1.Algorithm.InnerOuterMask.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(prefix_len)$": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0
        },
        "^(suffix_len)$": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0
        }
      },
      "properties": {
        "prefixLen": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0
        },
        "substitution": {
          "default": "",
          "type": "string"
        },
        "suffixLen": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0
        },
        "type": {
          "anyOf": [
            {
              "pattern": "^MASK_TYPE_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "INNER",
                "OUTER"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "title": "Mask Type"
        }
      },
      "title": "Inner Outer Mask",
      "type": "object"
    },
    "bytebase.v1.Algorithm.MD5Mask.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "salt": {
          "default": "",
          "description": "salt is the salt value to generate a different hash that with the word alone.",
          "type": "string"
        }
      },
      "title": "M D5 Mask",
      "type": "object"
    },
    "bytebase.v1.Algorithm.RangeMask.Slice.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "end": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0,
          "description": "stop is the stop index of the original value, should be less than the length of the original value."
        },
        "start": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0,
          "description": "start is the start index of the original value, start from 0 and should be less than stop."
        },
        "substitution": {
          "default": "",
          "description": "substitution is the string used to replace the OriginalValue[start:end).",
          "type": "string"
        }
      },
      "title": "Slice",
      "type": "object"
    },
    "bytebase.v1.Algorithm.RangeMask.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "slices": {
          "description": "We store it as a repeated field to face the fact that the original value may have multiple parts should be masked.\n But frontend can be started with a single rule easily.",
          "items": {
            "$ref": "#/$defs/bytebase.v1.Algorithm.RangeMask.Slice.jsonschema.json"
          },
          "type": "array"
        }
      },
      "title": "Range Mask",
      "type": "object"
    },
    "bytebase.v1.Algorithm.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(full_mask)$": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.FullMask.jsonschema.json"
        },
        "^(inner_outer_mask)$": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.InnerOuterMask.jsonschema.json"
        },
        "^(md5_mask)$": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.MD5Mask.jsonschema.json"
        },
        "^(range_mask)$": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.RangeMask.jsonschema.json"
        }
      },
      "properties": {
        "fullMask": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.FullMask.jsonschema.json"
        },
        "innerOuterMask": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.InnerOuterMask.jsonschema.json"
        },
        "md5Mask": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.MD5Mask.jsonschema.json"
        },
        "rangeMask": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.RangeMask.jsonschema.json"
        }
      },
      "title": "Algorithm",
      "type": "object"
    },
    "bytebase.v1.Announcement.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "level": {
          "anyOf": [
            {
              "pattern": "^ALERT_LEVEL_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "INFO",
                "WARNING",
                "CRITICAL"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "description": "The alert level of announcement",
          "title": "Alert Level"
        },
        "link": {
          "default": "",
          "description": "The optional link, user can follow the link to check extra details",
          "type": "string"
        },
        "text": {
          "default": "",
          "description": "The text of announcement",
          "type": "string"
        }
      },
      "title": "Announcement",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.DingTalk.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(client_id)$": {
          "default": "",
          "type": "string"
        },
        "^(client_secret)$": {
          "default": "",
          "type": "string"
        },
        "^(robot_code)$": {
          "default": "",
          "type": "string"
        }
      },
      "properties": {
        "clientId": {
          "default": "",
          "type": "string"
        },
        "clientSecret": {
          "default": "",
          "type": "string"
        },
        "robotCode": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Ding Talk",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.Feishu.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(app_id)$": {
          "default": "",
          "type": "string"
        },
        "^(app_secret)$": {
          "default": "",
          "type": "string"
        }
      },
      "properties": {
        "appId": {
          "default": "",
          "type": "string"
        },
        "appSecret": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Feishu",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.IMSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "dingtalk": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.DingTalk.jsonschema.json"
        },
        "feishu": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.Feishu.jsonschema.json"
        },
        "lark": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.Lark.jsonschema.json"
        },
        "slack": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.Slack.jsonschema.json"
        },
        "teams": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.Teams.jsonschema.json"
        },
        "type": {
          "anyOf": [
            {
              "pattern": "^TYPE_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "SLACK",
                "DISCORD",
                "TEAMS",
                "DINGTALK",
                "FEISHU",
                "WECOM",
                "LARK"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "title": "Type"
        },
        "wecom": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.Wecom.jsonschema.json"
        }
      },
      "title": "IM Setting",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.Lark.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(app_id)$": {
          "default": "",
          "type": "string"
        },
        "^(app_secret)$": {
          "default": "",
          "type": "string"
        }
      },
      "properties": {
        "appId": {
          "default": "",
          "type": "string"
        },
        "appSecret": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Lark",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.Slack.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "token": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Slack",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.Teams.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(client_id)$": {
          "default": "",
          "description": "Azure AD application (client) ID.",
          "type": "string"
        },
        "^(client_secret)$": {
          "default": "",
          "description": "Azure AD client secret.",
          "type": "string"
        },
        "^(tenant_id)$": {
          "default": "",
          "description": "Azure AD tenant ID (Directory ID).",
          "type": "string"
        }
      },
      "properties": {
        "clientId": {
          "default": "",
          "description": "Azure AD application (client) ID.",
          "type": "string"
        },
        "clientSecret": {
          "default": "",
          "description": "Azure AD client secret.",
          "type": "string"
        },
        "tenantId": {
          "default": "",
          "description": "Azure AD tenant ID (Directory ID).",
          "type": "string"
        }
      },
      "title": "Teams",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.Wecom.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(agent_id)$": {
          "default": "",
          "type": "string"
        },
        "^(corp_id)$": {
          "default": "",
          "type": "string"
        }
      },
      "properties": {
        "agentId": {
          "default": "",
          "type": "string"
        },
        "corpId": {
          "default": "",
          "type": "string"
        },
        "secret": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Wecom",
      "type": "object"
    },
    "bytebase.v1.AppIMSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "settings": {
          "items": {
            "$ref": "#/$defs/bytebase.v1.AppIMSetting.IMSetting.jsonschema.json"
          },
          "type": "array"
        }
      },
      "title": "AppIM Setting",
      "type": "object"
    },
    "bytebase.v1.ApprovalFlow.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "roles": {
          "description": "The roles required for approval in order.",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "title": "Approval Flow",
      "type": "object"
    },
    "bytebase.v1.ApprovalTemplate.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "description": {
          "default": "",
          "description": "The description of the approval template.",
          "type": "string"
        },
        "flow": {
          "$ref": "#/$defs/bytebase.v1.ApprovalFlow.jsonschema.json",
          "description": "The approval flow definition."
        },
        "title": {
          "default": "",
          "description": "The title of the approval template.",
          "type": "string"
        }
      },
      "title": "Approval Template",
      "type": "object"
    },
    "bytebase.v1.DataClassificationSetting.DataClassificationConfig.DataClassification.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(level_id)$": {
          "type": "string"
        }
      },
      "properties": {
        "description": {
          "default": "",
          "type": "string"
        },
        "id": {
          "default": "",
          "description": "id is the classification id in [0-9]+-[0-9]+-[0-9]+ format.",
          "type": "string"
        },
        "levelId": {
          "type": "string"
        },
        "title": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Data Classification",
      "type": "object"
    },
    "bytebase.v1.DataClassificationSetting.DataClassificationConfig.Level.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "description": {
          "default": "",
          "type": "string"
        },
        "id": {
          "default": "",
          "type": "string"
        },
        "title": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Level",
      "type": "object"
    },
    "bytebase.v1.DataClassificationSetting.DataClassificationConfig.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "classification": {
          "additionalProperties": {
            "$ref": "#/$defs/bytebase.v1.DataClassificationSetting.DataClassificationConfig.DataClassification.jsonschema.json"
          },
          "description": "classification is the id - DataClassification map.\n The id should in [0-9]+-[0-9]+-[0-9]+ format.",
          "propertyNames": {
            "type": "string"
          },
          "type": "object"
        },
        "id": {
          "default": "",
          "description": "id is the uuid for classification. Each project can chose one classification config.",
          "type": "string"
        },
        "levels": {
          "description": "levels is user defined level list for classification.\n The order for the level decides its priority.",
          "items": {
            "$ref": "#/$defs/bytebase.v1.DataClassificationSetting.DataClassificationConfig.Level.jsonschema.json"
          },
          "type": "array"
        },
        "title": {
          "default": "",
          "type": "string"
        }
      },
      "title": "Data Classification Config",
      "type": "object"
    },
    "bytebase.v1.DataClassificationSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "configs": {
          "items": {
            "$ref": "#/$defs/bytebase.v1.DataClassificationSetting.DataClassificationConfig.jsonschema.json"
          },
          "type": "array"
        }
      },
      "title": "Data Classification Setting",
      "type": "object"
    },
    "bytebase.v1.EnvironmentSetting.Environment.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "color": {
          "default": "",
          "type": "string"
        },
        "id": {
          "default": "",
          "description": "The resource id of the environment.\n This value should be 4-63 characters, and valid characters\n are /[a-z][0-9]-/.",
          "type": "string"
        },
        "name": {
          "default": "",
          "description": "The resource name of the environment.\n Format: environments/{environment}.\n Output only.",
          "type": "string"
        },
        "tags": {
          "additionalProperties": {
            "type": "string"
          },
          "propertyNames": {
            "type": "string"
          },
          "type": "object"
        },
        "title": {
          "default": "",
          "description": "The display name of the environment.",
          "type": "string"
        }
      },
      "title": "Environment",
      "type": "object"
    },
    "bytebase.v1.EnvironmentSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "environments": {
          "items": {
            "$ref": "#/$defs/bytebase.v1.EnvironmentSetting.Environment.jsonschema.json"
          },
          "type": "array"
        }
      },
      "title": "Environment Setting",
      "type": "object"
    },
    "bytebase.v1.SemanticTypeSetting.SemanticType.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "algorithm": {
          "$ref": "#/$defs/bytebase.v1.Algorithm.jsonschema.json"
        },
        "description": {
          "default": "",
          "description": "the description of the semantic type, it can be empty.",
          "type": "string"
        },
        "icon": {
          "default": "",
          "description": "icon is the icon for semantic type, it can be emoji or base64 encoded image.",
          "type": "string"
        },
        "id": {
          "default": "",
          "description": "id is the uuid for semantic type.",
          "type": "string"
        },
        "title": {
          "default": "",
          "description": "the title of the semantic type, it should not be empty.",
          "type": "string"
        }
      },
      "title": "Semantic Type",
      "type": "object"
    },
    "bytebase.v1.SemanticTypeSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "types": {
          "items": {
            "$ref": "#/$defs/bytebase.v1.SemanticTypeSetting.SemanticType.jsonschema.json"
          },
          "type": "array"
        }
      },
      "title": "Semantic Type Setting",
      "type": "object"
    },
    "bytebase.v1.Setting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "description": "The schema of setting.",
      "properties": {
        "name": {
          "default": "",
          "description": "The resource name of the setting.\n Format: settings/{setting}\n Example: \"settings/SEMANTIC_TYPES\"",
          "type": "string"
        },
        "value": {
          "$ref": "#/$defs/bytebase.v1.SettingValue.jsonschema.json",
          "description": "The configuration value of the setting."
        }
      },
      "title": "Setting",
      "type": "object"
    },
    "bytebase.v1.SettingValue.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "description": "The data in setting value.",
      "patternProperties": {
        "^(app_im)$": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.jsonschema.json"
        },
        "^(data_classification)$": {
          "$ref": "#/$defs/bytebase.v1.DataClassificationSetting.jsonschema.json"
        },
        "^(semantic_type)$": {
          "$ref": "#/$defs/bytebase.v1.SemanticTypeSetting.jsonschema.json"
        },
        "^(workspace_approval)$": {
          "$ref": "#/$defs/bytebase.v1.WorkspaceApprovalSetting.jsonschema.json"
        },
        "^(workspace_profile)$": {
          "$ref": "#/$defs/bytebase.v1.WorkspaceProfileSetting.jsonschema.json"
        }
      },
      "properties": {
        "ai": {
          "$ref": "#/$defs/bytebase.v1.AISetting.jsonschema.json"
        },
        "appIm": {
          "$ref": "#/$defs/bytebase.v1.AppIMSetting.jsonschema.json"
        },
        "dataClassification": {
          "$ref": "#/$defs/bytebase.v1.DataClassificationSetting.jsonschema.json"
        },
        "environment": {
          "$ref": "#/$defs/bytebase.v1.EnvironmentSetting.jsonschema.json"
        },
        "semanticType": {
          "$ref": "#/$defs/bytebase.v1.SemanticTypeSetting.jsonschema.json"
        },
        "workspaceApproval": {
          "$ref": "#/$defs/bytebase.v1.WorkspaceApprovalSetting.jsonschema.json"
        },
        "workspaceProfile": {
          "$ref": "#/$defs/bytebase.v1.WorkspaceProfileSetting.jsonschema.json"
        }
      },
      "title": "Setting Value",
      "type": "object"
    },
    "bytebase.v1.WorkspaceApprovalSetting.Rule.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "condition": {
          "$ref": "#/$defs/google.type.Expr.jsonschema.json",
          "description": "The `source` field filters which rules apply. The `condition` field then evaluates with full context.\n\n All supported variables:\n statement.affected_rows: affected row count in the DDL/DML, support \"==\", \"!=\", \"\u003c\", \"\u003c=\", \"\u003e\", \"\u003e=\" operations.\n statement.table_rows: table row count number, support \"==\", \"!=\", \"\u003c\", \"\u003c=\", \"\u003e\", \"\u003e=\" operations.\n resource.environment_id: the environment resource id, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\" operations.\n resource.project_id: the project resource id, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\", \"contains()\", \"matches()\", \"startsWith()\", \"endsWith()\" operations.\n resource.db_engine: the database engine type, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\" operations. Check the Engine enum for values.\n statement.sql_type: the SQL type, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\" operations.\n resource.database_name: the database name, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\", \"contains()\", \"matches()\", \"startsWith()\", \"endsWith()\" operations.\n resource.schema_name: the schema name, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\", \"contains()\", \"matches()\", \"startsWith()\", \"endsWith()\" operations.\n resource.table_name: the table name, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\", \"contains()\", \"matches()\", \"startsWith()\", \"endsWith()\" operations.\n statement.text: the SQL statement, support \"contains()\", \"matches()\", \"startsWith()\", \"endsWith()\" operations.\n request.expiration_days: the role expiration days for the request, support \"==\", \"!=\", \"\u003c\", \"\u003c=\", \"\u003e\", \"\u003e=\" operations.\n request.role: the request role full name, support \"==\", \"!=\", \"in [xx]\", \"!(in [xx])\", \"contains()\", \"matches()\", \"startsWith()\", \"endsWith()\" operations.\n\n When source is CHANGE_DATABASE, support: statement.*, resource.* (excluding request.*)\n When source is CREATE_DATABASE, support: resource.environment_id, resource.project_id, resource.db_engine, resource.database_name\n When source is EXPORT_DATA, support: resource.environment_id, resource.project_id, resource.db_engine, resource.database_name, resource.schema_name, resource.table_name\n When source is REQUEST_ROLE, support: resource.project_id, request.expiration_days, request.role\n\n For examples:\n resource.environment_id == \"prod\" \u0026\u0026 statement.affected_rows \u003e= 100\n resource.table_name.matches(\"sensitive_.*\") \u0026\u0026 resource.db_engine == \"MYSQL\"",
          "title": "The condition that is associated with the rule.\n The syntax and semantics of CEL are documented at https://github.com/google/cel-spec"
        },
        "source": {
          "anyOf": [
            {
              "pattern": "^SOURCE_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "CHANGE_DATABASE",
                "CREATE_DATABASE",
                "EXPORT_DATA",
                "REQUEST_ROLE"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "title": "Source"
        },
        "template": {
          "$ref": "#/$defs/bytebase.v1.ApprovalTemplate.jsonschema.json"
        }
      },
      "title": "Rule",
      "type": "object"
    },
    "bytebase.v1.WorkspaceApprovalSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "properties": {
        "rules": {
          "items": {
            "$ref": "#/$defs/bytebase.v1.WorkspaceApprovalSetting.Rule.jsonschema.json"
          },
          "type": "array"
        }
      },
      "title": "Workspace Approval Setting",
      "type": "object"
    },
    "bytebase.v1.WorkspaceProfileSetting.PasswordRestriction.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(min_length)$": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0,
          "description": "min_length is the minimum length for password, should no less than 8."
        },
        "^(password_rotation)$": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "password_rotation requires users to reset their password after the duration."
        },
        "^(require_letter)$": {
          "default": false,
          "description": "require_letter requires the password must contains at least one letter, regardless of upper case or lower case",
          "type": "boolean"
        },
        "^(require_number)$": {
          "default": false,
          "description": "require_number requires the password must contains at least one number.",
          "type": "boolean"
        },
        "^(require_reset_password_for_first_login)$": {
          "default": false,
          "description": "require_reset_password_for_first_login requires users to reset their password after the 1st login.",
          "type": "boolean"
        },
        "^(require_special_character)$": {
          "default": false,
          "description": "require_special_character requires the password must contains at least one special character.",
          "type": "boolean"
        },
        "^(require_uppercase_letter)$": {
          "default": false,
          "description": "require_uppercase_letter requires the password must contains at least one upper case letter.",
          "type": "boolean"
        }
      },
      "properties": {
        "minLength": {
          "anyOf": [
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            },
            {
              "pattern": "^-?[0-9]+$",
              "type": "string"
            }
          ],
          "default": 0,
          "description": "min_length is the minimum length for password, should no less than 8."
        },
        "passwordRotation": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "password_rotation requires users to reset their password after the duration."
        },
        "requireLetter": {
          "default": false,
          "description": "require_letter requires the password must contains at least one letter, regardless of upper case or lower case",
          "type": "boolean"
        },
        "requireNumber": {
          "default": false,
          "description": "require_number requires the password must contains at least one number.",
          "type": "boolean"
        },
        "requireResetPasswordForFirstLogin": {
          "default": false,
          "description": "require_reset_password_for_first_login requires users to reset their password after the 1st login.",
          "type": "boolean"
        },
        "requireSpecialCharacter": {
          "default": false,
          "description": "require_special_character requires the password must contains at least one special character.",
          "type": "boolean"
        },
        "requireUppercaseLetter": {
          "default": false,
          "description": "require_uppercase_letter requires the password must contains at least one upper case letter.",
          "type": "boolean"
        }
      },
      "title": "Password Restriction",
      "type": "object"
    },
    "bytebase.v1.WorkspaceProfileSetting.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "patternProperties": {
        "^(branding_logo)$": {
          "default": "",
          "description": "The branding logo as a data URI (e.g. data:image/png;base64,...).",
          "type": "string"
        },
        "^(database_change_mode)$": {
          "anyOf": [
            {
              "pattern": "^DATABASE_CHANGE_MODE_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "PIPELINE",
                "EDITOR"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "description": "The workspace database change mode.",
          "title": "Database Change Mode"
        },
        "^(directory_sync_token)$": {
          "default": "",
          "description": "The token for directory sync authentication.",
          "type": "string"
        },
        "^(disallow_password_signin)$": {
          "default": false,
          "description": "Whether to disallow password signin. (Except workspace admins)",
          "type": "boolean"
        },
        "^(disallow_signup)$": {
          "default": false,
          "description": "Disallow self-service signup, users can only be invited by the owner.",
          "type": "boolean"
        },
        "^(enable_audit_log_stdout)$": {
          "default": false,
          "description": "Whether to enable audit logging to stdout in structured JSON format.\n Requires TEAM or ENTERPRISE license.",
          "type": "boolean"
        },
        "^(enable_metric_collection)$": {
          "default": false,
          "description": "Whether to enable metric collection for the workspace.",
          "type": "boolean"
        },
        "^(enforce_identity_domain)$": {
          "default": false,
          "description": "Only user and group from the domains can be created and login.",
          "type": "boolean"
        },
        "^(external_url)$": {
          "default": "",
          "description": "The external URL is used for sso authentication callback.",
          "type": "string"
        },
        "^(inactive_session_timeout)$": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "The session expiration time if not activity detected for the user. Value \u003c= 0 means no limit."
        },
        "^(maximum_role_expiration)$": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "The max duration for role expired."
        },
        "^(password_restriction)$": {
          "$ref": "#/$defs/bytebase.v1.WorkspaceProfileSetting.PasswordRestriction.jsonschema.json",
          "description": "Password restriction settings."
        },
        "^(require_2fa)$": {
          "default": false,
          "description": "Require 2FA for all users.",
          "type": "boolean"
        },
        "^(token_duration)$": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "The duration for token."
        }
      },
      "properties": {
        "announcement": {
          "$ref": "#/$defs/bytebase.v1.Announcement.jsonschema.json",
          "description": "The setting of custom announcement"
        },
        "brandingLogo": {
          "default": "",
          "description": "The branding logo as a data URI (e.g. data:image/png;base64,...).",
          "type": "string"
        },
        "databaseChangeMode": {
          "anyOf": [
            {
              "pattern": "^DATABASE_CHANGE_MODE_UNSPECIFIED$",
              "type": "string"
            },
            {
              "enum": [
                "PIPELINE",
                "EDITOR"
              ],
              "type": "string"
            },
            {
              "maximum": 2147483647,
              "minimum": -2147483648,
              "type": "integer"
            }
          ],
          "default": 0,
          "description": "The workspace database change mode.",
          "title": "Database Change Mode"
        },
        "directorySyncToken": {
          "default": "",
          "description": "The token for directory sync authentication.",
          "type": "string"
        },
        "disallowPasswordSignin": {
          "default": false,
          "description": "Whether to disallow password signin. (Except workspace admins)",
          "type": "boolean"
        },
        "disallowSignup": {
          "default": false,
          "description": "Disallow self-service signup, users can only be invited by the owner.",
          "type": "boolean"
        },
        "domains": {
          "description": "The workspace domain, e.g., bytebase.com.",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "enableAuditLogStdout": {
          "default": false,
          "description": "Whether to enable audit logging to stdout in structured JSON format.\n Requires TEAM or ENTERPRISE license.",
          "type": "boolean"
        },
        "enableMetricCollection": {
          "default": false,
          "description": "Whether to enable metric collection for the workspace.",
          "type": "boolean"
        },
        "enforceIdentityDomain": {
          "default": false,
          "description": "Only user and group from the domains can be created and login.",
          "type": "boolean"
        },
        "externalUrl": {
          "default": "",
          "description": "The external URL is used for sso authentication callback.",
          "type": "string"
        },
        "inactiveSessionTimeout": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "The session expiration time if not activity detected for the user. Value \u003c= 0 means no limit."
        },
        "maximumRoleExpiration": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "The max duration for role expired."
        },
        "passwordRestriction": {
          "$ref": "#/$defs/bytebase.v1.WorkspaceProfileSetting.PasswordRestriction.jsonschema.json",
          "description": "Password restriction settings."
        },
        "require2fa": {
          "default": false,
          "description": "Require 2FA for all users.",
          "type": "boolean"
        },
        "tokenDuration": {
          "$ref": "#/$defs/google.protobuf.Duration.jsonschema.json",
          "description": "The duration for token."
        },
        "watermark": {
          "default": false,
          "description": "Whether to display watermark on pages.\n Requires ENTERPRISE license.",
          "type": "boolean"
        }
      },
      "title": "Workspace Profile Setting",
      "type": "object"
    },
    "google.protobuf.Duration.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "format": "duration",
      "title": "Duration",
      "type": "string"
    },
    "google.type.Expr.jsonschema.json": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "additionalProperties": false,
      "description": "Example (Comparison):\n\n     title: \"Summary size limit\"\n     description: \"Determines if a summary is less than 100 chars\"\n     expression: \"document.summary.size() \u003c 100\"\n\n Example (Equality):\n\n     title: \"Requestor is owner\"\n     description: \"Determines if requestor is the document owner\"\n     expression: \"document.owner == request.auth.claims.email\"\n\n Example (Logic):\n\n     title: \"Public documents\"\n     description: \"Determine whether the document should be publicly visible\"\n     expression: \"document.type != 'private' \u0026\u0026 document.type != 'internal'\"\n\n Example (Data Manipulation):\n\n     title: \"Notification string\"\n     description: \"Create a notification string with a timestamp.\"\n     expression: \"'New message received at ' + string(document.create_time)\"\n\n The exact variables and functions that may be referenced within an expression\n are determined by the service that evaluates it. See the service\n documentation for additional information.",
      "properties": {
        "description": {
          "default": "",
          "description": "Optional. Description of the expression. This is a longer text which\n describes the expression, e.g. when hovered over it in a UI.",
          "type": "string"
        },
        "expression": {
          "default": "",
          "description": "Textual representation of an expression in Common Expression Language\n syntax.",
          "type": "string"
        },
        "location": {
          "default": "",
          "description": "Optional. String indicating the location of the expression for error\n reporting, e.g. a file name and a position in the file.",
          "type": "string"
        },
        "title": {
          "default": "",
          "description": "Optional. Title for the expression, i.e. a short string describing\n its purpose. This can be used e.g. in UIs which allow to enter the\n expression.",
          "type": "string"
        }
      },
      "title": "Represents a textual expression in the Common Expression Language (CEL)\n syntax. CEL is a C-like expression language. The syntax and semantics of CEL\n are documented at https://github.com/google/cel-spec.",
      "type": "object"
    }
  },
  "$id": "bytebase.v1.Setting.jsonschema.bundle.json",
  "$ref": "#/$defs/bytebase.v1.Setting.jsonschema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema"
}
