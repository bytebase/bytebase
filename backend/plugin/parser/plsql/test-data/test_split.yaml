- description: "multiple SELECT statements"
  input: "SELECT * FROM t1; SELECT * FROM t2"
  result:
    - text: "SELECT * FROM t1"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 1, column: 17}
      range: {start: 0, end: 16}
      empty: false
    - text: "SELECT * FROM t2"
      baseline: 0
      start: {line: 1, column: 19}
      end: {line: 1, column: 35}
      range: {start: 18, end: 34}
      empty: false

- description: "multiple statements with newlines"
  input: "\n\t\t\t\tselect * from t;\n\t\t\t\tcreate table table$1 (id int)\n\t\t\t"
  result:
    - text: "select * from t"
      baseline: 1
      start: {line: 2, column: 5}
      end: {line: 2, column: 20}
      range: {start: 5, end: 20}
      empty: false
    - text: "create table table$1 (id int)"
      baseline: 2
      start: {line: 3, column: 5}
      end: {line: 3, column: 34}
      range: {start: 26, end: 56}
      empty: false

- description: "procedure with forward slash separator"
  input: "CREATE OR REPLACE PROCEDURE test_proc IS\nBEGIN\n    CALL DBMS_OUTPUT.PUT_LINE('Hello');\nEND;\n/"
  result:
    - text: "CREATE OR REPLACE PROCEDURE test_proc IS\nBEGIN\n    CALL DBMS_OUTPUT.PUT_LINE('Hello');\nEND;"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 4, column: 5}
      range: {start: 0, end: 91}
      empty: false

- description: "two procedures with forward slash separator"
  input: "CREATE OR REPLACE PROCEDURE proc1 IS\nBEGIN\n    NULL;\nEND;\n/\nCREATE OR REPLACE PROCEDURE proc2 IS\nBEGIN\n    NULL;\nEND;\n/"
  result:
    - text: "CREATE OR REPLACE PROCEDURE proc1 IS\nBEGIN\n    NULL;\nEND;"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 4, column: 5}
      range: {start: 0, end: 57}
      empty: false
    - text: "CREATE OR REPLACE PROCEDURE proc2 IS\nBEGIN\n    NULL;\nEND;"
      baseline: 5
      start: {line: 6, column: 1}
      end: {line: 9, column: 5}
      range: {start: 60, end: 117}
      empty: false

- description: "SELECT statements separated by forward slash"
  input: "SELECT * FROM t1;\n/\nSELECT * FROM t2;"
  result:
    - text: "SELECT * FROM t1"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 1, column: 17}
      range: {start: 0, end: 16}
      empty: false
    - text: "SELECT * FROM t2"
      baseline: 2
      start: {line: 3, column: 1}
      end: {line: 3, column: 17}
      range: {start: 20, end: 36}
      empty: false

- description: "anonymous block with forward slash"
  input: "BEGIN\n    CALL DBMS_OUTPUT.PUT_LINE('Test');\nEND;\n/"
  result:
    - text: "BEGIN\n    CALL DBMS_OUTPUT.PUT_LINE('Test');\nEND;"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 3, column: 5}
      range: {start: 0, end: 49}
      empty: false

- description: "ALTER TABLE with PARTITION"
  input: "ALTER TABLE DATA.TEST\nMODIFY PARTITION BY RANGE (TXN_DATE)\nINTERVAL (NUMTODSINTERVAL(1, 'DAY'))\n(\n\tPARTITION TEST_PO VALUES LESS THAN (\n\t\tTO_DATE('2000-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN')\n\t)\n)\nONLINE;"
  result:
    - text: "ALTER TABLE DATA.TEST\nMODIFY PARTITION BY RANGE (TXN_DATE)\nINTERVAL (NUMTODSINTERVAL(1, 'DAY'))\n(\n\tPARTITION TEST_PO VALUES LESS THAN (\n\t\tTO_DATE('2000-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN')\n\t)\n)\nONLINE"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 9, column: 7}
      range: {start: 0, end: 233}
      empty: false

- description: "CALL procedure"
  input: "CALL my_procedure()"
  result:
    - text: "CALL my_procedure()"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 1, column: 20}
      range: {start: 0, end: 19}
      empty: false

- description: "DROP TABLESPACE with CASCADE CONSTRAINTS"
  input: "DROP TABLESPACE xxx INCLUDING CONTENTS CASCADE CONSTRAINTS"
  result:
    - text: "DROP TABLESPACE xxx INCLUDING CONTENTS CASCADE CONSTRAINTS"
      baseline: 0
      start: {line: 1, column: 1}
      end: {line: 1, column: 59}
      range: {start: 0, end: 58}
      empty: false

- description: "DROP TABLESPACE CASCADE alone should error"
  input: "DROP TABLESPACE xxx CASCADE"
  error: "Syntax error at line 1:28 \nrelated text: DROP TABLESPACE xxx CASCADE;"

- description: "DROP TABLESPACE then CASCADE should error"
  input: "DROP TABLESPACE xxx; CASCADE"
  error: "Syntax error at line 1:29 \nrelated text: DROP TABLESPACE xxx; CASCADE;"
