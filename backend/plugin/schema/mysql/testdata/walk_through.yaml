- statement: 'CREATE TABLE `test`.`t1` (a INT);

    CREATE TABLE `other`.`t1` (a INT);

    RENAME TABLE `other`.`t1` TO `other`.`t2`;'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 702
    title: Database `other` is not the current database `test`
    content: Database `other` is not the current database `test`
    startPosition:
      line: 2
- statement: 'CREATE TABLE `test`.`t1` (a INT);

    RENAME TABLE `test`.`t1` TO `other`.`t1`;'
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {}\n  ]\n}"
  advice: null
- statement: 'CREATE TABLE t1(a INT);

    CREATE TABLE t2(a INT);

    RENAME TABLE t2 TO t1;'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 607
    title: Table `t1` already exists
    content: Table `t1` already exists
    startPosition:
      line: 3
- statement: 'CREATE TABLE t1(a INT);

    RENAME TABLE t2 TO t3;'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 604
    title: Table `t2` does not exist
    content: Table `t2` does not exist
    startPosition:
      line: 2
- statement: 'CREATE TABLE t1 (a INT);

    RENAME TABLE t1 TO t2;'
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t2\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"int\"\n            }\n\
    \          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: CREATE DATABASE another;
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 702
    title: Database `another` is not the current database `test`
    content: Database `another` is not the current database `test`
    startPosition:
      line: 1
- statement: '-- this is comment

    DROP DATABASE test;

    CREATE TABLE t(a int);'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 703
    title: Database `test` is deleted
    content: Database `test` is deleted
    startPosition:
      line: 1
- statement: 'ALTER DATABASE CHARACTER SET = utf8mb4;

    ALTER DATABASE test COLLATE utf8mb4_polish_ci;'
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {}\n  ],\n  \"characterSet\"\
    : \"utf8mb4\",\n  \"collation\": \"utf8mb4_polish_ci\"\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT PRIMARY KEY,\n  c VARCHAR(255) NOT NULL\n\
    );\nALTER TABLE t1 ADD INDEX idx1 (c);\nCREATE FULLTEXT INDEX ftk1 ON t1 (c);\n\
    DROP INDEX `PRIMARY` ON t1;\nDROP INDEX idx1 ON t1;\nDROP INDEX ftk1 ON t1;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"type\": \"int\"\n            },\n            {\n              \"name\"\
    : \"c\",\n              \"position\": 2,\n              \"type\": \"varchar\"\n\
    \            }\n          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT,\n  b INT,\n  c VARCHAR(255) NOT NULL,\n \
    \ d GEOMETRY NOT NULL\n);\nCREATE INDEX idx1 ON t1 (a) INVISIBLE;\nCREATE UNIQUE\
    \ INDEX uk1 ON t1 (b);\nCREATE FULLTEXT INDEX ftk1 ON t1 (c);\nCREATE SPATIAL\
    \ INDEX sk1 ON t1 (d);"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"int\"\n            },\n\
    \            {\n              \"name\": \"b\",\n              \"position\": 2,\n\
    \              \"nullable\": true,\n              \"type\": \"int\"\n        \
    \    },\n            {\n              \"name\": \"c\",\n              \"position\"\
    : 3,\n              \"type\": \"varchar\"\n            },\n            {\n   \
    \           \"name\": \"d\",\n              \"position\": 4,\n              \"\
    type\": \"geometry\"\n            }\n          ],\n          \"indexes\": [\n\
    \            {\n              \"name\": \"ftk1\",\n              \"expressions\"\
    : [\n                \"c\"\n              ],\n              \"type\": \"FULLTEXT\"\
    ,\n              \"visible\": true\n            },\n            {\n          \
    \    \"name\": \"idx1\",\n              \"expressions\": [\n                \"\
    a\"\n              ],\n              \"type\": \"BTREE\"\n            },\n   \
    \         {\n              \"name\": \"sk1\",\n              \"expressions\":\
    \ [\n                \"d\"\n              ],\n              \"type\": \"SPATIAL\"\
    ,\n              \"visible\": true\n            },\n            {\n          \
    \    \"name\": \"uk1\",\n              \"expressions\": [\n                \"\
    b\"\n              ],\n              \"type\": \"BTREE\",\n              \"unique\"\
    : true,\n              \"visible\": true\n            }\n          ]\n       \
    \ }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: 'CREATE TABLE t1(a GEOMETRY);

    CREATE SPATIAL INDEX sk1 ON t1 (a);'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 811
    title: All parts of a SPATIAL index must be NOT NULL, but `a` is nullable
    content: All parts of a SPATIAL index must be NOT NULL, but `a` is nullable
    startPosition:
      line: 2
- statement: "CREATE TABLE t1(\n  a INT PRIMARY KEY,\n  b INT,\n  UNIQUE uk1 (b)\n\
    );\nALTER TABLE t1 ENGINE = MyISAM;\nALTER TABLE t1 COMMENT = 't1 table';\nALTER\
    \ TABLE t1 COLLATE utf8mb4_unicode_ci;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"type\": \"int\"\n            },\n            {\n              \"name\"\
    : \"b\",\n              \"position\": 2,\n              \"nullable\": true,\n\
    \              \"type\": \"int\"\n            }\n          ],\n          \"indexes\"\
    : [\n            {\n              \"name\": \"PRIMARY\",\n              \"expressions\"\
    : [\n                \"a\"\n              ],\n              \"type\": \"BTREE\"\
    ,\n              \"unique\": true,\n              \"primary\": true,\n       \
    \       \"visible\": true\n            },\n            {\n              \"name\"\
    : \"uk1\",\n              \"expressions\": [\n                \"b\"\n        \
    \      ],\n              \"type\": \"BTREE\",\n              \"unique\": true,\n\
    \              \"visible\": true\n            }\n          ],\n          \"engine\"\
    : \"MyISAM\",\n          \"collation\": \"utf8mb4_unicode_ci\",\n          \"\
    comment\": \"t1 table\"\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT PRIMARY KEY,\n  b INT,\n  UNIQUE uk1 (b)\n\
    );\nALTER TABLE t1 DROP PRIMARY KEY;\nALTER TABLE t1 DROP INDEX uk1;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"type\": \"int\"\n            },\n            {\n              \"name\"\
    : \"b\",\n              \"position\": 2,\n              \"nullable\": true,\n\
    \              \"type\": \"int\"\n            }\n          ]\n        }\n    \
    \  ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT,\n  b INT,\n  UNIQUE uk1 (b)\n);\nALTER TABLE\
    \ t1 RENAME INDEX uk1 TO uk_b;\nALTER TABLE t1 ADD INDEX idx1 (b);\nALTER TABLE\
    \ t1 RENAME INDEX idx1 TO idx2;\nALTER TABLE t1 ALTER INDEX idx2 INVISIBLE;\n\
    ALTER TABLE t1 RENAME TO t2;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t2\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"int\"\n            },\n\
    \            {\n              \"name\": \"b\",\n              \"position\": 2,\n\
    \              \"nullable\": true,\n              \"type\": \"int\"\n        \
    \    }\n          ],\n          \"indexes\": [\n            {\n              \"\
    name\": \"idx2\",\n              \"expressions\": [\n                \"b\"\n \
    \             ],\n              \"type\": \"BTREE\"\n            },\n        \
    \    {\n              \"name\": \"uk_b\",\n              \"expressions\": [\n\
    \                \"b\"\n              ],\n              \"type\": \"BTREE\",\n\
    \              \"unique\": true,\n              \"visible\": true\n          \
    \  }\n          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: 'CREATE TABLE t1(a INT NOT NULL);

    ALTER TABLE t1 ALTER COLUMN a SET DEFAULT NULL;'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 428
    title: Invalid default value for column `a`
    content: Invalid default value for column `a`
    startPosition:
      line: 2
- statement: 'CREATE TABLE t1(a INT);

    ALTER TABLE t1 CHANGE COLUMN a a BLOB;

    ALTER TABLE t1 ALTER COLUMN a SET DEFAULT ''default value'';'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 423
    title: BLOB, TEXT, GEOMETRY or JSON column `a` can't have a default value
    content: BLOB, TEXT, GEOMETRY or JSON column `a` can't have a default value
    startPosition:
      line: 3
- statement: 'CREATE TABLE t1(a INT);

    ALTER TABLE t1 CHANGE COLUMN a a BLOB;

    ALTER TABLE t1 ALTER COLUMN a SET DEFAULT NULL;'
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"blob\"\n            }\n\
    \          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT\n);\nALTER TABLE t1 ADD COLUMN b INT AFTER\
    \ a;\nALTER TABLE t1 ADD COLUMN c INT NOT NULL DEFAULT 1 AFTER a;\nALTER TABLE\
    \ t1 CHANGE COLUMN b d TEXT AFTER a;\nALTER TABLE t1 ALTER COLUMN a SET DEFAULT\
    \ 1;\nALTER TABLE t1 ALTER COLUMN a SET INVISIBLE;\nALTER TABLE t1 ALTER COLUMN\
    \ c DROP DEFAULT;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"default\": \"1\",\n              \"nullable\": true,\n             \
    \ \"type\": \"int\"\n            },\n            {\n              \"name\": \"\
    d\",\n              \"position\": 2,\n              \"nullable\": true,\n    \
    \          \"type\": \"text\"\n            },\n            {\n              \"\
    name\": \"c\",\n              \"position\": 3,\n              \"type\": \"int\"\
    \n            }\n          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT\n);\nALTER TABLE t1 ADD COLUMN b VARCHAR(255)\
    \ FIRST;\nALTER TABLE t1 ADD COLUMN (c INT, d BLOB);\nALTER TABLE t1 MODIFY COLUMN\
    \ b INT AFTER a;\nALTER TABLE t1 RENAME COLUMN b TO e;\nALTER TABLE t1 CHANGE\
    \ COLUMN d f TEXT AFTER e;\nALTER TABLE t1 DROP COLUMN a;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"e\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"int\"\n            },\n\
    \            {\n              \"name\": \"f\",\n              \"position\": 2,\n\
    \              \"nullable\": true,\n              \"type\": \"text\"\n       \
    \     },\n            {\n              \"name\": \"c\",\n              \"position\"\
    : 3,\n              \"nullable\": true,\n              \"type\": \"int\"\n   \
    \         }\n          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: 'CREATE TABLE t1(a INT);

    CREATE TABLE t2(a INT);

    DROP TABLE t1, t2;

    CREATE TABLE t3(a INT);'
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t3\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"int\"\n            }\n\
    \          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT AUTO_INCREMENT,\n  b INT AUTO_INCREMENT\n\
    );"
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 426
    title: There can be only one auto column for table `t1`
    content: There can be only one auto column for table `t1`
    startPosition:
      line: 1
- statement: CREATE TABLE tvx SELECT (x,z) FROM (VALUES ROW(1,3,5), ROW(2,4,6)) AS
    v(x,y,z);
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 2
    code: 205
    title: CREATE TABLE AS statement is used in "CREATE TABLE tvx SELECT (x,z) FROM
      (VALUES ROW(1,3,5), ROW(2,4,6)) AS v(x,y,z);"
    content: CREATE TABLE AS statement is used in "CREATE TABLE tvx SELECT (x,z) FROM
      (VALUES ROW(1,3,5), ROW(2,4,6)) AS v(x,y,z);"
    startPosition:
      line: 1
- statement: 'CREATE TABLE t1(a int);

    CREATE TABLE t2 (b INT) SELECT a FROM t1;'
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 2
    code: 205
    title: CREATE TABLE AS statement is used in "CREATE TABLE t2 (b INT) SELECT a FROM
      t1;"
    content: CREATE TABLE AS statement is used in "CREATE TABLE t2 (b INT) SELECT a
      FROM t1;"
    startPosition:
      line: 2
- statement: "CREATE TABLE t1(\n  a int\n);\nCREATE TABLE t2 LIKE t1;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"nullable\": true,\n              \"type\": \"int\"\n            }\n\
    \          ]\n        },\n        {\n          \"name\": \"t2\",\n          \"\
    columns\": [\n            {\n              \"name\": \"a\",\n              \"\
    position\": 1,\n              \"nullable\": true,\n              \"type\": \"\
    int\"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT PRIMARY KEY,\n  b INT NOT NULL DEFAULT 1,\n\
    \  c INT,\n  d VARCHAR(255) NOT NULL,\n  e VARCHAR(255),\n  UNIQUE KEY uk1 (b,\
    \ c),\n  KEY idx1 (c),\n  FULLTEXT(d, e) WITH PARSER ngram INVISIBLE\n);"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"type\": \"int\"\n            },\n            {\n              \"name\"\
    : \"b\",\n              \"position\": 2,\n              \"default\": \"1\",\n\
    \              \"type\": \"int\"\n            },\n            {\n            \
    \  \"name\": \"c\",\n              \"position\": 3,\n              \"nullable\"\
    : true,\n              \"type\": \"int\"\n            },\n            {\n    \
    \          \"name\": \"d\",\n              \"position\": 4,\n              \"\
    type\": \"varchar\"\n            },\n            {\n              \"name\": \"\
    e\",\n              \"position\": 5,\n              \"nullable\": true,\n    \
    \          \"type\": \"varchar\"\n            }\n          ],\n          \"indexes\"\
    : [\n            {\n              \"name\": \"PRIMARY\",\n              \"expressions\"\
    : [\n                \"a\"\n              ],\n              \"type\": \"BTREE\"\
    ,\n              \"unique\": true,\n              \"primary\": true,\n       \
    \       \"visible\": true\n            },\n            {\n              \"name\"\
    : \"d\",\n              \"expressions\": [\n                \"d\",\n         \
    \       \"e\"\n              ],\n              \"type\": \"FULLTEXT\"\n      \
    \      },\n            {\n              \"name\": \"idx1\",\n              \"\
    expressions\": [\n                \"c\"\n              ],\n              \"type\"\
    : \"BTREE\",\n              \"visible\": true\n            },\n            {\n\
    \              \"name\": \"uk1\",\n              \"expressions\": [\n        \
    \        \"b\",\n                \"c\"\n              ],\n              \"type\"\
    : \"BTREE\",\n              \"unique\": true,\n              \"visible\": true\n\
    \            }\n          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  a INT NOT NULL DEFAULT NULL\n);"
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 428
    title: Invalid default value for column `a`
    content: Invalid default value for column `a`
    startPosition:
      line: 2
- statement: "CREATE TABLE t1(\n  a BLOB DEFAULT 'this is a default value'\n);"
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 423
    title: BLOB, TEXT, GEOMETRY or JSON column `a` can't have a default value
    content: BLOB, TEXT, GEOMETRY or JSON column `a` can't have a default value
    startPosition:
      line: 2
- statement: "CREATE TABLE t1(\n  a INT ON UPDATE NOW()\n);"
  ignore_case_sensitive: false
  want: ''
  advice:
    status: 1
    code: 427
    title: Column `a` use ON UPDATE but is not DATETIME or TIMESTAMP
    content: Column `a` use ON UPDATE but is not DATETIME or TIMESTAMP
    startPosition:
      line: 2
- statement: "CREATE TABLE t1(\n  a INT NOT NULL DEFAULT 1 PRIMARY KEY,\n  b INT UNIQUE,\n\
    \  c VARCHAR(255) NOT NULL DEFAULT 'NULL' COMMENT 'column c',\n  e INT NULL DEFAULT\
    \ NULL,\n  f VARCHAR(10) NOT NULL COLLATE utf8mb4_polish_ci,\n  g VARCHAR(200)\
    \ CHARACTER SET utf8mb4 NOT NULL\n);"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"a\",\n              \"position\": 1,\n       \
    \       \"default\": \"1\",\n              \"type\": \"int\"\n            },\n\
    \            {\n              \"name\": \"b\",\n              \"position\": 2,\n\
    \              \"nullable\": true,\n              \"type\": \"int\"\n        \
    \    },\n            {\n              \"name\": \"c\",\n              \"position\"\
    : 3,\n              \"default\": \"NULL\",\n              \"type\": \"varchar\"\
    ,\n              \"comment\": \"column c\"\n            },\n            {\n  \
    \            \"name\": \"e\",\n              \"position\": 4,\n              \"\
    nullable\": true,\n              \"type\": \"int\"\n            },\n         \
    \   {\n              \"name\": \"f\",\n              \"position\": 5,\n      \
    \        \"type\": \"varchar\",\n              \"collation\": \"utf8mb4_polish_ci\"\
    \n            },\n            {\n              \"name\": \"g\",\n            \
    \  \"position\": 6,\n              \"type\": \"varchar\",\n              \"characterSet\"\
    : \"utf8mb4\"\n            }\n          ],\n          \"indexes\": [\n       \
    \     {\n              \"name\": \"PRIMARY\",\n              \"expressions\":\
    \ [\n                \"a\"\n              ],\n              \"type\": \"BTREE\"\
    ,\n              \"unique\": true,\n              \"primary\": true,\n       \
    \       \"visible\": true\n            },\n            {\n              \"name\"\
    : \"b\",\n              \"expressions\": [\n                \"b\"\n          \
    \    ],\n              \"type\": \"BTREE\",\n              \"unique\": true,\n\
    \              \"visible\": true\n            }\n          ]\n        }\n    \
    \  ]\n    }\n  ]\n}"
  advice: null
- statement: "CREATE TABLE t1(\n  id int,\n  name varchar(255),\n  key idx_name(name)\n\
    );\ncreate table t2 (\n  id int,\n  t1_name varchar(255),\n  constraint fk_t1_name\
    \ foreign key (t1_name) references t1 (name)\n);\nalter table t2 drop foreign\
    \ key fk_t1_name;"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"t1\",\n          \"columns\": [\n          \
    \  {\n              \"name\": \"id\",\n              \"position\": 1,\n      \
    \        \"nullable\": true,\n              \"type\": \"int\"\n            },\n\
    \            {\n              \"name\": \"name\",\n              \"position\"\
    : 2,\n              \"nullable\": true,\n              \"type\": \"varchar\"\n\
    \            }\n          ],\n          \"indexes\": [\n            {\n      \
    \        \"name\": \"idx_name\",\n              \"expressions\": [\n         \
    \       \"name\"\n              ],\n              \"type\": \"BTREE\",\n     \
    \         \"visible\": true\n            }\n          ]\n        },\n        {\n\
    \          \"name\": \"t2\",\n          \"columns\": [\n            {\n      \
    \        \"name\": \"id\",\n              \"position\": 1,\n              \"nullable\"\
    : true,\n              \"type\": \"int\"\n            },\n            {\n    \
    \          \"name\": \"t1_name\",\n              \"position\": 2,\n          \
    \    \"nullable\": true,\n              \"type\": \"varchar\"\n            }\n\
    \          ]\n        }\n      ]\n    }\n  ]\n}"
  advice: null
- statement: "create table all_types(\n  c1 tinyblob not null,\n  c2 blob not null,\n\
    \  c3 mediumblob not null,\n  c4 longblob not null,\n  c5 tinytext not null,\n\
    \  c6 text not null,\n  c7 mediumtext not null,\n  c8 longtext not null,\n  c9\
    \ json not null,\n  c10 serial not null,\n  c11 long varbinary not null,\n  c12\
    \ long varchar not null \n);"
  ignore_case_sensitive: false
  want: "{\n  \"name\": \"test\",\n  \"schemas\": [\n    {\n      \"tables\": [\n\
    \        {\n          \"name\": \"all_types\",\n          \"columns\": [\n   \
    \         {\n              \"name\": \"c1\",\n              \"position\": 1,\n\
    \              \"type\": \"tinyblob\"\n            },\n            {\n       \
    \       \"name\": \"c2\",\n              \"position\": 2,\n              \"type\"\
    : \"blob\"\n            },\n            {\n              \"name\": \"c3\",\n \
    \             \"position\": 3,\n              \"type\": \"mediumblob\"\n     \
    \       },\n            {\n              \"name\": \"c4\",\n              \"position\"\
    : 4,\n              \"type\": \"longblob\"\n            },\n            {\n  \
    \            \"name\": \"c5\",\n              \"position\": 5,\n             \
    \ \"type\": \"tinytext\"\n            },\n            {\n              \"name\"\
    : \"c6\",\n              \"position\": 6,\n              \"type\": \"text\"\n\
    \            },\n            {\n              \"name\": \"c7\",\n            \
    \  \"position\": 7,\n              \"type\": \"mediumtext\"\n            },\n\
    \            {\n              \"name\": \"c8\",\n              \"position\": 8,\n\
    \              \"type\": \"longtext\"\n            },\n            {\n       \
    \       \"name\": \"c9\",\n              \"position\": 9,\n              \"type\"\
    : \"json\"\n            },\n            {\n              \"name\": \"c10\",\n\
    \              \"position\": 10,\n              \"type\": \"serial\"\n       \
    \     },\n            {\n              \"name\": \"c11\",\n              \"position\"\
    : 11,\n              \"type\": \"long\"\n            },\n            {\n     \
    \         \"name\": \"c12\",\n              \"position\": 12,\n              \"\
    type\": \"long\"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n\
    }"
  advice: null
